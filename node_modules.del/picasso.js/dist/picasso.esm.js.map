{"version":3,"file":"picasso.esm.js","sources":["../../../node_modules/path2d-polyfill/dist/index.esm.js","../../../node_modules/extend/index.js","../src/about.js","../src/core/dock-layout/dock-config.js","../src/core/dock-layout/dock-settings-resolver.js","../src/core/utils/is-number.js","../src/core/geometry/util.js","../src/core/dock-layout/dock-layout.js","../src/core/utils/event-type.js","../src/core/data/data.js","../../../node_modules/d3-path/src/path.js","../../../node_modules/d3-shape/src/constant.js","../../../node_modules/d3-shape/src/math.js","../../../node_modules/d3-shape/src/arc.js","../../../node_modules/d3-shape/src/curve/linear.js","../../../node_modules/d3-shape/src/point.js","../../../node_modules/d3-shape/src/line.js","../../../node_modules/d3-shape/src/area.js","../../../node_modules/d3-shape/src/descending.js","../../../node_modules/d3-shape/src/identity.js","../../../node_modules/d3-shape/src/pie.js","../../../node_modules/d3-shape/src/array.js","../../../node_modules/d3-shape/src/curve/basis.js","../../../node_modules/d3-shape/src/curve/cardinal.js","../../../node_modules/d3-shape/src/curve/catmullRom.js","../../../node_modules/d3-shape/src/curve/monotone.js","../../../node_modules/d3-shape/src/curve/natural.js","../../../node_modules/d3-shape/src/curve/step.js","../../../node_modules/d3-shape/src/offset/none.js","../../../node_modules/d3-shape/src/order/none.js","../../../node_modules/d3-shape/src/stack.js","../../../node_modules/d3-shape/src/offset/expand.js","../../../node_modules/d3-shape/src/offset/diverging.js","../../../node_modules/d3-shape/src/offset/silhouette.js","../../../node_modules/d3-shape/src/offset/wiggle.js","../../../node_modules/d3-shape/src/order/ascending.js","../../../node_modules/d3-shape/src/order/insideOut.js","../../../node_modules/d3-shape/src/order/reverse.js","../src/core/utils/registry.js","../../../node_modules/d3-format/src/formatDecimal.js","../../../node_modules/d3-format/src/exponent.js","../../../node_modules/d3-format/src/formatGroup.js","../../../node_modules/d3-format/src/formatNumerals.js","../../../node_modules/d3-format/src/formatSpecifier.js","../../../node_modules/d3-format/src/formatTrim.js","../../../node_modules/d3-format/src/formatPrefixAuto.js","../../../node_modules/d3-format/src/formatRounded.js","../../../node_modules/d3-format/src/formatTypes.js","../../../node_modules/d3-format/src/identity.js","../../../node_modules/d3-format/src/locale.js","../../../node_modules/d3-format/src/defaultLocale.js","../../../node_modules/d3-format/src/precisionFixed.js","../../../node_modules/d3-format/src/precisionPrefix.js","../../../node_modules/d3-format/src/precisionRound.js","../src/core/formatter/d3/numberFormat.js","../../../node_modules/d3-time/src/interval.js","../../../node_modules/d3-time/src/millisecond.js","../../../node_modules/d3-time/src/duration.js","../../../node_modules/d3-time/src/second.js","../../../node_modules/d3-time/src/minute.js","../../../node_modules/d3-time/src/hour.js","../../../node_modules/d3-time/src/day.js","../../../node_modules/d3-time/src/week.js","../../../node_modules/d3-time/src/month.js","../../../node_modules/d3-time/src/year.js","../../../node_modules/d3-time/src/utcMinute.js","../../../node_modules/d3-time/src/utcHour.js","../../../node_modules/d3-time/src/utcDay.js","../../../node_modules/d3-time/src/utcWeek.js","../../../node_modules/d3-time/src/utcMonth.js","../../../node_modules/d3-time/src/utcYear.js","../../../node_modules/d3-time-format/src/locale.js","../../../node_modules/d3-time-format/src/defaultLocale.js","../../../node_modules/d3-time-format/src/isoFormat.js","../../../node_modules/d3-time-format/src/isoParse.js","../src/core/formatter/d3/timeFormat.js","../src/core/formatter/index.js","../src/core/data/field.js","../src/core/data/stack.js","../src/core/data/extractor.js","../src/core/data/collections.js","../src/core/chart/formatter/index.js","../../../node_modules/d3-array/src/ascending.js","../../../node_modules/d3-array/src/bisector.js","../../../node_modules/d3-array/src/bisect.js","../../../node_modules/d3-array/src/range.js","../../../node_modules/d3-array/src/ticks.js","../../../node_modules/d3-collection/src/map.js","../../../node_modules/d3-collection/src/set.js","../../../node_modules/d3-scale/src/array.js","../../../node_modules/d3-scale/src/ordinal.js","../../../node_modules/d3-scale/src/band.js","../../../node_modules/d3-color/src/define.js","../../../node_modules/d3-color/src/color.js","../../../node_modules/d3-color/src/math.js","../../../node_modules/d3-color/src/lab.js","../../../node_modules/d3-color/src/cubehelix.js","../../../node_modules/d3-interpolate/src/constant.js","../../../node_modules/d3-interpolate/src/color.js","../../../node_modules/d3-interpolate/src/rgb.js","../../../node_modules/d3-interpolate/src/array.js","../../../node_modules/d3-interpolate/src/date.js","../../../node_modules/d3-interpolate/src/number.js","../../../node_modules/d3-interpolate/src/object.js","../../../node_modules/d3-interpolate/src/string.js","../../../node_modules/d3-interpolate/src/value.js","../../../node_modules/d3-interpolate/src/round.js","../../../node_modules/d3-interpolate/src/transform/decompose.js","../../../node_modules/d3-interpolate/src/zoom.js","../../../node_modules/d3-scale/src/constant.js","../../../node_modules/d3-scale/src/number.js","../../../node_modules/d3-scale/src/continuous.js","../../../node_modules/d3-scale/src/tickFormat.js","../../../node_modules/d3-scale/src/linear.js","../../../node_modules/d3-scale/src/threshold.js","../src/core/scales/ticks/tick-generators.js","../src/core/scales/settings-resolver.js","../src/core/scales/linear.js","../src/core/scales/band.js","../src/core/scales/h-band.js","../src/core/utils/min-max.js","../src/core/scales/color/sequential.js","../src/core/scales/color/threshold.js","../src/core/scales/ordinal.js","../src/core/scales/color/categorical.js","../src/core/chart/scales/index.js","../../../node_modules/node-event-emitter/index.js","../src/core/utils/event-emitter.js","../src/core/scroll-api/index.js","../src/core/chart/scroll-api/index.js","../src/core/brush/range-collection.js","../src/core/brush/value-collection.js","../src/core/brush/brush.js","../src/core/brush/index.js","../../../node_modules/d3-ease/src/cubic.js","../../../node_modules/d3-ease/src/sin.js","../../../node_modules/d3-ease/src/elastic.js","../src/core/component/tween.js","../src/core/chart-components/property-resolver/index.js","../src/core/scales/index.js","../src/core/component/settings-resolver.js","../src/core/component/brushing.js","../src/core/component/component-factory.js","../src/core/mediator/index.js","../src/core/math/vector.js","../src/core/math/intersection.js","../src/core/math/narrow-phase-collision.js","../src/core/style/resolver.js","../src/core/theme/index.js","../src/core/chart/index.js","../src/core/renderer/index.js","../src/core/component/index.js","../src/core/data/util.js","../src/core/data/extractor-matrix.js","../src/core/data/dataset.js","../src/core/data/index.js","../src/web/interactions/native/index.js","../src/core/interaction/index.js","../src/core/chart-components/box/box-math.js","../src/core/chart-components/box/box-shapes.js","../src/core/chart-components/box/box-resolver.js","../src/core/chart-components/box/box.js","../src/core/chart-components/box/index.js","../src/core/scene-graph/attributes.js","../src/core/symbols/circle.js","../src/core/utils/points-to-path.js","../src/core/symbols/diamond.js","../src/core/symbols/cross.js","../src/core/math/angles.js","../src/core/symbols/saltire.js","../src/core/symbols/square.js","../src/core/symbols/triangle.js","../src/core/symbols/line.js","../src/core/symbols/star.js","../src/core/symbols/n-polygon.js","../src/core/symbols/bar.js","../src/core/symbols/index.js","../src/core/chart-components/point/point.js","../src/core/chart-components/point/index.js","../src/core/chart-components/pie/pie.js","../src/core/chart-components/pie/index.js","../src/core/transposer/crispifier.js","../src/core/transposer/transposer.js","../src/core/chart-components/grid/line.js","../src/core/chart-components/grid/index.js","../src/core/chart-components/ref-line/oob.js","../src/core/chart-components/ref-line/lines-and-labels.js","../src/core/chart-components/ref-line/refline.js","../src/core/chart-components/ref-line/index.js","../src/core/chart-components/axis/axis-line-node.js","../src/core/chart-components/axis/axis-label-node.js","../src/core/chart-components/axis/axis-tick-node.js","../src/core/chart-components/axis/axis-label-size.js","../src/core/chart-components/axis/axis-node-builder.js","../src/core/chart-components/axis/axis-default-settings.js","../src/core/chart-components/axis/axis-size-calculator.js","../src/core/chart-components/axis/axis.js","../src/core/chart-components/axis/index.js","../src/core/chart-components/text/text.js","../src/core/chart-components/text/index.js","../src/core/chart-components/scrollbar/index.js","../src/web/components/brush-range/brush-range-const.js","../src/web/components/brush-range/brush-range-node-builder.js","../src/web/components/brush-range/brush-range-interaction.js","../src/web/components/brush-range/brush-range.js","../src/web/components/brush-range/brush-area-dir.js","../src/web/components/brush-range/index.js","../src/core/chart-components/range/range.js","../src/core/chart-components/range/index.js","../src/core/chart-components/brush-lasso/brush-lasso.js","../src/core/chart-components/brush-lasso/index.js","../src/core/chart-components/labels/strategies/bars.js","../src/core/chart-components/labels/strategies/slices.js","../src/core/chart-components/labels/strategies/rows.js","../src/core/chart-components/labels/strategies/index.js","../src/core/chart-components/labels/labels.js","../src/core/chart-components/labels/index.js","../src/core/chart-components/legend-cat/legend-resolver.js","../src/core/chart-components/legend-cat/item-renderer.js","../src/core/utils/class-string.js","../src/core/chart-components/legend-cat/navigation-renderer.js","../src/core/chart-components/legend-cat/title-renderer.js","../src/core/chart-components/legend-cat/legend-layout.js","../src/core/chart-components/legend-cat/legend-cat.js","../src/core/chart-components/legend-cat/index.js","../src/core/chart-components/legend-seq/node-builder.js","../src/core/chart-components/legend-seq/legend-seq.js","../src/core/chart-components/legend-seq/index.js","../src/core/chart-components/line/line.js","../src/core/chart-components/line/index.js","../src/web/components/brush-area/brush-area.js","../src/web/components/brush-area/index.js","../src/web/components/tooltip/extractor.js","../src/web/components/tooltip/render.js","../src/web/components/tooltip/timespan-dispatcher.js","../src/web/components/tooltip/placement.js","../src/web/components/tooltip/instance-handler.js","../src/web/components/tooltip/tooltip.js","../src/web/components/tooltip/index.js","../src/core/chart-components/debug/debug-collider.js","../src/core/math/arc-to-center.js","../src/core/math/curve-flattness.js","../src/core/math/cubic-bezier-curve-interpolation.js","../src/core/math/quad-bezier-curve-interpolation.js","../src/core/scene-graph/parse-path-d.js","../src/core/chart-components/debug/debug-path-to-points.js","../src/core/chart-components/debug/index.js","../src/api/components.js","../src/core/scene-graph/node.js","../src/core/geometry/rect.js","../src/core/geometry/circle.js","../src/core/geometry/line.js","../src/core/geometry/polygon.js","../src/core/geometry/polyline.js","../src/core/geometry/index.js","../src/core/geometry/geometry-collection.js","../src/core/math/matrix.js","../src/core/scene-graph/transform-resolver.js","../src/core/scene-graph/node-selector.js","../src/core/scene-graph/scene-node.js","../src/core/scene-graph/collision.js","../src/core/scene-graph/collision-resolver.js","../src/core/scene-graph/display-objects/display-object.js","../src/core/scene-graph/node-container.js","../src/core/scene-graph/display-objects/container.js","../src/core/scene-graph/display-objects/stage.js","../src/core/scene-graph/display-objects/gradient-item.js","../src/core/scene-graph/display-objects/rect.js","../src/core/scene-graph/display-objects/circle.js","../src/core/scene-graph/display-objects/line.js","../src/core/scene-graph/polyline-to-polygon-collider.js","../src/core/utils/flatten-array.js","../src/core/scene-graph/display-objects/path.js","../src/core/scene-graph/display-objects/text.js","../src/core/scene-graph/display-objects/index.js","../src/core/scene-graph/context.js","../src/core/scene-graph/scene.js","../src/web/text-manipulation/string-tokenizer.js","../src/web/text-manipulation/text-const.js","../src/web/text-manipulation/word-break.js","../src/web/text-manipulation/line-break-resolver.js","../src/web/text-manipulation/text-ellipsis.js","../src/web/text-manipulation/baseline-heuristic.js","../src/web/text-manipulation/text-metrics.js","../src/web/renderer/canvas-renderer/canvas-gradient.js","../src/web/renderer/renderer-box.js","../src/web/renderer/index.js","../src/web/text-manipulation/inject-textbounds.js","../src/web/renderer/canvas-renderer/canvas-renderer.js","../src/web/renderer/canvas-renderer/shapes/rect.js","../src/web/renderer/canvas-renderer/shapes/circle.js","../src/web/renderer/canvas-renderer/shapes/line.js","../src/core/utils/rtl-util.js","../src/web/renderer/canvas-renderer/shapes/text.js","../src/web/renderer/canvas-renderer/shapes/path.js","../src/web/renderer/canvas-renderer/index.js","../src/web/renderer/node-tree.js","../src/web/renderer/svg-renderer/svg-nodes.js","../src/web/renderer/svg-renderer/svg-tree.js","../src/core/utils/crypto.js","../src/web/renderer/svg-renderer/svg-gradient.js","../src/web/renderer/svg-renderer/svg-renderer.js","../../../node_modules/preact/dist/preact.mjs","../src/web/renderer/dom-renderer/dom-renderer.js","../src/web/renderer/dom-renderer/index.js","../src/api/renderers.js","../src/api/scales.js","../src/core/utils/logger.js","../src/core/theme/light/index.js","../src/index.js"],"sourcesContent":["var ARG_LENGTH = {\n  a: 7,\n  c: 6,\n  h: 1,\n  l: 2,\n  m: 2,\n  q: 4,\n  s: 4,\n  t: 2,\n  v: 1,\n  z: 0\n};\nvar SEGMENT_PATTERN = /([astvzqmhlc])([^astvzqmhlc]*)/ig;\nvar NUMBER = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig;\n\nfunction parseValues(args) {\n  var numbers = args.match(NUMBER);\n  return numbers ? numbers.map(Number) : [];\n}\n/**\n * parse an svg path data string. Generates an Array\n * of commands where each command is an Array of the\n * form `[command, arg1, arg2, ...]`\n *\n * https://www.w3.org/TR/SVG/paths.html#PathDataGeneralInformation\n * @ignore\n *\n * @param {string} path\n * @returns {array}\n */\n\n\nfunction parse(path) {\n  var data = [];\n  var p = String(path).trim(); // A path data segment (if there is one) must begin with a \"moveto\" command\n\n  if (p[0] !== 'M' && p[0] !== 'm') {\n    return data;\n  }\n\n  p.replace(SEGMENT_PATTERN, function (_, command, args) {\n    var type = command.toLowerCase();\n    args = parseValues(args); // overloaded moveTo\n\n    if (type === 'm' && args.length > 2) {\n      data.push([command].concat(args.splice(0, 2)));\n      type = 'l';\n      command = command === 'm' ? 'l' : 'L';\n    } // Ignore invalid commands\n\n\n    if (args.length < ARG_LENGTH[type]) {\n      return '';\n    }\n\n    data.push([command].concat(args.splice(0, ARG_LENGTH[type]))); // The command letter can be eliminated on subsequent commands if the\n    // same command is used multiple times in a row (e.g., you can drop the\n    // second \"L\" in \"M 100 200 L 200 100 L -100 -200\" and use\n    // \"M 100 200 L 200 100 -100 -200\" instead).\n\n    while (args.length >= ARG_LENGTH[type] && args.length && ARG_LENGTH[type]) {\n      data.push([command].concat(args.splice(0, ARG_LENGTH[type])));\n    }\n\n    return '';\n  });\n  return data;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n/**\n * Work around for https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8438884/\n * @ignore\n */\n\nfunction supportsSvgPathArgument(window) {\n  var canvas = window.document.createElement('canvas');\n  var g = canvas.getContext('2d');\n  var p = new window.Path2D('M0 0 L1 1');\n  g.strokeStyle = 'red';\n  g.lineWidth = 1;\n  g.stroke(p);\n  var imgData = g.getImageData(0, 0, 1, 1);\n  return imgData.data[0] === 255; // Check if pixel is red\n}\n\nfunction rotatePoint(point, angle) {\n  var nx = point.x * Math.cos(angle) - point.y * Math.sin(angle);\n  var ny = point.y * Math.cos(angle) + point.x * Math.sin(angle);\n  point.x = nx;\n  point.y = ny;\n}\n\nfunction translatePoint(point, dx, dy) {\n  point.x += dx;\n  point.y += dy;\n}\n\nfunction polyFillPath2D(window) {\n  if (typeof window === 'undefined' || !window.CanvasRenderingContext2D) {\n    return;\n  }\n\n  if (window.Path2D && supportsSvgPathArgument(window)) {\n    return;\n  }\n  /**\n     * Crates a Path2D polyfill object\n     * @constructor\n     * @ignore\n     * @param {String} path\n     */\n\n\n  var Path2D =\n  /*#__PURE__*/\n  function () {\n    function Path2D(path) {\n      _classCallCheck(this, Path2D);\n\n      this.segments = [];\n\n      if (path && path instanceof Path2D) {\n        var _this$segments;\n\n        (_this$segments = this.segments).push.apply(_this$segments, _toConsumableArray(path.segments));\n      } else if (path) {\n        this.segments = parse(path);\n      }\n    }\n\n    _createClass(Path2D, [{\n      key: \"addPath\",\n      value: function addPath(path) {\n        if (path && path instanceof Path2D) {\n          var _this$segments2;\n\n          (_this$segments2 = this.segments).push.apply(_this$segments2, _toConsumableArray(path.segments));\n        }\n      }\n    }, {\n      key: \"moveTo\",\n      value: function moveTo(x, y) {\n        this.segments.push(['M', x, y]);\n      }\n    }, {\n      key: \"lineTo\",\n      value: function lineTo(x, y) {\n        this.segments.push(['L', x, y]);\n      }\n    }, {\n      key: \"arc\",\n      value: function arc(x, y, r, start, end, ccw) {\n        this.segments.push(['AC', x, y, r, start, end, !!ccw]);\n      }\n    }, {\n      key: \"arcTo\",\n      value: function arcTo(x1, y1, x2, y2, r) {\n        this.segments.push(['AT', x1, y1, x2, y2, r]);\n      }\n    }, {\n      key: \"closePath\",\n      value: function closePath() {\n        this.segments.push(['Z']);\n      }\n    }, {\n      key: \"bezierCurveTo\",\n      value: function bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\n        this.segments.push(['C', cp1x, cp1y, cp2x, cp2y, x, y]);\n      }\n    }, {\n      key: \"quadraticCurveTo\",\n      value: function quadraticCurveTo(cpx, cpy, x, y) {\n        this.segments.push(['Q', cpx, cpy, x, y]);\n      }\n    }, {\n      key: \"rect\",\n      value: function rect(x, y, width, height) {\n        this.segments.push(['R', x, y, width, height]);\n      }\n    }]);\n\n    return Path2D;\n  }();\n\n  var cFill = window.CanvasRenderingContext2D.prototype.fill;\n  var cStroke = window.CanvasRenderingContext2D.prototype.stroke;\n\n  function buildPath(canvas, segments) {\n    var endAngle;\n    var startAngle;\n    var largeArcFlag;\n    var sweepFlag;\n    var endPoint;\n    var angle;\n    var x;\n    var x1;\n    var y;\n    var y1;\n    var r;\n    var b;\n    var w;\n    var h;\n    var pathType;\n    var centerPoint;\n    var cpx;\n    var cpy;\n    var qcpx;\n    var qcpy;\n    var ccw;\n    var currentPoint = {\n      x: 0,\n      y: 0\n    }; // Reset control point if command is not cubic\n\n    if (pathType !== 'S' && pathType !== 's' && pathType !== 'C' && pathType !== 'c') {\n      cpx = null;\n      cpy = null;\n    }\n\n    if (pathType !== 'T' && pathType !== 't' && pathType !== 'Q' && pathType !== 'q') {\n      qcpx = null;\n      qcpy = null;\n    }\n\n    canvas.beginPath();\n\n    for (var i = 0; i < segments.length; ++i) {\n      var s = segments[i];\n      pathType = s[0];\n\n      switch (pathType) {\n        case 'm':\n          x += s[1];\n          y += s[2];\n          canvas.moveTo(x, y);\n          break;\n\n        case 'M':\n          x = s[1];\n          y = s[2];\n          canvas.moveTo(x, y);\n          break;\n\n        case 'l':\n          x += s[1];\n          y += s[2];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'L':\n          x = s[1];\n          y = s[2];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'H':\n          x = s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'h':\n          x += s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'V':\n          y = s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'v':\n          y += s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'a':\n        case 'A':\n          if (pathType === 'a') {\n            x += s[6];\n            y += s[7];\n          } else {\n            x = s[6];\n            y = s[7];\n          }\n\n          r = s[1]; // s[2] = 2nd radius in ellipse, ignore\n          // s[3] = rotation of ellipse, ignore\n\n          largeArcFlag = s[4];\n          sweepFlag = s[5];\n          endPoint = {\n            x: x,\n            y: y\n          }; // translate all points so that currentPoint is origin\n\n          translatePoint(endPoint, -currentPoint.x, -currentPoint.y); // angle to destination\n\n          angle = Math.atan2(endPoint.y, endPoint.x); // rotate points so that angle is 0\n\n          rotatePoint(endPoint, -angle);\n          b = endPoint.x / 2; // var sweepAngle = Math.asin(b / r);\n\n          centerPoint = {\n            x: 0,\n            y: 0\n          };\n          centerPoint.x = endPoint.x / 2;\n\n          if (sweepFlag && !largeArcFlag || !sweepFlag && largeArcFlag) {\n            centerPoint.y = Math.sqrt(r * r - b * b);\n          } else {\n            centerPoint.y = -Math.sqrt(r * r - b * b);\n          }\n\n          startAngle = Math.atan2(-centerPoint.y, -centerPoint.x);\n          endAngle = Math.atan2(endPoint.y - centerPoint.y, endPoint.x - centerPoint.x); // rotate back\n\n          startAngle += angle;\n          endAngle += angle;\n          rotatePoint(endPoint, angle);\n          rotatePoint(centerPoint, angle); // translate points\n\n          translatePoint(endPoint, currentPoint.x, currentPoint.y);\n          translatePoint(centerPoint, currentPoint.x, currentPoint.y);\n          canvas.arc(centerPoint.x, centerPoint.y, r, startAngle, endAngle, !sweepFlag);\n          break;\n\n        case 'C':\n          cpx = s[3]; // Last control point\n\n          cpy = s[4];\n          x = s[5];\n          y = s[6];\n          canvas.bezierCurveTo(s[1], s[2], cpx, cpy, x, y);\n          break;\n\n        case 'c':\n          canvas.bezierCurveTo(s[1] + x, s[2] + y, s[3] + x, s[4] + y, s[5] + x, s[6] + y);\n          cpx = s[3] + x; // Last control point\n\n          cpy = s[4] + y;\n          x += s[5];\n          y += s[6];\n          break;\n\n        case 'S':\n          if (cpx === null || cpx === null) {\n            cpx = x;\n            cpy = y;\n          }\n\n          canvas.bezierCurveTo(2 * x - cpx, 2 * y - cpy, s[1], s[2], s[3], s[4]);\n          cpx = s[1]; // last control point\n\n          cpy = s[2];\n          x = s[3];\n          y = s[4];\n          break;\n\n        case 's':\n          if (cpx === null || cpx === null) {\n            cpx = x;\n            cpy = y;\n          }\n\n          canvas.bezierCurveTo(2 * x - cpx, 2 * y - cpy, s[1] + x, s[2] + y, s[3] + x, s[4] + y);\n          cpx = s[1] + x; // last control point\n\n          cpy = s[2] + y;\n          x += s[3];\n          y += s[4];\n          break;\n\n        case 'Q':\n          qcpx = s[1]; // last control point\n\n          qcpy = s[2];\n          x = s[3];\n          y = s[4];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 'q':\n          qcpx = s[1] + x; // last control point\n\n          qcpy = s[2] + y;\n          x += s[3];\n          y += s[4];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 'T':\n          if (qcpx === null || qcpx === null) {\n            qcpx = x;\n            qcpy = y;\n          }\n\n          qcpx = 2 * x - qcpx; // last control point\n\n          qcpy = 2 * y - qcpy;\n          x = s[1];\n          y = s[2];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 't':\n          if (qcpx === null || qcpx === null) {\n            qcpx = x;\n            qcpy = y;\n          }\n\n          qcpx = 2 * x - qcpx; // last control point\n\n          qcpy = 2 * y - qcpy;\n          x += s[1];\n          y += s[2];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 'z':\n        case 'Z':\n          canvas.closePath();\n          break;\n\n        case 'AC':\n          // arc\n          x = s[1];\n          y = s[2];\n          r = s[3];\n          startAngle = s[4];\n          endAngle = s[5];\n          ccw = s[6];\n          canvas.arc(x, y, r, startAngle, endAngle, ccw);\n          break;\n\n        case 'AT':\n          // arcTo\n          x1 = s[1];\n          y1 = s[2];\n          x = s[3];\n          y = s[4];\n          r = s[5];\n          canvas.arcTo(x1, y1, x, y, r);\n          break;\n\n        case 'R':\n          // rect\n          x = s[1];\n          y = s[2];\n          w = s[3];\n          h = s[4];\n          canvas.rect(x, y, w, h);\n          break;\n\n        default: // throw new Error(`${pathType} is not implemented`); ?\n\n      }\n\n      currentPoint.x = x;\n      currentPoint.y = y;\n    }\n  }\n\n  window.CanvasRenderingContext2D.prototype.fill = function fill() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var fillRule = 'nonzero';\n\n    if (args.length === 0 || args.length === 1 && typeof args[0] === 'string') {\n      cFill.apply(this, args);\n      return;\n    }\n\n    if (arguments.length === 2) {\n      fillRule = args[1];\n    }\n\n    var path = args[0];\n    buildPath(this, path.segments);\n    cFill.call(this, fillRule);\n  };\n\n  window.CanvasRenderingContext2D.prototype.stroke = function stroke(path) {\n    if (!path) {\n      cStroke.call(this);\n      return;\n    }\n\n    buildPath(this, path.segments);\n    cStroke.call(this);\n  };\n\n  window.Path2D = Path2D;\n}\n\nif (typeof window !== 'undefined') {\n  polyFillPath2D(window);\n}\n\nexport { polyFillPath2D as path2dPolyfill, parse as parsePath };\n//# sourceMappingURL=index.esm.js.map\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","export default { version: '0.15.0' };\n","/**\n * Initilize a new dock configuration\n * @private\n * @param {object} [settings] - Settings object\n * @returns {object} A dock configuration instance\n * @example\n * let instance = dockConfig({\n *  dock: 'left',\n *  displayOrder: 2,\n *  prioOrder: 1,\n *  requiredSize: () => 33,\n *  minimumLayoutMode: 'L',\n *  show: true\n * });\n */\nfunction dockConfig(settings = {}) {\n  let {\n    dock = '',\n    displayOrder = 0,\n    prioOrder = 0,\n    requiredSize = () => 0,\n    minimumLayoutMode,\n    show = true\n  } = settings;\n\n  /**\n   * @private\n   */\n  const fn = function fn() {};\n\n  /**\n   * Takes a function that returns the required size of a component.\n   * The return value of the function can either be a number representing the required size in the dock direction\n   * or an object with a `size` and `edgeBleed` property.\n   * @param {function} [calcFn] - Function to calculate the required size of a component\n   * @returns {function|this} If no parameter is passed, the current requiredSize function is return. Else the current context is returns to allow chaining.\n   * @example\n   * dockConfig.requireSize(() => 150); // Require a size of 150 in the dock direction\n   *\n   * dockConfig.requireSize(() => ({\n   *  size: 150,\n   *  edgeBleed: {\n   *    left: 50,\n   *    right: 50\n   *  }\n   * })); // Require a size of 150 in the dock direction and a bleed size of 50 to the left and right dock direction\n   */\n  fn.requiredSize = function requiredSizeFn(calcFn) {\n    if (typeof calcFn === 'function') {\n      requiredSize = calcFn;\n      return this;\n    }\n    return requiredSize;\n  };\n\n  /**\n   * Set the dock direction, supported values are left | right | top | bottom. Any other value will be interpreted as center dock.\n   * @param {string} [d=''] - Dock direction\n   * @returns {this} The current context\n   * @example\n   * dockConfig.dock('left');\n   */\n  fn.dock = function dockFn(d) {\n    if (typeof d === 'undefined') {\n      return dock;\n    }\n    dock = d;\n    return this;\n  };\n\n  /**\n   * The `displayOrder` property is used by the layout engine to lay out components.\n   * Components are interpreted in the ascending order of the `displayOrder` value. The layout engine apply the value in two ways,\n   * the first is the order in which components are rendererd. The second is the area components are laid out in\n   * when they have a direction, i.e. docked to either top, bottom, left or right.\n   *\n   * If docked at the same area, the component with a higher `displayOrder` will be rendered\n   * on top of the component with a lower `displayOrder`. It can be seen as defining a z-index.\n   * A lower `displayOrder` also means that a component will be laid out first in a given direction,\n   * i.e. laid out closer to the central area (non-directional area) then a component with a higher `displayOrder`.\n   * It can in this case be seen as the x-index or y-index.\n   * @param {number} [order=0] - The display order\n   * @returns {this} The current context\n   * @example\n   * dockConfig.displayOrder(99);\n   */\n  fn.displayOrder = function displayOrderFn(order) {\n    if (typeof order === 'undefined') {\n      return displayOrder;\n    }\n    displayOrder = order;\n    return this;\n  };\n\n  /**\n   * The `prioOrder` property is used to define the order in which components are added to the layout engine,\n   * this is done before any components are laid out. When there is not enough space to add any more components\n   * to a given area, all components not all ready added, are then discarded. The `prioOrder` is interpreted\n   * in the ascending order. Such that a lower value is added to the layout engine first.\n   * @param {number} [order=0] - The prio order\n   * @returns {this} The current context\n   * @example\n   * dockConfig.prioOrder(-1);\n   */\n  fn.prioOrder = function prioOrderFn(order) {\n    if (typeof order === 'undefined') {\n      return prioOrder;\n    }\n    prioOrder = order;\n    return this;\n  };\n\n  /**\n   * Ger or set the minimumLayoutMode\n   * @param {string|object} [s] - The minimum layout mode\n   * @returns {string|object|this} If no parameter is passed the current context is returned, else the current layout mode.\n   * @example\n   * dockConfig.minimumLayoutMode('L');\n   * dockConfig.minimumLayoutMode({ width: 'S', height: 'L' });\n   */\n  fn.minimumLayoutMode = function minimumLayoutModeFn(s) {\n    if (typeof s === 'undefined') {\n      return minimumLayoutMode;\n    }\n    minimumLayoutMode = s;\n    return this;\n  };\n\n  /**\n   * Set the component visibility. If false the component is not added to the layout engine.\n   * @param {boolean} [s=true] - Toggle visibility\n   * @returns {this} The current context\n   */\n  fn.show = function showFn(s) {\n    if (typeof s === 'undefined') {\n      return show;\n    }\n    show = !!s;\n    return this;\n  };\n\n  return fn;\n}\n\nexport { dockConfig as default };\n","import extend from 'extend';\n\nfunction roundRect(rect) {\n  rect.x = Math.ceil(rect.x);\n  rect.y = Math.ceil(rect.y);\n  rect.width = Math.ceil(rect.width);\n  rect.height = Math.ceil(rect.height);\n}\n\nfunction getRect(container, settings) {\n  const containerRect = {\n    x: 0, y: 0, width: 0, height: 0\n  };\n  const logicalContainerRect = {\n    x: 0, y: 0, width: 0, height: 0\n  };\n\n  // Check input object for size\n  if (typeof container.getBoundingClientRect === 'function') {\n    const boundingRect = container.getBoundingClientRect();\n    containerRect.width = boundingRect.width;\n    containerRect.height = boundingRect.height;\n  } else {\n    containerRect.width = container.width || 0;\n    containerRect.height = container.height || 0;\n  }\n\n  // Check settings defintion for size\n  if (typeof settings.size !== 'undefined') {\n    containerRect.width = isNaN(settings.size.width) ? containerRect.width : settings.size.width;\n    containerRect.height = isNaN(settings.size.height) ? containerRect.height : settings.size.height;\n  }\n\n  if (typeof settings.logicalSize !== 'undefined') {\n    logicalContainerRect.width = isNaN(settings.logicalSize.width) ? containerRect.width : settings.logicalSize.width;\n    logicalContainerRect.height = isNaN(settings.logicalSize.height) ? containerRect.height : settings.logicalSize.height;\n    logicalContainerRect.align = isNaN(settings.logicalSize.align) ? 0.5 : Math.min(Math.max(settings.logicalSize.align, 0), 1);\n    logicalContainerRect.preserveAspectRatio = settings.logicalSize.preserveAspectRatio;\n  } else {\n    logicalContainerRect.width = containerRect.width;\n    logicalContainerRect.height = containerRect.height;\n    logicalContainerRect.preserveAspectRatio = false;\n  }\n\n  roundRect(logicalContainerRect);\n  roundRect(containerRect);\n\n  return [logicalContainerRect, containerRect];\n}\n\nexport default function resolveLayout(container, settings) {\n  return getRect(container, settings);\n}\n\nexport function resolveSettings(s) {\n  const settings = {\n    logicalSize: {\n      preserveAspectRatio: false\n    },\n    center: {\n      minWidthRatio: 0.5,\n      minHeightRatio: 0.5,\n      minWidth: 0,\n      minHeight: 0\n    }\n  };\n\n  extend(true, settings, s);\n\n  settings.center.minWidthRatio = Math.min(Math.max(settings.center.minWidthRatio, 0), 1); // Only accept value between 0-1\n  settings.center.minHeightRatio = Math.min(Math.max(settings.center.minHeightRatio, 0), 1); // Only accept value between 0-1\n  settings.center.minWidth = Math.max(settings.center.minWidth, 0); // Consider <= 0 to be falsy and fallback to ratio\n  settings.center.minHeight = Math.max(settings.center.minHeight, 0); // Consider <= 0 to be falsy and fallback to ratio\n\n  return settings;\n}\n","export function isNumber(v) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\nexport function notNumber(value) {\n  return typeof value !== 'number' || isNaN(value);\n}\n","import { isNumber } from '../utils/is-number';\n\nexport function getMinMax(points) {\n  const num = points.length;\n  let xMin = NaN;\n  let xMax = NaN;\n  let yMin = NaN;\n  let yMax = NaN;\n\n  for (let i = 0; i < num; i++) {\n    xMin = isNaN(xMin) ? points[i].x : Math.min(xMin, points[i].x);\n    xMax = isNaN(xMax) ? points[i].x : Math.max(xMax, points[i].x);\n    yMin = isNaN(yMin) ? points[i].y : Math.min(yMin, points[i].y);\n    yMax = isNaN(yMax) ? points[i].y : Math.max(yMax, points[i].y);\n  }\n  return [xMin, yMin, xMax, yMax];\n}\n\n/**\n * @ignore\n * @param {oject} line\n * @returns {point[]} Array of points\n */\nexport function lineToPoints(line) {\n  const x1 = line.x1 || 0;\n  const y1 = line.y1 || 0;\n  const x2 = line.x2 || 0;\n  const y2 = line.y2 || 0;\n  return [{ x: x1, y: y1 }, { x: x2, y: y2 }];\n}\n\n/**\n * @ignore\n * @param {oject} rect\n * @returns {point[]} Array of points\n */\nexport function rectToPoints(rect) {\n  return [\n    { x: rect.x, y: rect.y },\n    { x: rect.x + rect.width, y: rect.y },\n    { x: rect.x + rect.width, y: rect.y + rect.height },\n    { x: rect.x, y: rect.y + rect.height }\n  ];\n}\n\nexport function pointsToRect(points) {\n  const [xMin, yMin, xMax, yMax] = getMinMax(points);\n\n  return {\n    x: xMin,\n    y: yMin,\n    width: xMax - xMin,\n    height: yMax - yMin\n  };\n}\n\nexport function pointsToCircle(points, r) {\n  return {\n    cx: points[0].x,\n    cy: points[0].y,\n    r\n  };\n}\n\nexport function pointsToLine(points) {\n  return {\n    x1: points[0].x,\n    y1: points[0].y,\n    x2: points[1].x,\n    y2: points[1].y\n  };\n}\n\nexport function pointToArray(p) {\n  return [p.x, p.y];\n}\n\nexport function arrayToPoint(ary) {\n  return { x: ary[0], y: ary[1] };\n}\n\n/**\n * @ignore\n * @param {oject}\n * @returns {string} Type of geometry\n */\nexport function getShapeType(shape) {\n  const {\n    x, y, // Point\n    width, height, // Rect\n    x1, x2, y1, y2, // Line\n    cx, cy, r, // Circle\n    vertices // Polygon\n  } = shape || {};\n\n  if (isNumber(cx) && isNumber(cy) && isNumber(r)) {\n    return 'circle';\n  }\n  if (isNumber(x1) && isNumber(x2) && isNumber(y1) && isNumber(y2)) {\n    return 'line';\n  }\n  if (isNumber(x) && isNumber(y) && isNumber(width) && isNumber(height)) {\n    return 'rect';\n  }\n  if (isNumber(x) && isNumber(y)) {\n    return 'point';\n  }\n  if (Array.isArray(vertices)) {\n    return 'polygon';\n  }\n  return null;\n}\n","import extend from 'extend';\nimport dockConfig from './dock-config';\nimport resolveLayout, { resolveSettings } from './dock-settings-resolver';\nimport { rectToPoints, pointsToRect } from '../geometry/util';\n\nfunction validateComponent(component) {\n  const expectedProperties = ['resize'];\n\n  expectedProperties.forEach((p) => {\n    if (typeof component[p] !== 'function') {\n      throw new Error(`Component is missing required function \"${p}\"`);\n    }\n  });\n}\n\nfunction cacheSize(c, reducedRect, containerRect) {\n  if (typeof c.cachedSize === 'undefined') {\n    const size = c.config.requiredSize()(reducedRect, containerRect);\n    if (typeof size === 'object') {\n      c.cachedSize = Math.ceil(size.size);\n      c.edgeBleed = size.edgeBleed;\n    } else {\n      c.cachedSize = Math.ceil(size);\n    }\n  }\n  return c.cachedSize;\n}\n\nfunction validateReduceRect(logicalContainerRect, reducedRect, settings) {\n  // Absolute value for width/height should have predence over relative value\n  const minReduceWidth = Math.min(settings.center.minWidth, logicalContainerRect.width) || Math.max(logicalContainerRect.width * settings.center.minWidthRatio, 1);\n  const minReduceHeight = Math.min(settings.center.minHeight, logicalContainerRect.height) || Math.max(logicalContainerRect.height * settings.center.minHeightRatio, 1);\n  return reducedRect.width >= minReduceWidth && reducedRect.height >= minReduceHeight;\n}\n\nfunction reduceDocRect(reducedRect, c) {\n  switch (c.config.dock()) {\n    case 'top':\n      reducedRect.y += c.cachedSize;\n      reducedRect.height -= c.cachedSize;\n      break;\n    case 'bottom':\n      reducedRect.height -= c.cachedSize;\n      break;\n    case 'left':\n      reducedRect.x += c.cachedSize;\n      reducedRect.width -= c.cachedSize;\n      break;\n    case 'right':\n      reducedRect.width -= c.cachedSize;\n      break;\n    default:\n  }\n}\nfunction addEdgeBleed(currentEdgeBleed, c) {\n  const edgeBleed = c.edgeBleed;\n  if (!edgeBleed) { return; }\n  currentEdgeBleed.left = Math.max(currentEdgeBleed.left, edgeBleed.left || 0);\n  currentEdgeBleed.right = Math.max(currentEdgeBleed.right, edgeBleed.right || 0);\n  currentEdgeBleed.top = Math.max(currentEdgeBleed.top, edgeBleed.top || 0);\n  currentEdgeBleed.bottom = Math.max(currentEdgeBleed.bottom, edgeBleed.bottom || 0);\n}\nfunction reduceEdgeBleed(logicalContainerRect, reducedRect, edgeBleed) {\n  if (reducedRect.x < edgeBleed.left) {\n    reducedRect.width -= edgeBleed.left - reducedRect.x;\n    reducedRect.x = edgeBleed.left;\n  }\n  const reducedRectRightBoundary = logicalContainerRect.width - (reducedRect.x + reducedRect.width);\n  if (reducedRectRightBoundary < edgeBleed.right) {\n    reducedRect.width -= edgeBleed.right - reducedRectRightBoundary;\n  }\n  if (reducedRect.y < edgeBleed.top) {\n    reducedRect.height -= edgeBleed.top - reducedRect.y;\n    reducedRect.y = edgeBleed.top;\n  }\n  const reducedRectBottomBoundary = logicalContainerRect.height - (reducedRect.y + reducedRect.height);\n  if (reducedRectBottomBoundary < edgeBleed.bottom) {\n    reducedRect.height -= edgeBleed.bottom - reducedRectBottomBoundary;\n  }\n}\n\nfunction reduceSingleLayoutRect(logicalContainerRect, reducedRect, edgeBleed, c, settings) {\n  const newReduceRect = extend({}, reducedRect);\n  const newEdgeBeed = extend({}, edgeBleed);\n  reduceDocRect(newReduceRect, c);\n  addEdgeBleed(newEdgeBeed, c);\n  reduceEdgeBleed(logicalContainerRect, newReduceRect, newEdgeBeed);\n\n  const isValid = validateReduceRect(logicalContainerRect, newReduceRect, settings);\n  if (!isValid) {\n    return false;\n  }\n\n  reduceDocRect(reducedRect, c);\n  addEdgeBleed(edgeBleed, c);\n  return true;\n}\n\nfunction reduceLayoutRect(logicalContainerRect, components, hiddenComponents, settings) {\n  const reducedRect = {\n    x: logicalContainerRect.x,\n    y: logicalContainerRect.y,\n    width: logicalContainerRect.width,\n    height: logicalContainerRect.height\n  };\n  const edgeBleed = {\n    left: 0, right: 0, top: 0, bottom: 0\n  };\n\n  const sortedComponents = components.slice();\n  sortedComponents.sort((a, b) => a.config.prioOrder() - b.config.prioOrder()); // lower prioOrder will have higher prio\n\n  for (let i = 0; i < sortedComponents.length; ++i) {\n    const c = sortedComponents[i];\n    cacheSize(c, reducedRect, logicalContainerRect);\n\n    if (!reduceSingleLayoutRect(logicalContainerRect, reducedRect, edgeBleed, c, settings)) {\n      sortedComponents.splice(i, 1);\n      hiddenComponents.push(c.instance);\n      --i;\n    }\n  }\n\n  const filteredUnsortedComps = components.filter(c => sortedComponents.indexOf(c) !== -1);\n  components.length = 0;\n  components.push(...filteredUnsortedComps);\n  reduceEdgeBleed(logicalContainerRect, reducedRect, edgeBleed);\n  return reducedRect;\n}\n\nfunction appendScaleRatio(rect, outerRect, logicalContainerRect, containerRect) {\n  const scaleRatio = {\n    x: containerRect.width / logicalContainerRect.width,\n    y: containerRect.height / logicalContainerRect.height\n  };\n  const margin = {\n    left: 0,\n    top: 0\n  };\n\n  if (logicalContainerRect.preserveAspectRatio) {\n    const xLessThenY = scaleRatio.x < scaleRatio.y;\n    // To preserve the aspect ratio, take the smallest ratio and apply in both directions to \"meet\" the size of the container\n    const minRatio = Math.min(scaleRatio.x, scaleRatio.y);\n    scaleRatio.x = minRatio;\n    scaleRatio.y = minRatio;\n    const area = xLessThenY ? 'height' : 'width';\n    const spread = (containerRect[area] - (logicalContainerRect[area] * scaleRatio.x)) * logicalContainerRect.align;\n    margin.left = xLessThenY ? 0 : spread;\n    margin.top = xLessThenY ? spread : 0;\n  }\n\n  rect.scaleRatio = scaleRatio;\n  rect.margin = margin;\n  outerRect.scaleRatio = scaleRatio;\n  outerRect.margin = margin;\n  logicalContainerRect.scaleRatio = scaleRatio;\n  logicalContainerRect.margin = margin;\n}\n\nfunction boundingBox(rects) {\n  const points = [].concat(...rects.map(rectToPoints));\n  return pointsToRect(points);\n}\n\nfunction positionComponents(components, logicalContainerRect, reducedRect, containerRect) {\n  const vRect = {\n    x: reducedRect.x, y: reducedRect.y, width: reducedRect.width, height: reducedRect.height\n  };\n  const hRect = {\n    x: reducedRect.x, y: reducedRect.y, width: reducedRect.width, height: reducedRect.height\n  };\n\n  const referencedComponents = {};\n\n  components.sort((a, b) => {\n    if (/^@/.test(b.config.dock())) {\n      return -1;\n    }\n    if (/^@/.test(a.config.dock())) {\n      return 1;\n    }\n    return a.config.displayOrder() - b.config.displayOrder();\n  }).forEach((c) => {\n    let outerRect = {};\n    let rect = {};\n    const d = c.config.dock();\n    switch (d) {\n      case 'top':\n        outerRect.height = rect.height = c.cachedSize;\n        outerRect.width = logicalContainerRect.width;\n        rect.width = vRect.width;\n        outerRect.x = logicalContainerRect.x;\n        rect.x = vRect.x;\n        outerRect.y = rect.y = vRect.y - c.cachedSize;\n\n        vRect.y -= c.cachedSize;\n        vRect.height += c.cachedSize;\n        break;\n      case 'bottom':\n        outerRect.x = logicalContainerRect.x;\n        rect.x = vRect.x;\n        outerRect.y = rect.y = vRect.y + vRect.height;\n        outerRect.width = logicalContainerRect.width;\n        rect.width = vRect.width;\n        outerRect.height = rect.height = c.cachedSize;\n\n        vRect.height += c.cachedSize;\n        break;\n      case 'left':\n        outerRect.x = rect.x = hRect.x - c.cachedSize;\n        outerRect.y = logicalContainerRect.y;\n        rect.y = hRect.y;\n        outerRect.width = rect.width = c.cachedSize;\n        outerRect.height = logicalContainerRect.height;\n        rect.height = hRect.height;\n\n        hRect.x -= c.cachedSize;\n        hRect.width += c.cachedSize;\n        break;\n      case 'right':\n        outerRect.x = rect.x = hRect.x + hRect.width;\n        outerRect.y = logicalContainerRect.y;\n        rect.y = hRect.y;\n        outerRect.width = rect.width = c.cachedSize;\n        outerRect.height = logicalContainerRect.height;\n        rect.height = hRect.height;\n\n        hRect.width += c.cachedSize;\n        break;\n      default:\n        outerRect.x = rect.x = reducedRect.x;\n        outerRect.y = rect.y = reducedRect.y;\n        outerRect.width = rect.width = reducedRect.width;\n        outerRect.height = rect.height = reducedRect.height;\n    }\n    if (/^@/.test(d)) {\n      const refs = d.split(',').map(r => referencedComponents[r.replace('@', '')]).filter(r => !!r);\n      if (refs.length > 0) {\n        outerRect = boundingBox(refs.map(r => r.outerRect));\n        rect = boundingBox(refs.map(r => r.rect));\n      }\n    } else if (c.key) {\n      referencedComponents[c.key] = { // store the size of this component\n        rect,\n        outerRect\n      };\n    }\n    appendScaleRatio(rect, outerRect, logicalContainerRect, containerRect);\n    c.instance.resize(rect, outerRect, logicalContainerRect);\n    c.cachedSize = undefined;\n  });\n}\n\nfunction checkShowSettings(components, hiddenComponents, settings, logicalContainerRect) {\n  const layoutModes = settings.layoutModes || {};\n  for (let i = 0; i < components.length; ++i) {\n    const c = components[i];\n    const minimumLayoutMode = c.config.minimumLayoutMode();\n    let show = c.config.show();\n    if (show && typeof minimumLayoutMode === 'object') {\n      show = layoutModes[minimumLayoutMode.width]\n        && layoutModes[minimumLayoutMode.height]\n        && logicalContainerRect.width >= layoutModes[minimumLayoutMode.width].width\n        && logicalContainerRect.height >= layoutModes[minimumLayoutMode.height].height;\n    } else if (show && minimumLayoutMode !== undefined) {\n      show = layoutModes[minimumLayoutMode]\n        && logicalContainerRect.width >= layoutModes[minimumLayoutMode].width\n        && logicalContainerRect.height >= layoutModes[minimumLayoutMode].height;\n    }\n    if (!show) {\n      components.splice(i, 1);\n      hiddenComponents.push(c.instance);\n      --i;\n    }\n  }\n}\n\n/**\n * @typedef {object} dock-layout-settings\n * @property {object} [size] - Physical size. Defaults to the container element.\n * @property {number} [size.width] - Width in pixels\n * @property {number} [size.height]- Height in pixels\n * @property {object} [logicalSize] - Logical size\n * @property {number} [logicalSize.width] - Width in pixels\n * @property {number} [logicalSize.height] - Height in pixels\n * @property {boolean} [logicalSize.preserveAspectRatio=false] - If true, takes the smallest ratio of width/height between logical and physical size ( physical / logical )\n * @property {number} [logicalSize.align=0.5] - Normalized value between 0-1. Defines how the space around the scaled axis is spread in the container, with 0.5 meaning the spread is equal on both sides. Only applicable if preserveAspectRatio is set to true\n * @property {object} [center] - Define how much space the center dock area requires\n * @property {number} [center.minWidthRatio=0.5] - Value between 0 and 1\n * @property {number} [center.minHeightRatio=0.5] - Value between 0 and 1\n * @property {number} [center.minWidth] - Width in pixels\n * @property {number} [center.minHeight] - Height in pixels\n * @property {object<string, {width: number, height: number}>} [layoutModes] Dictionary with named sizes\n */\n\nexport default function dockLayout(initialSettings) {\n  const components = [];\n  const hiddenComponents = [];\n  let settings = resolveSettings(initialSettings);\n\n  const docker = function docker() {};\n\n  docker.addComponent = function addComponent(component, key) {\n    validateComponent(component);\n    docker.removeComponent(component);\n\n    // component.dockConfig can be undefined, a function or an object:\n    // if undefined: use default values from dockConfig()\n    // if function: use the function\n    // if object: wrap in dockConfig() function\n    components.push({\n      instance: component,\n      key,\n      config: typeof component.dockConfig === 'function' ? component.dockConfig : dockConfig(component.dockConfig)\n    });\n  };\n\n  docker.removeComponent = function removeComponent(component) {\n    const idx = components.map(c => c.instance).indexOf(component);\n    if (idx > -1) {\n      components.splice(idx, 1);\n    }\n  };\n\n  docker.layout = function layout(container) {\n    const [logicalContainerRect, containerRect] = resolveLayout(container, settings);\n    checkShowSettings(components, hiddenComponents, settings, logicalContainerRect);\n    const reduced = reduceLayoutRect(logicalContainerRect, components, hiddenComponents, settings);\n    positionComponents(components, logicalContainerRect, reduced, containerRect);\n    return {\n      visible: components.map(c => c.instance),\n      hidden: hiddenComponents\n    };\n  };\n\n  docker.settings = function settingsFn(s) {\n    settings = resolveSettings(s);\n  };\n\n  return docker;\n}\n","export function detectPointerSupport(e) {\n  if ('onpointerdown' in e && 'onpointerup' in e) {\n    return true;\n  }\n  return false;\n}\n\nexport function detectTouchSupport(e) {\n  if ('ontouchstart' in e && 'ontouchend' in e) {\n    return true;\n  }\n  return false;\n}\n\nexport function isTouchEvent(e) {\n  return !!e.changedTouches;\n}\n\nexport function isValidTapEvent(e, eventInfo) {\n  const isTouch = isTouchEvent(e);\n  const ee = isTouch ? e.changedTouches[0] : e;\n  const dt = Date.now() - eventInfo.time;\n  const dx = isNaN(eventInfo.x) ? 0 : Math.abs(ee.clientX - eventInfo.x);\n  const dy = isNaN(eventInfo.y) ? 0 : Math.abs(ee.clientY - eventInfo.y);\n\n  return (e.button === 0 || isTouch)\n    && !eventInfo.multiTouch\n    && dx <= 12\n    && dy <= 12\n    && dt <= 300;\n}\n","// import types from './types';\n\n/**\n * @ignore\n * @param {Array<data-source>} dataSources\n * @param {any} { logger }\n * @returns {function}\n */\nexport default function datasets(dataSources, { types, logger }) {\n  const data = {};\n\n  const sets = [];\n  if (!Array.isArray(dataSources)) {\n    logger.warn('Deprecated: \"data-source\" configuration\"');\n    sets.push(dataSources);\n  } else {\n    sets.push(...dataSources);\n  }\n\n  sets.forEach((d, i) => {\n    let datasetFactory = types(d.type);\n    if (datasetFactory) {\n      let key = d.key || i;\n      let dataset = datasetFactory({\n        key,\n        data: d.data,\n        config: d.config\n      });\n      data[d.key || i] = dataset;\n    }\n  });\n\n  /**\n   * Returns the `dataset` which has `key` as identifier\n   * @ignore\n   * @param {string} key - The dataset identifier\n   * @returns {dataset}\n   */\n  const fn = (key) => {\n    if (key) {\n      return data[key];\n    }\n    return data[Object.keys(data)[0]];\n  };\n  return fn;\n}\n\n/**\n * @typedef {object} data-source\n * @property {string} key - Unique identifier for this data source\n * @property {string} type - The dataset type\n * @property {any} data\n */\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi) {\n          var oc = da0 > epsilon ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","export var slice = Array.prototype.slice;\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import none from \"./none\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = none(series).sort(function(a, b) { return sums[b] - sums[a]; }),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","export default function registryFactory(parentRegistry) {\n  let defaultValue;\n  const reg = {};\n  const parent = parentRegistry || {\n    get: () => undefined,\n    has: () => false,\n    default: () => undefined\n  };\n\n  defaultValue = parent.default();\n\n  /**\n   * @private\n   * @param {string} key\n   * @param {any} value\n   * @throws {TypeError} Key must be a non-empty string\n   * @returns {boolean} False if the given key already exists, true otherwise\n   * @example\n   * var r = registry();\n   * r.add( \"marker\", function(args) {\n   *   return new markers[args.type](args);\n   * });\n   *\n   */\n  function add(key, value) {\n    if (!key || typeof key !== 'string') {\n      throw new TypeError('Invalid argument: key must be a non-empty string');\n    }\n    if (key in reg) {\n      return false;\n    }\n    reg[key] = value;\n    return true;\n  }\n\n  function get(key) {\n    return reg[key] || parent.get(key);\n  }\n\n  function has(key) {\n    return !!reg[key] || parent.has(key);\n  }\n\n  function remove(key) {\n    const d = reg[key];\n    delete reg[key];\n    return d;\n  }\n\n  function getKeys() {\n    return Object.keys(reg);\n  }\n\n  function getValues() {\n    return Object.keys(reg).map(key => reg[key]);\n  }\n\n  function deflt(d) {\n    if (typeof d !== 'undefined') {\n      defaultValue = d;\n    }\n    return defaultValue;\n  }\n\n  /**\n   * @alias registry\n   * @interface\n   * @param {string} key\n   * @param {any} value\n   */\n  function registry(key, value) {\n    if (typeof value !== 'undefined') {\n      return add(key, value);\n    }\n    return get(key || defaultValue);\n  }\n\n  registry.add = add;\n  registry.get = get;\n  registry.has = has;\n  registry.remove = remove;\n  registry.getKeys = getKeys;\n  registry.getValues = getValues;\n  registry.default = deflt;\n  registry.register = add; // deprecated\n\n  return registry;\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import { formatLocale } from 'd3-format';\n\nexport default function formatter(pattern, thousand, decimal) {\n  let locale,\n    d3format;\n\n  /**\n   * Format a value according to the specified pattern created at construct\n   * @private\n   *\n   * @param  {Number} value   The number to be formatted\n   * @return {String}         [description]\n   */\n  function format(value) {\n    return d3format(value);\n  }\n\n  /**\n    * Set the locale for the formatter\n    *\n    * @param  {Object} args   Locale object for formatting\n    * @return {Undefined}      Returns nothing\n    */\n  format.locale = function localeFn(settings) {\n    locale = formatLocale(settings);\n    d3format = locale.format(pattern);\n\n    return this;\n  };\n\n  /**\n   * Resets the formatter using format.locale\n   * @ignore\n   */\n  function reset() {\n    format.locale({\n      decimal: decimal || '.',\n      thousands: thousand || ',',\n      grouping: [3],\n      currency: ['$', '']\n    });\n  }\n  reset();\n\n  /**\n    * Format a value according to a specific pattern\n    * that is not the one specified in the constructor\n    *\n    * @param  {String} p   Pattern\n    * @param  {Number} v   Value\n    * @param  {String} t   Thousand\n    * @param  {String} d   Decimal\n    * @return {String}     Formatted value\n    */\n  format.format = function formatFn(p, v, t, d) {\n    if (t || d) {\n      thousand = t;\n      decimal = d;\n      reset();\n    }\n    return locale.format(p)(v);\n  };\n\n  /**\n   * Change the pattern on existing formatter\n   *\n   * @param  {String} p     Pattern (optional)\n   * @return {String}       Returns the pattern\n   */\n  format.pattern = function patternFn(p) {\n    if (p) {\n      pattern = p;\n      d3format = locale.format(p);\n    }\n    return pattern;\n  };\n\n  return format;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import { timeFormatLocale } from 'd3-time-format';\n\nexport default function formatter(pattern) { // eslint-disable-line import/prefer-default-export\n  let locale = timeFormatLocale({\n    dateTime: '%x, %X',\n    date: '%-m/%-d/%Y',\n    time: '%-I:%M:%S %p',\n    periods: ['AM', 'PM'],\n    days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    shortDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n  });\n\n  let d3format = locale.format(pattern);\n\n  /**\n   * Format a value according to the specified pattern created at construct\n   *\n   * @param  {Date} value   The number to be formatted\n   * @return {String}         [description]\n   * @private\n   */\n  function format(value) {\n    return d3format(value);\n  }\n\n  /**\n    * Format a value according to a specific pattern\n    * that is not the one specified in the constructor\n    *\n    * @param  {String} p   Pattern\n    * @param  {Date} v   Value\n    * @return {String}     Formatted value\n    */\n  format.format = function formatFn(p, v) {\n    return locale.format(p)(v);\n  };\n\n  /**\n   * Set the locale for the formatter\n   *\n   * @param  {Object} args   Locale object for formatting\n   * @return {Undefined}      Returns nothing\n   */\n  format.locale = function localeFn(...args) {\n    locale = timeFormatLocale(...args);\n    d3format = locale.format(pattern);\n\n    return this;\n  };\n\n  /**\n   * Parse a string to a date according to a pattern\n   *\n   * @param  {String} p   Pattern\n   * @param  {String} v   Value\n   * @return {Date}     Date\n   */\n  format.parse = function parse(p, v) {\n    return locale.parse(p)(v);\n  };\n\n  /**\n   * Returns a parser that parses strings to date according to the pattern\n   *\n   * @param  {String} p   Pattern\n   * @return {Function}   Parser\n   */\n  format.parsePattern = function parsePattern(p) {\n    return locale.parse(p);\n  };\n\n  return format;\n}\n","import registry from '../utils/registry';\n\nimport { numberFormat as d3NumberFormatter, timeFormat as d3TimeFormatter } from './d3';\n\nconst formatterRegistry = registry();\n\nformatterRegistry('d3-number', d3NumberFormatter);\nformatterRegistry('d3-time', d3TimeFormatter);\n\nexport { formatterRegistry as default };\n","/* eslint no-return-assign: 0 */\nimport formatterFn from '../formatter';\n\n// TODO - decide whether usage of .call() is appropriate when invoking accessors, if yes then arrow functions are not allowed!\n\nconst getFormatter = (data) => {\n  if (typeof data.formatter === 'function') {\n    return data.formatter();\n  }\n  const f = data.formatter || {};\n  return formatterFn(f.type || 'd3-number')(f.format || '');\n};\n\nconst accessors = {\n  id: data => `${data.source}/${data.key || data.title}`,\n  key: data => String(data.key || data.title),\n  tags: data => data.tags,\n  min: data => data.min,\n  max: data => data.max,\n  type: data => data.type,\n  title: data => String(data.title),\n  values: data => data.values,\n  value: v => v,\n  label: v => v,\n  formatter: data => getFormatter(data)\n};\n\n/**\n * Create a new field with default settings\n * @ignore\n * @return {field} Data field\n */\nexport default function field(data, {\n  id = accessors.id,\n  key = accessors.key,\n  min = accessors.min,\n  max = accessors.max,\n  type = accessors.type,\n  tags = accessors.tags,\n  title = accessors.title,\n  values = accessors.values,\n  value = accessors.value,\n  label = accessors.label,\n  formatter = accessors.formatter\n} = {}) {\n  /**\n   * @alias field\n   */\n  const f = {\n\n    /**\n     * Returns this field's id\n     * @returns {string}\n     */\n    id: () => id(data),\n\n    /**\n     * Returns this field's key\n     * @returns {string}\n     */\n    key: () => key(data),\n\n    /**\n     * Returns the input data\n     * @returns {any}\n     */\n    raw: () => data,\n    /**\n     * Returns the tags.\n     * @return {Array<string>}\n     */\n    tags: () => tags(data),\n\n    /**\n     * Returns this field's type: 'dimension' or 'measure'.\n     * @return {string}\n     */\n    type: () => type(data),\n\n    /**\n     * Returns the min value of this field.\n     * @return {number}\n     */\n    min: () => min(data),\n\n    /**\n     * Returns the max value of this field.\n     * @return {number}\n     */\n    max: () => max(data),\n\n    /**\n     * Returns this field's title.\n     * @return {string}\n     */\n    title: () => title(data),\n\n    /**\n     * Returns the values of this field.\n     * @return {Array<datum-extract>}\n     */\n    items: () => values(data),\n\n    /**\n     * Returns a formatter adapted to the content of this field.\n     */\n    formatter: () => formatter(data),\n\n    value,\n    label\n  };\n\n  return f;\n}\n","import {\n  stack,\n  stackOrderAscending,\n  stackOrderInsideOut,\n  stackOrderNone,\n  stackOrderReverse,\n  stackOffsetDiverging,\n  stackOffsetNone,\n  stackOffsetSilhouette,\n  stackOffsetExpand,\n  stackOffsetWiggle\n} from 'd3-shape';\nimport fieldFn from './field';\n\nconst OFFSETS = {\n  diverging: stackOffsetDiverging,\n  none: stackOffsetNone,\n  silhouette: stackOffsetSilhouette,\n  expand: stackOffsetExpand,\n  wiggle: stackOffsetWiggle\n};\n\nconst ORDERS = {\n  ascending: stackOrderAscending,\n  insideout: stackOrderInsideOut,\n  none: stackOrderNone,\n  reverse: stackOrderReverse\n};\n\nfunction stacked(data, config, ds) {\n  const stackIds = {};\n  const stackFn = config.stackKey;\n  const valueFn = config.value;\n  const startProp = config.startProp || 'start';\n  const endProp = config.endProp || 'end';\n  const offset = config.offset || 'none';\n  const order = config.order || 'none';\n  const valueRef = config.valueRef || '';\n\n  let maxStackCount = 0;\n\n  let valueFields = {};\n\n  for (let i = 0; i < data.items.length; i++) {\n    let p = data.items[i];\n    let sourceField = valueRef ? p[valueRef] : null;\n    if (sourceField && sourceField.source) {\n      let ff = `${sourceField.source.key || ''}/${sourceField.source.field}`;\n      if (!valueFields[ff]) {\n        valueFields[ff] = sourceField.source;\n      }\n    }\n    let sid = stackFn(p);\n    stackIds[sid] = stackIds[sid] || { items: [] };\n    stackIds[sid].items.push(p);\n\n    maxStackCount = Math.max(maxStackCount, stackIds[sid].items.length);\n  }\n\n  const keys = Array.apply(null, { length: maxStackCount }).map(Number.call, Number); // eslint-disable-line\n  const matrix = Object.keys(stackIds).map(sid => stackIds[sid].items);\n\n  const d3Stack = stack()\n    .keys(keys)\n    .value((s, key) => (s[key] ? valueFn(s[key]) : 0))\n    .order(ORDERS[order])\n    .offset(OFFSETS[offset]);\n\n  let series = d3Stack(matrix);\n  let values = [];\n\n  for (let i = 0; i < series.length; i++) {\n    let serie = series[i];\n    for (let s = 0; s < serie.length; s++) {\n      let range = serie[s];\n      let item = serie[s].data[serie.key];\n      if (!item) {\n        continue;\n      }\n      item[startProp] = { value: range[0] };\n      item[endProp] = { value: range[1] };\n      values.push(range[0], range[1]);\n    }\n  }\n\n  let stackedFields = Object.keys(valueFields).map((f) => {\n    let dSource = ds(valueFields[f].key);\n    return dSource ? dSource.field(valueFields[f].field) : null;\n  }).filter(f => !!f);\n\n  const field = fieldFn({\n    title: stackedFields.map(f => f.title()).join(', '),\n    min: Math.min(...values),\n    max: Math.max(...values),\n    type: 'measure',\n    formatter: stackedFields[0] ? stackedFields[0].formatter : undefined\n  });\n  data.fields.push(field);\n}\n\nexport { stacked as default };\n","import stack from './stack';\n\nexport default function extract(dataConfig, data = {}, opts = {}) {\n  const extracted = {\n    // items: [],\n    // fields: [],\n    // source: null,\n    // value: null,\n    // label: null,\n    // children: null,\n    // root: null,\n    // graph: null\n  };\n\n  const logger = opts.logger;\n\n  if (Array.isArray(dataConfig)) { // if data is an array, assume it's manual data input -> normalize\n    extracted.items = dataConfig.map(v => ({ value: v, label: String(v) }));\n  } else if (dataConfig) {\n    if ('collection' in dataConfig) {\n      return data.collection(dataConfig.collection);\n    }\n    const source = data.dataset ? data.dataset(dataConfig.source) : null;\n    let valueFn = dataConfig.value || (d => d);\n    let labelFn = dataConfig.label || (d => d);\n    if (dataConfig.groupBy || dataConfig.mapTo) { // DEPRECATION\n      logger.warn('Deprecated \"data\" configuration', dataConfig);\n      extracted.items = [];\n    } else if (dataConfig.hierarchy) {\n      extracted.root = source.hierarchy ? source.hierarchy(dataConfig.hierarchy) : null;\n      extracted.fields = source.fields();\n    } else if (dataConfig.items) {\n      extracted.items = dataConfig.items.map(v => ({ value: valueFn(v), label: String(labelFn(v)) }));\n    } else if (dataConfig.extract) {\n      const extractionsConfigs = Array.isArray(dataConfig.extract) ? dataConfig.extract : [dataConfig.extract];\n      extracted.items = [];\n      const sourceFields = [];\n      extractionsConfigs.forEach((cfg) => {\n        const s = cfg.source ? data.dataset(cfg.source) : source;\n        if (!s) {\n          return;\n        }\n        extracted.items.push(...s.extract(cfg));\n        if (typeof cfg.field !== 'undefined') {\n          sourceFields.push(s.field(cfg.field));\n        }\n      });\n      if (sourceFields.length) {\n        extracted.fields = sourceFields;\n      }\n      if (dataConfig.amend && Array.isArray(dataConfig.amend)) {\n        extracted.items.push(...dataConfig.amend);\n      }\n    } else if (typeof dataConfig.field !== 'undefined' && source) {\n      const f = source.field(dataConfig.field);\n      if (f) {\n        if (!extracted.fields) {\n          extracted.fields = [];\n        }\n        extracted.fields.push(f);\n        if (!('value' in dataConfig)) {\n          valueFn = f.value || (v => v);\n          labelFn = f.label || (v => v);\n          extracted.value = valueFn;\n        }\n        extracted.items = f.items().map(v => ({ value: valueFn(v), label: String(labelFn(v)), source: { field: dataConfig.field } }));\n        // TODO - add source: { key: dataConfig.source, field: dataConfig.field, data: v }\n      }\n    } else if (dataConfig.fields) {\n      dataConfig.fields.forEach((obj) => {\n        const s = typeof obj === 'object' && obj.source ? data.dataset(obj.source) : source;\n        if (!s) {\n          return;\n        }\n        let f;\n        if (typeof obj === 'object' && typeof obj.field !== 'undefined') {\n          f = s.field(obj.field);\n        } else {\n          f = s.field(obj);\n        }\n        if (f) {\n          if (!extracted.fields) {\n            extracted.fields = [];\n          }\n          extracted.fields.push(f);\n        }\n      });\n    }\n\n    if (extracted.items && dataConfig.map) {\n      extracted.items = extracted.items.map(dataConfig.map);\n    }\n  }\n\n  if (dataConfig && dataConfig.stack) {\n    stack(extracted, dataConfig.stack, data.dataset);\n  }\n  if (dataConfig && !Array.isArray(dataConfig) && typeof dataConfig.sort === 'function' && extracted.items) {\n    extracted.items = extracted.items.sort(dataConfig.sort);\n  }\n  return extracted;\n}\n","import extend from 'extend';\nimport extract from './extractor';\n\nfunction create(config, d, opts, extractor = extract) {\n  const collections = {};\n\n  (config || []).forEach((cfg) => {\n    if (!cfg.key) {\n      throw new Error('Data collection is missing \"key\" property');\n    }\n    if (typeof cfg.data === 'object' && 'collection' in cfg.data) {\n      throw new Error('Data config for collections may not reference other collections');\n    }\n    collections[cfg.key] = extractor(cfg.data, d, opts);\n  });\n\n  const fn = (key) => {\n    let k;\n    let cfg;\n    if (typeof key === 'string') {\n      k = key;\n    } else if (typeof key === 'object') {\n      k = key.key;\n      cfg = key;\n    }\n    if (!(k in collections)) {\n      throw new Error(`Unknown data collection: ${k}`);\n    }\n    let coll = collections[k];\n    if (cfg) {\n      if (cfg.fields && cfg.fields.filter) {\n        let filtered = coll.fields.filter(cfg.fields.filter);\n        if (coll.fields.length !== filtered.length) {\n          coll = extend(coll, { fields: filtered });\n        }\n      }\n    }\n\n    return coll;\n  };\n\n  return fn;\n}\n\nexport { create as default };\n","import extractData from '../../data/extractor';\n\nexport function create(options, data, deps, extractor = extractData) {\n  if (options.data) {\n    const d = extractor(options.data, data, deps);\n    if (d && d.fields && d.fields[0]) {\n      // TODO Have some magic to handle and merge formatters from multiple sources\n      return d.fields[0].formatter();\n    }\n  }\n\n  let formatterType;\n  if (options.formatter) {\n    formatterType = `${options.formatter}-${options.type || 'number'}`;\n  } else {\n    formatterType = options.type || 'd3-number';\n  }\n\n  if (deps.formatter.has(formatterType)) {\n    const f = deps.formatter.get(formatterType)(options.format || '');\n    return f;\n  }\n\n  throw new Error(`Formatter of type '${formatterType}' was not found`);\n}\n\nexport default function builder(obj, data, deps) {\n  const formatters = {};\n  for (const f in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, f)) {\n      formatters[f] = create(obj[f], data, deps);\n    }\n  }\n  return formatters;\n}\n\nexport function getOrCreateFormatter(v, formatters, data, deps) {\n  let f;\n  if (typeof v === 'string' && formatters[v]) { // return by name\n    f = formatters[v];\n  } else if (typeof v === 'object' && 'formatter' in v && formatters[v.formatter]) { // return by { formatter: \"name\" }\n    f = formatters[v.formatter];\n  } else if (typeof v === 'object' && 'type' in v && formatters[v.type]) { // return by { formatter: \"name\" }\n    f = formatters[v.type];\n  }\n\n  return f || create(v, data, deps);\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import { notNumber } from '../../utils/is-number';\n\nfunction applyFormat(formatter) {\n  return typeof formatter === 'undefined' ? t => t : t => formatter(t);\n}\n\nfunction clamp(val) {\n  return Math.max(0, Math.min(1, val));\n}\n\nfunction isObject(obj) {\n  return typeof obj === 'object';\n}\n\nfunction minorTicksGenerator(count, start, end) {\n  const r = Math.abs(start - end);\n  const interval = r / (count + 1);\n  const ticks = [];\n  for (let i = 1; i <= count; i++) {\n    const v = i * interval;\n    ticks.push(start < end ? start + v : start - v);\n  }\n  return ticks;\n}\n\nfunction appendMinorTicks(majorTicks, minorCount, scale) {\n  if (majorTicks.length === 1) { return majorTicks; }\n\n  const ticks = majorTicks.concat([]);\n\n  for (let i = 0; i < majorTicks.length; i++) {\n    let start = majorTicks[i];\n    let end = majorTicks[i + 1];\n\n    if (i === 0 && start !== scale.start()) { // Before and after first major tick\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n      start -= end - start;\n      end = majorTicks[i];\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n    } else if (i === majorTicks.length - 1 && end !== scale.end()) { // After last major tick\n      end = start + (start - majorTicks[i - 1]);\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n    } else {\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n    }\n  }\n\n  return ticks.filter(t => t >= scale.min() && t <= scale.max());\n}\n\n/**\n* Generate ticks based on a distance, for each 100th unit, one additional tick may be added\n* @private\n* @param  {Number} distance       Distance between each tick\n* @param  {Number} scale         The scale instance\n* @param  {Number} [minorCount=0]     Number of tick added between each distance\n* @param  {Number} [unitDivider=100]   Number to divide distance with\n* @return {Array}               Array of ticks\n*/\nexport function looseDistanceBasedGenerator({\n  distance, scale, minorCount = 0, unitDivider = 100, formatter = undefined\n}) {\n  const step = !notNumber(unitDivider) && !notNumber(distance) ? Math.max(distance / unitDivider, 2) : 2;\n  const count = Math.min(1000, Math.round(step)); // safe guard against huge numbers\n  let majorTicks = scale.ticks(count);\n  if (majorTicks.length <= 1) {\n    majorTicks = scale.ticks(count + 1);\n  }\n\n  const ticks = minorCount > 0 ? appendMinorTicks(majorTicks, minorCount, scale) : majorTicks;\n  ticks.sort((a, b) => a - b);\n\n  const ticksFormatted = ticks.map(applyFormat(formatter));\n\n  return ticks.map((tick, i) => {\n    const position = scale(tick);\n    return {\n      position,\n      start: position,\n      end: position,\n      label: ticksFormatted[i],\n      value: tick,\n      isMinor: majorTicks.indexOf(tick) === -1\n    };\n  });\n}\n\n/**\n* Generate ticks based on a distance, for each 100th unit, one additional tick may be added.\n* Will attempt to round the bounds of domain to even values and generate ticks hitting the domain bounds.\n* @private\n* @param  {Number} distance       Distance between each tick\n* @param  {Number} scale         The scale instance\n* @param  {Number} [minorCount=0]     Number of tick added between each distance\n* @param  {Number} [unitDivider=100]   Number to divide distance with\n* @return {Array}               Array of ticks\n*/\nexport function tightDistanceBasedGenerator({\n  distance, scale, minorCount = 0, unitDivider = 100, formatter = undefined\n}) {\n  const step = !notNumber(unitDivider) && !notNumber(distance) ? Math.max(distance / unitDivider, 2) : 2;\n  const count = Math.min(1000, Math.round(step)); // safe guard against huge numbers\n  const n = count > 10 ? 10 : count;\n  scale.nice(n);\n\n  const majorTicks = scale.ticks(count);\n  const ticks = minorCount > 0 ? appendMinorTicks(majorTicks, minorCount, scale) : majorTicks;\n  ticks.sort((a, b) => a - b);\n\n  const ticksFormatted = ticks.map(applyFormat(formatter));\n\n  return ticks.map((tick, i) => {\n    const position = scale(tick);\n    return {\n      position,\n      start: position,\n      end: position,\n      label: ticksFormatted[i],\n      value: tick,\n      isMinor: majorTicks.indexOf(tick) === -1\n    };\n  });\n}\n\nfunction ticksByCount({\n  count, minorCount, scale, formatter\n}) {\n  return scale\n    .ticks(((count - 1) * minorCount) + count)\n    .map((tick, i) => {\n      const position = scale(tick);\n      return {\n        position,\n        start: position,\n        end: position,\n        label: formatter(tick),\n        isMinor: i % (minorCount + 1) !== 0,\n        value: tick\n      };\n    });\n}\n\nfunction ticksByValue({ values, scale, formatter = v => v }) {\n  return values\n    .sort((a, b) => (isObject(a) ? a.value : a) - (isObject(b) ? b.value : b))\n    .filter((v, i, ary) => {\n      const val = isObject(v) ? v.value : v;\n      return val <= scale.max() && val >= scale.min() && ary.indexOf(v) === i;\n    })\n    .map((v) => {\n      const value = isObject(v) ? v.value : v;\n      const position = scale(value);\n      return {\n        position,\n        value,\n        label: isObject(v) && typeof v.label !== 'undefined' ? v.label : formatter(value),\n        isMinor: false,\n        start: isObject(v) && !isNaN(v.start) ? clamp(scale(v.start)) : position, // TODOHandle end < start?\n        end: isObject(v) && !isNaN(v.end) ? clamp(scale(v.end)) : position // TODO Handle start > end?\n      };\n    });\n}\n\nfunction forceTicksAtBounds(ticks, scale, formatter) {\n  const ticksP = ticks.map(t => t.position);\n  const range = scale.range();\n\n  if (ticksP.indexOf(range[0]) === -1) {\n    ticks.splice(0, 0, {\n      position: range[0],\n      start: range[0],\n      end: range[0],\n      label: formatter(scale.start()),\n      isMinor: false,\n      value: scale.start()\n    });\n  } else if (ticks[0] && ticks[0].isMinor) {\n    ticks[0].isMinor = false; // Convert to major tick\n  }\n\n  const lastTick = ticks[ticks.length - 1];\n  if (ticksP.indexOf(range[1]) === -1) {\n    ticks.push({\n      position: range[1],\n      start: range[1],\n      end: range[1],\n      label: formatter(scale.end()),\n      isMinor: false,\n      value: scale.end()\n    });\n  } else if (lastTick && lastTick.isMinor) {\n    lastTick.isMinor = false; // Convert to major tick\n  }\n}\n\nexport function generateContinuousTicks({\n  settings, scale, distance, formatter\n}) {\n  let ticks;\n  const minorCount = settings.minorTicks && !notNumber(settings.minorTicks.count) ? Math.min(100, settings.minorTicks.count) : 0;\n\n  if (Array.isArray(settings.ticks.values)) {\n    const values = settings.ticks.values.filter(v => (typeof v === 'object' ? !notNumber(v.value) : !notNumber(v)));\n    ticks = ticksByValue({ values, scale: scale.copy(), formatter });\n  } else if (!notNumber(settings.ticks.count)) {\n    const count = Math.min(1000, settings.ticks.count);\n    ticks = ticksByCount({\n      count, minorCount, scale: scale.copy(), formatter\n    });\n  } else {\n    const tickGen = settings.ticks.tight ? tightDistanceBasedGenerator : looseDistanceBasedGenerator;\n    ticks = tickGen({\n      distance,\n      minorCount,\n      unitDivider: settings.ticks.distance,\n      scale,\n      formatter\n    });\n\n    if (settings.ticks.forceBounds) {\n      forceTicksAtBounds(ticks, scale, formatter);\n    }\n  }\n\n  return ticks;\n}\n\nexport function generateDiscreteTicks({ scale }) {\n  const domain = scale.domain();\n  const values = domain;\n  const dataItems = scale.data().items;\n  const labels = scale.labels ? scale.labels() : values;\n  const bandwidth = scale.bandwidth();\n\n  return values.map((d, i) => {\n    const start = scale(d);\n    return {\n      position: start + (bandwidth / 2),\n      label: `${labels[i]}`,\n      data: dataItems ? dataItems[i] : undefined,\n      start,\n      end: start + bandwidth\n    };\n  });\n}\n","export default function resolveSettings(settings = {}, defaultSettings = {}, context = {}) {\n  const stngs = {};\n\n  Object.keys(defaultSettings).forEach((key) => {\n    const type = typeof settings[key];\n\n    if (type === 'function') {\n      stngs[key] = settings[key](context);\n    } else if (type === 'undefined') {\n      stngs[key] = defaultSettings[key];\n    } else {\n      stngs[key] = settings[key];\n    }\n  });\n\n  return stngs;\n}\n","import { scaleLinear as d3ScaleLinear } from 'd3-scale';\nimport extend from 'extend';\n\nimport { notNumber } from '../utils/is-number';\nimport { generateContinuousTicks } from './ticks/tick-generators';\nimport resolveSettings from './settings-resolver';\n\nexport const DEFAULT_SETTINGS = {\n  min: NaN,\n  max: NaN,\n  expand: NaN,\n  include: [],\n  invert: false\n};\n\nexport const DEFAULT_TICKS_SETTINGS = {\n  tight: false,\n  forceBounds: false,\n  values: undefined,\n  count: NaN,\n  distance: 100\n};\n\nexport const DEFAULT_MINORTICKS_SETTINGS = {\n  count: NaN\n};\n\n/**\n * @typedef {object} scale--linear\n * @property {string} [type='linear']\n * @property {number} [expand] - Expand the output range\n * @property {boolean} [invert=false] - Invert the output range\n * @property {number[]} [include] - Include specified numbers in the output range\n * @property {object} [ticks]\n * @property {boolean} [ticks.tight = false]\n * @property {boolean} [ticks.forceBounds = false]\n * @property {number} [ticks.distance = 100]  - Approximate distance between each tick\n * @property {number[]|object[]} [ticks.values] - If set, ticks are no longer generated but instead equal to this set\n * @property {number} [ticks.count]\n * @property {object} [minorTicks]\n * @property {number} [minorTicks.count = 3]\n * @property {number} [min] - Set an explicit minimum value\n * @property {number} [max] - Set an explicit maximum value\n */\n\nfunction getMinMax(settings, fields) {\n  const min = +settings.min;\n  const max = +settings.max;\n  let fieldMin = 0;\n  let fieldMax = 1;\n  if (fields && fields[0]) {\n    const minValues = fields.map(m => m.min()).filter(v => !isNaN(v));\n    const maxValues = fields.map(m => m.max()).filter(v => !isNaN(v));\n    fieldMin = minValues.length ? Math.min(...minValues) : Number.NaN;\n    fieldMax = maxValues.length ? Math.max(...maxValues) : Number.NaN;\n\n    if (isNaN(fieldMin) || isNaN(fieldMax)) {\n      fieldMin = -1;\n      fieldMax = 1;\n    } else if (fieldMin === fieldMax && fieldMin === 0) {\n      fieldMin = -1;\n      fieldMax = 1;\n    } else if (fieldMin === fieldMax && fieldMin) {\n      fieldMin -= Math.abs(fieldMin * 0.1);\n      fieldMax += Math.abs(fieldMax * 0.1);\n    } else if (!isNaN(settings.expand)) {\n      const range = fieldMax - fieldMin;\n      fieldMin -= range * settings.expand;\n      fieldMax += range * settings.expand;\n    }\n\n    if (Array.isArray(settings.include)) {\n      const i = settings.include.filter(n => !isNaN(n));\n      fieldMin = Math.min(...i, fieldMin);\n      fieldMax = Math.max(...i, fieldMax);\n    }\n  }\n\n  return {\n    mini: !isNaN(min) ? min : fieldMin,\n    maxi: !isNaN(max) ? max : fieldMax\n  };\n}\n\nfunction initNormScale(normScale, scale) {\n  if (normScale.instance) {\n    return;\n  }\n  normScale.instance = scale.copy();\n  normScale.instance.domain([scale.start(), scale.end()]);\n  normScale.instance.clamp(true);\n  normScale.instance.range(normScale.invert ? [1, 0] : [0, 1]);\n}\n/**\n * @alias scaleLinear\n * @private\n * @param { object } settings\n * @param { field[] } [fields]\n * @return { linear }\n */\n\nexport default function scaleLinear(settings = {}, data = {}, resources = {}) {\n  const d3Scale = d3ScaleLinear();\n  const normScale = { instance: null, invert: false };\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n  stgns.ticks = resolveSettings(settings.ticks, DEFAULT_TICKS_SETTINGS, ctx);\n  stgns.minorTicks = resolveSettings(settings.minorTicks, DEFAULT_MINORTICKS_SETTINGS, ctx);\n  let tickCache;\n\n  /**\n   * @alias linear\n   * @private\n   * @param { Object } value\n   * @return { number }\n   */\n  function fn(v) {\n    if (notNumber(v)) {\n      return NaN;\n    }\n    return d3Scale(v);\n  }\n\n  fn.data = () => data;\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_invert }\n   * @param { number } value The inverted value\n   * @return { number } The inverted scaled value\n   */\n  fn.invert = function invert(value) {\n    return d3Scale.invert(value);\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_rangeRound }\n   * @param { number[] } values Range values\n   * @return { linear } The instance this method was called on\n   */\n  fn.rangeRound = function rangeRound(values) {\n    d3Scale.rangeRound(values);\n    return fn;\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_clamp }\n   * @param { boolean } [ value=true ] TRUE if clamping should be enabled\n   * @return { linear } The instance this method was called on\n   */\n  fn.clamp = function clamp(value = true) {\n    d3Scale.clamp(value);\n    return fn;\n  };\n\n  /**\n   * Get cached ticks (if any)\n   * @return { number | undefined }\n   */\n  fn.cachedTicks = function fnCachedTicks() {\n    return tickCache;\n  };\n\n  /**\n   * Clear the tick cache\n   * @return {number | undefined}\n   */\n  fn.clearTicksCache = function fnClearTicks() {\n    tickCache = undefined;\n    return this;\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_ticks }\n   * @param { Object } input Number of ticks to generate or an object passed to tick generator\n   * @return { number[] | Object } Array of ticks or any type the custom tick generator returns\n   */\n  fn.ticks = function ticks(input) {\n    if (input !== null && typeof input === 'object') {\n      input.settings = input.settings || {};\n      // TODO Discontinue support for custom ticks settings as argument\n      input.settings = extend(true, {}, stgns, input.settings);\n      input.scale = fn;\n      tickCache = generateContinuousTicks(input);\n      return tickCache;\n    }\n\n    tickCache = d3Scale.ticks(input);\n    return tickCache;\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_nice }\n   * @param { number } count\n   * @return { linear } The instance this method was called on\n   */\n  fn.nice = function nice(count) {\n    d3Scale.nice(count);\n\n    return fn;\n  };\n\n  // TODO Support this?\n  fn.tickFormat = function tickFormat(count, format) {\n    return d3Scale.tickFormat(count, format);\n  };\n\n  // TODO Support this?\n  fn.interpolate = function interpolate(func) {\n    d3Scale.interpolate(func);\n    return fn;\n  };\n\n  /**\n   * @param { number[] } [values] Set or Get domain values\n   * @return { linear | Number[] } The instance this method was called on if a parameter is provided, otherwise the current domain is returned\n   */\n  fn.domain = function domain(values) {\n    if (arguments.length) {\n      d3Scale.domain(values);\n      if (normScale.instance) {\n        normScale.instance.domain([fn.start(), fn.end()]);\n      }\n      return fn;\n    }\n    return d3Scale.domain();\n  };\n\n  /**\n   * @param { number[] } [values] Set or Get range values\n   * @return { linear | number[] } The instance this method was called on if a parameter is provided, otherwise the current range is returned\n   */\n  fn.range = function range(values) {\n    if (arguments.length) {\n      d3Scale.range(values);\n\n      return fn;\n    }\n    return d3Scale.range();\n  };\n\n  /**\n   * Get the first value of the domain\n   * @return { number }\n   */\n  fn.start = function start() {\n    return fn.domain()[0];\n  };\n\n  /**\n   * Get the last value of the domain\n   * @return { number }\n   */\n  fn.end = function end() {\n    return fn.domain()[this.domain().length - 1];\n  };\n\n  /**\n   * Get the minimum value of the domain\n   * @return { number }\n   */\n  fn.min = function min() {\n    return Math.min(this.start(), this.end());\n  };\n\n  /**\n   * Get the maximum value of the domain\n   * @return { number }\n   */\n  fn.max = function max() {\n    return Math.max(this.start(), this.end());\n  };\n\n  /**\n   * Divides the domain and range into uniform segments, based on start and end value\n   * @param  { number } segments The number of segments\n   * @return { function } The instance this method was called on\n   * @example\n   * let s = linear();\n   * s.domain([0, 10]);\n   * s.range([0, 1]);\n   * s.classify( 2 );\n   * s.domain(); // [10, 5, 5, 0]\n   * s.range(); // [0.75, 0.75, 0.25, 0.25]\n   */\n  fn.classify = function classify(segments) {\n    let valueRange = (fn.start() - fn.end()) / segments,\n      domain = [fn.end()],\n      range = [],\n      samplePos = valueRange / 2;\n\n    for (let i = 0; i < segments; i++) {\n      let lastVal = domain[domain.length - 1] || 0,\n        calIntervalPos = lastVal + valueRange,\n        calSamplePos = lastVal + samplePos,\n        sampleColValue = fn(calSamplePos);\n\n      domain.push(...[calIntervalPos, calIntervalPos]);\n      range.push(...[sampleColValue, sampleColValue]);\n    }\n    domain.pop();\n    fn.domain(domain);\n    fn.range(range);\n\n    return fn;\n  };\n\n  fn.copy = function copy() {\n    const cop = scaleLinear(settings, data, resources);\n    cop.domain(fn.domain());\n    cop.range(fn.range());\n    cop.clamp(d3Scale.clamp());\n    return cop;\n  };\n\n  /**\n   * @param {number} d - A domain value\n   * @return {number} A normalized range output given in range 0-1\n   * @example\n   * const scale = scaleLinear().domain([0, 10]).range([0, 10000]);\n   * scale.norm(5); // Returns 0.5\n   * scale(5); // Returns 5000\n   *\n   * scale.domain([0, 2, 10]);\n   * scale.norm(5); // Returns 0.5\n   */\n  fn.norm = function norm(d) {\n    initNormScale(normScale, fn);\n\n    return normScale.instance(d);\n  };\n\n  /**\n   * @param {number} d - A normalized value in range 0-1\n   * @return {number} A corresponding domain value\n   * @example\n   * const scale = scaleLinear().domain([0, 10]).range([0, 10000]);\n   * scale.normInvert(0.5); // Returns 5\n   * scale.invert(5000); // Returns 5\n   */\n  fn.normInvert = function norm(t) {\n    initNormScale(normScale, fn);\n\n    return normScale.instance.invert(t);\n  };\n\n  const { mini, maxi } = getMinMax(stgns, data ? data.fields : []);\n\n  fn.domain([mini, maxi]);\n  fn.range(stgns.invert ? [1, 0] : [0, 1]);\n  normScale.invert = stgns.invert;\n\n  return fn;\n}\n","import extend from 'extend';\nimport { scaleBand as d3ScaleBand } from 'd3-scale';\nimport { generateDiscreteTicks } from './ticks/tick-generators';\nimport resolveSettings from './settings-resolver';\n\nexport const DEFAULT_SETTINGS = {\n  padding: 0,\n  paddingInner: NaN,\n  paddingOuter: NaN,\n  align: 0.5,\n  invert: false,\n  maxPxStep: NaN,\n  range: [0, 1]\n};\n\n/**\n * @typedef {object} scale--band\n * @property {string} [type='band']\n * @property {number} [padding] - {@link https://github.com/d3/d3-scale#band_padding}\n * @property {number} [paddingInner] - {@link https://github.com/d3/d3-scale#band_paddingInner}\n * @property {number} [paddingOuter] - {@link https://github.com/d3/d3-scale#band_paddingOuter}\n * @property {number} [align] - {@link https://github.com/d3/d3-scale#band_align}\n * @property {boolean} [invert=false] - Invert the output range\n * @property {number} [maxPxStep] - Explicitly limit the bandwidth to a pixel value\n * @property {function} [label] - Callback label function, applied on each datum\n * @property {function} [value] - Callback value function, applied on each datum\n * @property {array<number>|function} [range=[0, 1]] - Set range explicitly (ignored when maxPxStep takes effect)\n */\n\n/**\n * @alias scaleBand\n * @memberof picasso\n * @private\n * @param { Object } settings\n * @param { fields[] } [fields]\n * @param { dataset } [dataset]\n * @return { band }\n */\n\nexport default function scaleBand(settings = {}, data = {}, resources = {}) {\n  /**\n   * An augmented {@link https://github.com/d3/d3-scale#_band|d3 band scale}\n   * @alias band\n   * @private\n   * @kind function\n   * @param { Object } value\n   * @return { number }\n   */\n  const band = d3ScaleBand();\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n  const items = data.items || [];\n  const domainToDataMapping = {};\n  const values = [];\n  const labels = [];\n\n  // I would like to define this outside of scaleBand but it cause the documentation to be in the wrong order\n  function augmentScaleBand(band, settings) { // eslint-disable-line no-shadow\n    band.data = () => data;\n\n    band.datum = domainValue => items[domainToDataMapping[domainValue]];\n\n    /**\n     * Get the first value of the domain\n     * @return { number }\n     */\n    band.start = function start() {\n      return band.domain()[0];\n    };\n\n    /**\n     * Get the last value of the domain\n     * @return { number }\n     */\n    band.end = function end() {\n      return band.domain()[band.domain().length - 1];\n    };\n\n    band.labels = () => labels;\n\n    /**\n     * Generate discrete ticks\n     * @return {Object[]} Array of ticks\n     */\n    band.ticks = function ticks(input = {}) {\n      input.scale = band;\n      return generateDiscreteTicks(input, settings.trackBy || 'label');\n    };\n  }\n  augmentScaleBand(band, settings);\n\n  /**\n   * if required creates a new scale with a restricted range\n   * so that step size is at most maxPxStep\n   * otherwise it returns itself\n   * @param { number } size\n   * @return { band }\n   */\n  band.pxScale = function pxScale(size) {\n    const max = stgns.maxPxStep;\n    if (isNaN(max)) {\n      return band;\n    }\n    const n = band.domain().length;\n    const sizeRelativeToStep = Math.max(1, (n - band.paddingInner()) + (2 * band.paddingOuter()));\n\n    if (sizeRelativeToStep * max >= size) {\n      return band;\n    }\n\n    const newBand = band.copy();\n    newBand.type = band.type;\n    augmentScaleBand(newBand, settings);\n    const t = (sizeRelativeToStep * max) / size;\n    const offset = (1 - t) * band.align();\n    newBand.range(stgns.invert ? [t + offset, offset] : [offset, t + offset]);\n\n    return newBand;\n  };\n\n  const valueFn = typeof settings.value === 'function' ? settings.value : d => d.datum.value;\n  const labelFn = typeof settings.label === 'function' ? settings.label : d => d.datum.label;\n\n  for (let i = 0; i < items.length; i++) {\n    const arg = extend({ datum: items[i] }, ctx);\n    const v = valueFn(arg, i);\n    if (values.indexOf(v) === -1) {\n      values.push(v);\n      labels.push(labelFn(arg, i));\n      domainToDataMapping[v] = i;\n    }\n  }\n\n  band.domain(values);\n  band.range(stgns.invert ? stgns.range.slice().reverse() : stgns.range);\n  band.padding(isNaN(stgns.padding) ? 0 : stgns.padding);\n  if (!isNaN(stgns.paddingInner)) { band.paddingInner(stgns.paddingInner); }\n  if (!isNaN(stgns.paddingOuter)) { band.paddingOuter(stgns.paddingOuter); }\n  band.align(isNaN(stgns.align) ? 0.5 : stgns.align);\n\n  return band;\n}\n","import extend from 'extend';\nimport bandScale, { DEFAULT_SETTINGS } from './band';\nimport resolveSettings from './settings-resolver';\n\nconst DEFAULT_TICKS_SETTINGS = {\n  depth: 0\n};\n\nfunction keyGen(node, valueFn, ctx) {\n  return node.ancestors()\n    .map(a => valueFn(extend({ datum: a.data }, ctx)))\n    .reverse()\n    .slice(1) // Delete root node\n    .toString();\n}\n\nfunction flattenTree(rootNode, settings, ctx) {\n  const ticksDepth = settings.ticks.depth;\n  const valueFn = settings.value;\n  const labelFn = settings.label;\n  const values = [];\n  const labels = [];\n  const items = {};\n  const ticks = [];\n  let expando = 0;\n  if (!rootNode) {\n    return {\n      values, labels, items, ticks\n    };\n  }\n\n  rootNode.eachAfter((node) => {\n    if (node.depth > 0) {\n      const key = keyGen(node, valueFn, ctx);\n      const leaves = node.leaves() || [node]; // If leaf node returns itself\n      const value = valueFn(extend({ datum: node.data }, ctx));\n      const label = labelFn(extend({ datum: node.data }, ctx));\n      const isBranch = Array.isArray(node.children);\n\n      const item = {\n        key,\n        count: leaves.length,\n        value,\n        label,\n        leftEdge: keyGen(leaves[0], valueFn, ctx),\n        rightEdge: keyGen(leaves[Math.max(leaves.length - 1, 0)], valueFn, ctx),\n        node\n        // isTick: ticksDepth === null ? !isBranch : node.depth === ticksDepth\n      };\n\n      if (isBranch) {\n        values.push(`SPACER_${expando}_SPACER`);\n        expando++;\n      } else {\n        values.push(key);\n        labels.push(label);\n      }\n\n      if ((ticksDepth <= 0 && !isBranch) || node.depth === ticksDepth) {\n        ticks.push(item);\n      }\n\n      items[key] = item;\n    }\n  });\n\n  const spill = rootNode.height - 1;\n  if (spill > 0) {\n    values.splice(-spill);\n  }\n\n  return {\n    values, labels, items, ticks\n  };\n}\n\n/**\n * @typedef {object} scale-hBand.settings\n * @private\n * @property {number} [padding=0] - Exposes {@link https://github.com/d3/d3-scale#band_padding}\n * @property {boolean} [paddingOuter=0] - Exposes {@link https://github.com/d3/d3-scale#band_paddingOuter}\n * @property {number[]} [paddingInner=0] - Exposes {@link https://github.com/d3/d3-scale#band_paddingInner}\n * @property {object} [align=0.5] - Exposes {@link https://github.com/d3/d3-scale#band_align}\n * @property {boolean} [invert=false] - Invert the output range\n */\n\n/**\n  * Hierarchical band scale, that is an augmented band scale, that takes hierarchical data as input\n * @alias scaleHierarchicalBand\n * @private\n * @param { Object } settings\n * @param { fields[] } [fields]\n * @param { dataset } [dataset] - With a root property that is an instance of D3.js Hierarchy\n * @return { h-band }\n */\n\nexport default function scaleHierarchicalBand(settings = {}, data = {}, resources = {}) {\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n  stgns.ticks = resolveSettings(settings.ticks, DEFAULT_TICKS_SETTINGS, ctx);\n  stgns.value = typeof settings.value === 'function' ? settings.value : d => d.datum.value;\n  stgns.label = typeof settings.label === 'function' ? settings.label : d => d.datum.value;\n\n  let bandInstance = bandScale(stgns);\n\n  const {\n    values, labels, items, ticks\n  } = flattenTree(data.root, stgns, ctx);\n\n  /**\n   * @alias h-band\n   * @private\n   * @kind function\n   * @param { Object[] } value - Array where each value is a reference to a node, going from depth 1 to n.\n   * @return { number }\n   */\n  const hBand = function fn(val) {\n    const strVal = String(val);\n    const item = items[strVal];\n    if (item) {\n      return bandInstance(stgns.invert ? item.rightEdge : item.leftEdge);\n    }\n\n    return bandInstance(strVal);\n  };\n\n  extend(true, hBand, bandInstance);\n\n  /**\n   * Wrapped {@link https://github.com/d3/d3-scale#band_bandwidth}\n   * @param { Object[] } [val] - Array where each value is a reference to a node, going from depth 1 to n. If omitted, bandwidth for the leaf nodes is return.\n   * @return { number }\n   */\n\n  hBand.bandwidth = function bandwidth(val) {\n    const item = items[String(val)];\n    const bw = bandInstance.bandwidth();\n    if (item && !item.isLeaf) {\n      const left = hBand(item.leftEdge);\n      const right = hBand(item.rightEdge);\n      return Math.abs(left - right) + bw;\n    }\n    return bw;\n  };\n\n  /**\n   * Wrapped {@link https://github.com/d3/d3-scale#band_step}\n   * @param { Object[] } [val] - Array where each value is a reference to a node, going from depth 1 to n. If omitted, step size for the leaf nodes is return.\n   * @return { number }\n   */\n  hBand.step = function step(val) {\n    const item = items[String(val)];\n    const leafCount = item ? item.count : 1;\n    let stepSize = bandInstance.step();\n    stepSize *= leafCount;\n    return stepSize;\n  };\n\n  /**\n   * @return { dataset }\n   */\n  hBand.data = () => data;\n\n  /**\n   * Return datum for a given node\n   * @param { Object[] } val - Array where each value is a reference to a node, going from depth 1 to n.\n   * @return { Object } The datum\n   */\n  hBand.datum = (val) => {\n    const item = items[String(val)];\n    if (item) {\n      return item.node.data;\n    }\n    return null;\n  };\n\n  hBand.copy = () => scaleHierarchicalBand(settings, data, resources);\n\n  /**\n   * @return { Object[] } Labels for each leaf node\n   */\n  hBand.labels = () => labels;\n\n  /**\n   * Generate discrete ticks\n   * @return { Object[] } Ticks for each leaf node\n   */\n  hBand.ticks = () => { // eslint-disable-line arrow-body-style\n    return ticks.map((item) => {\n      const start = hBand(item.key);\n      const bandwidth = hBand.bandwidth(item.key);\n      return {\n        position: start + (bandwidth / 2),\n        label: item.label,\n        data: item.node.data,\n        start,\n        end: start + bandwidth\n      };\n    });\n  };\n\n  const orgPxScale = bandInstance.pxScale;\n  hBand.pxScale = function pxScale(size) {\n    bandInstance = orgPxScale(size);\n    return hBand;\n  };\n\n  hBand.domain(values);\n\n  return hBand;\n}\n","import { isNumber as numericFilter } from './is-number';\n\nconst minAccessor = v => v.min();\nconst maxAccessor = v => v.max();\n\n/**\n * Calculate the min/max value based on various inputs.\n *\n * Provided min/max setting takes presedence over all other inputs. If not provided, the respective values are calculated\n * from the given arr input, where each item in the array is expected to have a min/max accessor.\n *\n * @private\n * @param {object} [settings]\n * @param {number} [settings.min] The minimum value. Defaults to 0 if not provided.\n * @param {number} [settings.max] The maximum value. Defaults to 1 if not provided.\n * @param {object} [arr]\n * @returns { object[] } An array containing the min and max values.\n *\n * @example\n * minmax(); // [0, 1]\n *\n * minmax({}, [\n * { min: () => 13, max: () => 15 },\n * { min: () => NaN, max: () => 17 },\n * ]); // [13, 17]\n *\n * minmax({ min: -5, max: 4 }, [\n * { min: () => -20, max: () => 15 },\n * ]); // [-5, 4]\n */\nexport default function minmax(settings, arr) {\n  // const definedMin = settings && typeof settings.min !== 'undefined';\n  // const definedMax = settings && typeof settings.max !== 'undefined';\n  const definedMin = settings && !isNaN(settings.min);\n  const definedMax = settings && !isNaN(settings.max);\n\n  let min = definedMin ? +settings.min : 0;\n  let max = definedMax ? +settings.max : 1;\n\n  if (arr && arr.length) {\n    if (!definedMin) {\n      const arrMin = arr.map(minAccessor).filter(numericFilter);\n      min = arrMin.length ? Math.min(...arrMin) : min;\n    }\n\n    if (!definedMax) {\n      const arrMax = arr.map(maxAccessor).filter(numericFilter);\n      max = arrMax.length ? Math.max(...arrMax) : max;\n    }\n  }\n\n  return [min, max];\n}\n","import { interpolateRgb } from 'd3-interpolate';\nimport extend from 'extend';\nimport minmax from '../../utils/min-max';\nimport linear from '../linear';\nimport resolveSettings from '../settings-resolver';\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: [],\n  invert: false,\n  min: NaN,\n  max: NaN\n};\n\nfunction generateDomain(range, min, max) {\n  const len = range.length;\n  if (len === 2) {\n    return [min, max];\n  }\n  const domain = [];\n  const part = (max - min) / (len - 1);\n\n  domain.push(min);\n  for (let i = 1; i < len - 1; i++) {\n    domain.push(min + (part * i));\n  }\n  domain.push(max);\n\n  return domain;\n}\n\n/**\n * @typedef {object} scale--sequential-color\n * @property {string} [type='sequential-color']\n * @property {string[]} [range] - CSS color values of the output range\n * @property {boolean} [invert=false] - Invert range\n * @property {number} [min] - Set an explicit minimum value\n * @property {number} [max] - Set an explicit maximum value\n */\n\n/**\n * @alias scaleSequentialColor\n * @private\n * @param { Object } [settings] Settings for this scale. If both range and domain are specified, they have to fulfill range.length === domain.length, otherwise they will be overriden.\n * @param { number[] } [settings.domain] Numeric values indicating stop limits between start and end values.\n * @param { color[] } [settings.range] CSS color values indicating stop colors between start and end values.\n * @param { field[] } [fields] Fields to dynamically calculate the domain extent.\n * @return { sequentialColor }\n *\n * @example\n * picasso.scaleSequentialColor({\n *  range: ['red', '#fc6', 'green'],\n *  domain: [-40, 0, 100]\n * });\n */\n\nexport default function scaleSequentialColor(settings = {}, data = {}, resources = {}) {\n  const s = linear(settings, data, resources).clamp(true).interpolate(interpolateRgb);\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, { data, resources });\n  const isDomain = Array.isArray(stgns.domain) && stgns.domain.length;\n  const isRange = Array.isArray(stgns.range) && stgns.range.length;\n\n  /**\n   * @alias sequentialColor\n   * @private\n   * @kind function\n   * @param { Object } v Object containing a 'value' property\n   * @return { string } The blended color\n   */\n  const fn = s;\n\n  extend(true, fn, s);\n  const [min, max] = minmax(stgns, data ? data.fields : []);\n  const num = isDomain ? stgns.domain.length : -1;\n  const DEFAULT_COLORS = resources.theme ? resources.theme.palette('sequential', num > 0 ? num : 2) : [];\n\n  const range = isRange ? stgns.range : DEFAULT_COLORS;\n  fn.range(stgns.invert ? range.slice().reverse() : range.slice());\n  fn.domain(isDomain ? stgns.domain : generateDomain(fn.range(), min, max));\n\n  return fn;\n}\n","import { scaleThreshold, scaleLinear } from 'd3-scale';\nimport { notNumber } from '../../utils/is-number';\nimport minmax from '../../utils/min-max';\nimport sequential from './sequential';\nimport resolveSettings from '../settings-resolver';\n\n// const DEFAULT_COLORS = ['rgb(180,221,212)', 'rgb(34, 83, 90)'];\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: [],\n  invert: false,\n  min: NaN,\n  max: NaN,\n  nice: false\n};\n\nfunction generateDomain(range, min, max) {\n  const len = range.length;\n  if (len === 2) {\n    return [min + ((max - min) / 2)];\n  }\n  const domain = [];\n  const part = (max - min) / len;\n\n  for (let i = 1; i < len; i++) {\n    domain.push(min + (part * i));\n  }\n  return domain;\n}\n\nfunction getBreaks(domain) {\n  const ret = [];\n  for (let i = 0; i < domain.length - 1; i++) {\n    ret.push((domain[i] + domain[i + 1]) / 2);\n  }\n  return ret;\n}\n\nfunction generateRange(domain, colors, min, max) {\n  min = domain[0];\n  max = domain && domain.length >= 2 ? domain[domain.length - 1] : max;\n  const seq = sequential().domain([min, max]).range(colors);\n  const values = [min, ...getBreaks(domain), max];\n  return values.map(v => seq(v));\n}\n\nfunction generateNiceDomain(range, min, max) {\n  const numPoints = range.length === 2 ? 10 : Math.max(1, range.length);\n  const lin = scaleLinear().domain([min, max]).nice(numPoints);\n  const domain = lin.ticks(numPoints);\n\n  if (!range || !range.length) {\n    return domain;\n  }\n\n  // remove values from endpoints\n  const num = Math.max(0, range.length - 1);\n  while (domain.length > num) {\n    if (domain[0] - min <= max - domain[domain.length - 1]) {\n      domain.shift();\n    } else {\n      domain.pop();\n    }\n  }\n\n  return domain;\n}\n\n/**\n * @typedef {object} scale--threshold-color\n * @property {string} [type='threshold-color']\n * @property {number[]} [domain] Values defining the thresholds\n * @property {string[]} [range] - CSS color values of the output range\n * @property {boolean} [invert=false] - Invert range\n * @property {number} [min] - Set an explicit minimum value\n * @property {number} [max] - Set an explicit maximum value\n * @property {boolean} [nice=false] If set to true, will generate 'nice' domain values. Ignored if domain is set.\n */\n\n/**\n * @alias scaleThresholdColor\n * @private\n * @param { object } [settings] Settings for this scale. If both domain and range are specified, they have to fulfill domain.length === range.length + 1,  otherwise they will be overriden.\n * @param { number[] } [settings.domain] Values defining the thresholds.\n * @param { color[] } [settings.range] CSS color values of the output range.\n * @param { boolean } [settings.nice=false] If set to true, will generate 'nice' domain values. Ignored if domain is set.\n * @param { number } [settings.min] Minimum value to generate domain extent from. Ignored if domain is set.\n * @param { number } [settings.max] Maximum value to generate domain extend from. Ignored if domain is set.\n * @param { field[] } [fields] Fields to dynamically calculate the domain extent from. Ignored if min/max are set.\n * @return { thresholdColor }\n *\n * @example\n * let t = threshold({\n *   range: ['black', 'white'],\n *   domain: [25,50,75],\n *   max: 100,\n *   min: 0\n * });\n * t.domain(); // [25,50,75]\n * t.range(); // Generates from colors and domain: ['rgb(0,0,0)','rgb(85,85,85)','rgb(170,170,170)','rgb(255,255,255)']\n */\n\nexport default function scaleThresholdColor(settings = {}, data = {}, resources = {}) {\n  const d3Scale = scaleThreshold();\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, { data, resources });\n  const isDomain = Array.isArray(stgns.domain) && stgns.domain.length;\n  const isRange = Array.isArray(stgns.range) && stgns.range.length;\n\n  /**\n   * @alias thresholdColor\n   * @private\n   * @param { object } v Object literal containing a 'value' property.\n   * @return { string } A CSS color from the scale's range.\n   */\n  function fn(v) {\n    if (notNumber(v)) {\n      return NaN;\n    }\n    return d3Scale(v);\n  }\n\n  Object.keys(d3Scale).forEach(key => (fn[key] = d3Scale[key]));\n\n  const fields = data.fields;\n\n  const [min, max] = minmax(stgns, fields);\n  const num = isDomain ? stgns.domain.length : -1;\n  const DEFAULT_COLORS = resources.theme ? resources.theme.palette('sequential', num > 0 ? num : 2) : [];\n\n  let range = isRange ? stgns.range : DEFAULT_COLORS;\n  let domain = [];\n\n  if (isDomain) {\n    domain = stgns.domain;\n  } else if (stgns.nice) {\n    domain = generateNiceDomain(range, min, max);\n  } else {\n    domain = [min + ((max - min) / 2)];\n  }\n\n  if (range.length > domain.length + 1) {\n    // Generate limits from range\n    domain = generateDomain(range, min, max);\n  } else if (range.length < domain.length + 1) {\n    // Generate additional colors\n    range = generateRange(domain, range, min, max);\n  }\n\n  fn.data = () => data;\n\n  fn.range(stgns.invert ? range.slice().reverse() : range);\n  fn.domain(domain);\n\n  return fn;\n}\n","import { scaleOrdinal } from 'd3-scale';\nimport extend from 'extend';\nimport resolveSettings from './settings-resolver';\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: []\n};\n\n/**\n * @alias scaleOrdinal\n * @private\n * @param { Object } settings\n * @param { field[] } [fields]\n * @param { dataset } data\n * @return { ordinal }\n */\nexport default function ordinal(settings = {}, data = {}, resources = {}) {\n  /**\n   * An augmented {@link https://github.com/d3/d3-scale#_ordinal|d3 ordinal scale}\n   * @private\n   * @alias ordinal\n   * @param { Object }\n   * @return { number }\n   */\n  const fn = scaleOrdinal();\n\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n\n  const valueFn = typeof settings.value === 'function' ? settings.value : d => d.datum.value;\n  const labelFn = typeof settings.label === 'function' ? settings.label : d => d.datum.label;\n  const items = data.items || [];\n  const domainToDataMapping = {};\n  const values = [];\n  const labels = [];\n\n  for (let i = 0; i < items.length; i++) {\n    const arg = extend({ datum: items[i] }, ctx);\n    const v = valueFn(arg, i);\n    if (values.indexOf(v) === -1) {\n      values.push(v);\n      labels.push(labelFn(arg, i));\n      domainToDataMapping[v] = i;\n    }\n  }\n\n  fn.data = () => data;\n\n  fn.labels = () => labels;\n\n  fn.label = domainValue => labels[values.indexOf(domainValue)];\n\n  fn.datum = domainValue => items[domainToDataMapping[domainValue]];\n\n  fn.range(stgns.range);\n\n  if (Array.isArray(stgns.domain) && stgns.domain.length) {\n    fn.domain(stgns.domain);\n  } else {\n    fn.domain(values);\n  }\n  return fn;\n}\n","import ordinal from '../ordinal';\nimport resolveSettings from '../settings-resolver';\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: [],\n  unknown: undefined\n};\n\nconst DEFAULT_EXPLICIT_SETTINGS = {\n  domain: [],\n  range: [],\n  override: false\n};\n\n/**\n * @typedef {object} scale--categorical-color\n * @property {string} [type='categorical-color']\n * @property {string[]} [range=false] - CSS color values of the output range\n * @property {string} [unknown] - {@link https://github.com/d3/d3-scale#ordinal_unknown}\n * @property {object} [explicit] - Explicitly bind values to an output\n * @property {object[]} [explicit.domain[]] - Values to bind\n * @property {string[]} [explicit.range[]] - Output range\n */\n\n/**\n * An ordinal scale with the output range set to default colors, as defined by *scaleCategorical.range*\n * @alias scaleCategorical\n * @private\n * @param { Object } settings\n * @param { field[] } [fields]\n * @param { dataset } [dataset]\n * @return { ordinal }\n */\nexport default function scaleCategorical(settings = {}, data = {}, resources = {}) {\n  const s = ordinal(settings, data, resources);\n  const theme = resources.theme;\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, { data, resources });\n  stgns.explicit = resolveSettings(settings.explicit, DEFAULT_EXPLICIT_SETTINGS, { data, resources });\n\n  let range;\n  if (!Array.isArray(stgns.range) || stgns.range.length === 0) {\n    range = theme ? theme.palette('categorical', s.domain().length).slice() : [];\n  } else {\n    range = stgns.range.slice();\n  }\n\n  if (stgns.unknown) {\n    s.unknown(stgns.unknown);\n  } else if (theme && theme.palette('unknown')) {\n    let un = theme.palette('unknown');\n    s.unknown(un[0]);\n  }\n\n  if (Array.isArray(stgns.explicit.domain) && stgns.explicit.domain.length) {\n    const domain = s.domain().slice();\n    const explicitDomain = stgns.explicit.domain;\n    const explicitRange = Array.isArray(stgns.explicit.range) ? stgns.explicit.range : [];\n\n    // duplicate range values to cover entire domain\n    const numCopies = Math.floor(domain.length / range.length);\n    for (let i = 1; i < numCopies + 1; i *= 2) {\n      range = range.concat(range);\n    }\n\n    if (stgns.explicit.override) {\n      for (let i = 0; i < explicitDomain.length; i++) {\n        const index = domain.indexOf(explicitDomain[i]);\n        if (index > -1) {\n          range[index] = explicitRange[i];\n        }\n      }\n    } else {\n      // inject explicit colors\n      const order = explicitDomain.map((d, i) => [domain.indexOf(d), d, explicitRange[i]]).sort((a, b) => a[0] - b[0]);\n      order.forEach((v) => {\n        const idx = domain.indexOf(v[1]);\n        if (idx !== -1) {\n          range.splice(idx, 0, v[2]);\n        }\n      });\n    }\n\n    // cutoff excess range values\n    range.length = domain.length;\n  }\n\n  s.range(range);\n  return s;\n}\n","import registry from '../../utils/registry';\nimport linear from '../../scales/linear';\nimport band from '../../scales/band';\nimport hBand from '../../scales/h-band';\nimport sequential from '../../scales/color/sequential';\nimport threshold from '../../scales/color/threshold';\nimport categorical from '../../scales/color/categorical';\nimport extractData from '../../data/extractor';\n\nconst scaleRegistry = registry();\n\nscaleRegistry('linear', linear);\nscaleRegistry('band', band);\nscaleRegistry('h-band', hBand);\nscaleRegistry('sequential-color', sequential);\nscaleRegistry('threshold-color', threshold);\nscaleRegistry('categorical-color', categorical);\n\nexport { scaleRegistry as default };\n\nfunction getTypeFromMeta(fields) {\n  const types = fields.map(field => (field.type() === 'dimension' ? 'band' : 'linear'));\n  return types.indexOf('linear') !== -1 ? 'linear' : 'band';\n}\n\nfunction deduceScaleTypeFromData(data) {\n  if (data.root) {\n    return 'h-band';\n  }\n\n  if (data.fields && data.fields[0]) {\n    return getTypeFromMeta(data.fields);\n  }\n  return 'linear';\n}\n\nexport function create(options, d, deps) {\n  let dataSourceConfig = options.data;\n  if (options.source) { // DEPRECATION\n    deps.logger.warn('Deprecated: Scale data source configuration');\n    dataSourceConfig = {\n      extract: []\n    };\n    (Array.isArray(options.source) ? options.source : [options.source]).forEach((source) => {\n      dataSourceConfig.extract.push({\n        field: source\n      });\n    });\n  }\n\n  const data = extractData(dataSourceConfig, d, deps);\n  let type = options.type || deduceScaleTypeFromData(data);\n  let s;\n\n  if (type === 'color') {\n    if (data.fields && data.fields[0] && data.fields[0].type() === 'dimension') {\n      type = 'categorical-color';\n    } else {\n      type = 'sequential-color';\n    }\n  }\n\n  if (deps.scale.has(type)) {\n    s = deps.scale.get(type);\n    s = s(options, data, { theme: deps.theme, logger: deps.logger });\n    s.type = type;\n  }\n  return s;\n}\n\nexport function getOrCreateScale(v, scales, d, deps) {\n  let s;\n  if (typeof v === 'string' && scales[v]) { // return by name\n    s = scales[v];\n  } else if (typeof v === 'object' && 'scale' in v && scales[v.scale]) { // return by { scale: \"name\" }\n    s = scales[v.scale];\n  }\n\n  return s || create(v, d, deps);\n}\n\nexport function builder(obj, d, deps) {\n  const scales = {};\n  for (const s in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, s)) {\n      scales[s] = create(obj[s], d, deps);\n    }\n  }\n  return scales;\n}\n","/**\n * Utility functions\n */\n\nvar util = {};\n\nutil.isObject = function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nutil.isNumber = function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nutil.isUndefined = function isUndefined(arg) {\n  return arg === void 0;\n}\n\nutil.isFunction = function isFunction(arg){\n  return typeof arg === 'function';\n}\n\n\n/**\n * EventEmitter class\n */\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!util.isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error' && !this._events.error) {\n    er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      throw Error('Uncaught, unspecified \"error\" event.');\n    }\n    return false;\n  }\n\n  handler = this._events[type];\n\n  if (util.isUndefined(handler))\n    return false;\n\n  if (util.isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (util.isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              util.isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (util.isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (util.isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!util.isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n\n      if (util.isFunction(console.error)) {\n        console.error('(node) warning: possible EventEmitter memory ' +\n                      'leak detected. %d listeners added. ' +\n                      'Use emitter.setMaxListeners() to increase limit.',\n                      this._events[type].length);\n      }\n      if (util.isFunction(console.trace))\n        console.trace();\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (util.isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (util.isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (util.isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (Array.isArray(listeners)) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (util.isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (util.isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n","import EventEmitter from 'node-event-emitter';\n\nexport default {\n  /**\n   * Function used to add event handling to objects passed in.\n   * @private\n   * @param {Object} obj Object instance that will get event handling.\n   */\n  mixin(obj) {\n    Object.keys(EventEmitter.prototype).forEach((key) => {\n      obj[key] = EventEmitter.prototype[key];\n    });\n    EventEmitter.init(obj);\n    return obj;\n  }\n};\n","import EventEmitter from '../utils/event-emitter';\n\nexport default function scrollApi() {\n  let min = 0;\n  let max = 0;\n  let start = 0;\n  let viewSize = 0;\n  start = start || min;\n\n  /**\n   * The scroll api\n   * @private\n   * @alias scroll\n   */\n  const s = {\n    /**\n     * Move the current scroll\n     * @param {number} value\n     * @emits update\n     */\n    move(value) {\n      this.moveTo(start + value);\n    },\n\n    /**\n     * Change the current scroll to a specific value\n     * @param {number} value\n     * @emits update\n     */\n    moveTo(value) {\n      const newStart = Math.max(min, Math.min(max - viewSize, value));\n      if (start !== newStart) {\n        start = newStart;\n        s.emit('update');\n      }\n    },\n\n    /**\n     * Update scroll settings\n     * @param {number} [settings.min]\n     * @param {number} [settings.max]\n     * @param {number} [settings.viewSize]\n     * @emits update\n     */\n    update(settings) {\n      let triggerUpdate = false;\n      ({ min = min, max = max } = settings);\n      if (settings.viewSize !== undefined && settings.viewSize !== viewSize) {\n        viewSize = settings.viewSize;\n        triggerUpdate = true;\n      }\n\n      // update scroll to be within the new bounds\n      const newStart = Math.max(min, Math.min(max - viewSize, start));\n      if (start !== newStart) {\n        start = newStart;\n        triggerUpdate = true;\n      }\n\n      if (triggerUpdate) {\n        s.emit('update');\n      }\n    },\n\n    /**\n     * Get the current scroll state\n     * @return {object} with min, max, start & viewSize\n     */\n    getState() {\n      return {\n        min, max, start, viewSize\n      };\n    }\n  };\n\n  EventEmitter.mixin(s);\n\n  return s;\n}\n","import scrollApi from '../../scroll-api';\n\nexport function createOrUpdate(options, oldApi) {\n  const min = options.min || 0;\n  const max = options.max || 0;\n  const viewSize = options.viewSize || 0;\n\n  const s = oldApi || scrollApi();\n  s.update({ min, max, viewSize });\n\n  return s;\n}\n\nexport default function builder(obj, oldScrollApis) {\n  const scrollApis = {};\n  for (const n in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, n)) {\n      scrollApis[n] = createOrUpdate(obj[n], oldScrollApis ? oldScrollApis[n] : null);\n    }\n  }\n  return scrollApis;\n}\n\nexport function getOrCreateScrollApi(v, scrollApis) {\n  if (!scrollApis[v]) {\n    scrollApis[v] = scrollApi();\n  }\n  return scrollApis[v];\n}\n","function index(boundaries, point, after) {\n  let i = 0;\n  while (i < boundaries.length && point > boundaries[i]) {\n    ++i;\n  }\n  if (boundaries[i] === point && after) {\n    ++i;\n  }\n  return i;\n}\n\nfunction contains(boundaries, point) {\n  const len = boundaries.length;\n\n  for (let i = 1; i < len; i += 2) {\n    if (boundaries[i - 1] <= point && point <= boundaries[i]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default function rangeCollection() {\n  let boundaries = [];\n\n  function fn() {}\n\n  fn.add = (range) => {\n    const min = range.min;\n    const max = range.max;\n\n    const i0 = index(boundaries, min);\n    const i1 = index(boundaries, max, true);\n\n    const args = [i0, i1 - i0];\n    if (i0 % 2 === 0) {\n      args.push(min);\n    }\n    if (i1 % 2 === 0) {\n      args.push(max);\n    }\n\n    const before = boundaries.join(',');\n    boundaries.splice(...args);\n    const after = boundaries.join(',');\n    return before !== after;\n  };\n\n  fn.remove = (range) => {\n    const min = range.min;\n    const max = range.max;\n\n    const i0 = index(boundaries, min);\n    const i1 = index(boundaries, max, true);\n\n    const args = [i0, i1 - i0];\n    if (i0 % 2 === 1) {\n      args.push(min);\n    }\n    if (i1 % 2 === 1) {\n      args.push(max);\n    }\n    const before = boundaries.join(',');\n    boundaries.splice(...args);\n    const after = boundaries.join(',');\n    return before !== after;\n  };\n\n  fn.set = (range) => {\n    const before = boundaries.join(',');\n    boundaries = [];\n    if (Array.isArray(range)) {\n      range.forEach(fn.add);\n    } else {\n      fn.add(range);\n    }\n    const after = boundaries.join(',');\n    return before !== after;\n  };\n\n  fn.clear = () => {\n    const before = boundaries.length > 0;\n    boundaries = [];\n    return before;\n  };\n\n  fn.containsValue = value => contains(boundaries, value);\n\n  fn.containsRange = (range) => {\n    const min = range.min;\n    const max = range.max;\n\n    const i0 = index(boundaries, min, true);\n    const i1 = index(boundaries, max);\n\n    return i0 === i1 && i1 % 2 === 1;\n  };\n\n  fn.toggle = (range) => {\n    if (fn.containsRange(range)) {\n      return fn.remove(range);\n    }\n    return fn.add(range);\n  };\n\n  fn.ranges = () => {\n    const collection = [];\n    for (let i = 1; i < boundaries.length; i += 2) {\n      collection.push({\n        min: boundaries[i - 1],\n        max: boundaries[i]\n      });\n    }\n    return collection;\n  };\n\n  return fn;\n}\n","export default function valueCollection() {\n  let values = [];\n  function vc() {}\n\n  vc.add = (value) => {\n    if (values.indexOf(value) === -1) {\n      values.push(value);\n      return true;\n    }\n    return false;\n  };\n\n  vc.remove = (value) => {\n    const idx = values.indexOf(value);\n    if (idx !== -1) {\n      values.splice(idx, 1);\n      return true;\n    }\n    return false;\n  };\n\n  vc.contains = value => values.indexOf(value) !== -1;\n\n  vc.values = () => values.slice();\n\n  vc.clear = () => (values = []);\n\n  vc.toString = () => values.join(';');\n\n  return vc;\n}\n","import extend from 'extend';\n\nimport EventEmitter from '../utils/event-emitter';\n\nimport rangeCollection from './range-collection';\nimport valueCollection from './value-collection';\n\nfunction add({\n  items,\n  collection,\n  vc\n}) {\n  const changedMap = {};\n  const changed = [];\n  let key;\n  let values;\n\n  for (let i = 0, num = items.length; i < num; i++) {\n    key = items[i].key;\n    if (!collection[key]) {\n      collection[key] = vc();\n    }\n    values = items[i].values || [items[i].value];\n    for (let vi = 0; vi < values.length; vi++) {\n      if (collection[key].add(values[vi])) {\n        changedMap[key] = changedMap[key] || [];\n        changedMap[key].push(values[vi]);\n      }\n    }\n  }\n\n  const keys = Object.keys(changedMap);\n  for (let i = 0, num = keys.length; i < num; i++) {\n    key = keys[i];\n    changed.push({ id: key, values: changedMap[key] });\n  }\n\n  return changed;\n}\n\nfunction remove({\n  items,\n  collection\n}) {\n  const changedMap = {};\n  const changed = [];\n  let key;\n  let values;\n\n  for (let i = 0, num = items.length; i < num; i++) {\n    key = items[i].key;\n    if (!collection[key]) {\n      continue;\n    }\n    values = items[i].values || [items[i].value];\n    for (let vi = 0; vi < values.length; vi++) {\n      if (collection[key].remove(values[vi])) {\n        changedMap[key] = changedMap[key] || [];\n        changedMap[key].push(values[vi]);\n      }\n    }\n  }\n\n  const keys = Object.keys(changedMap);\n  for (let i = 0, num = keys.length; i < num; i++) {\n    key = keys[i];\n    changed.push({ id: key, values: changedMap[key] });\n  }\n\n  return changed;\n}\n\nfunction collectUnique(items) {\n  const filteredSet = {};\n  let key;\n  let values;\n\n  for (let i = 0, num = items.length; i < num; i++) {\n    key = items[i].key;\n    values = items[i].values || [items[i].value];\n    if (!filteredSet[key]) {\n      filteredSet[key] = [];\n    }\n    for (let vi = 0; vi < values.length; vi++) {\n      const idx = filteredSet[key].indexOf(values[vi]);\n      if (idx === -1) {\n        filteredSet[key].push(values[vi]);\n      }\n    }\n  }\n\n  return filteredSet;\n}\n\nfunction createValueCollection({\n  key,\n  collection,\n  obj,\n  fn,\n  value\n}) {\n  if (!collection[key]) {\n    collection[key] = fn();\n  }\n  obj[key] = obj[key] || [];\n  obj[key].push(value);\n  collection[key].add(value);\n}\n\nexport function toggle({\n  items,\n  values,\n  vc\n}) {\n  const addedMap = {};\n  const removedMap = {};\n  const added = [];\n  const removed = [];\n  const filteredSet = collectUnique(items);\n  let key;\n  let value;\n  let fs;\n\n  const setKeys = Object.keys(filteredSet);\n  for (let i = 0, num = setKeys.length; i < num; i++) {\n    key = setKeys[i];\n    fs = filteredSet[key];\n\n    for (let k = 0, len = fs.length; k < len; k++) {\n      value = fs[k];\n      if (!values[key] || !values[key].contains(value)) {\n        createValueCollection({\n          key,\n          value,\n          collection: values,\n          obj: addedMap,\n          fn: vc\n        });\n      } else if (values[key] && values[key].contains(value)) {\n        removedMap[key] = removedMap[key] || [];\n        removedMap[key].push(value);\n        values[key].remove(value);\n      }\n    }\n  }\n\n  const addedKeys = Object.keys(addedMap);\n  for (let i = 0, num = addedKeys.length; i < num; i++) {\n    key = addedKeys[i];\n    added.push({ id: key, values: addedMap[key] });\n  }\n\n  const removedKeys = Object.keys(removedMap);\n  for (let i = 0, num = removedKeys.length; i < num; i++) {\n    key = removedKeys[i];\n    removed.push({ id: key, values: removedMap[key] });\n  }\n\n  return [added, removed];\n}\n\nfunction diff(old, current) {\n  const changed = [];\n  const keys = Object.keys(old);\n  let key;\n  let changedValues;\n  const filterFn = v => current[key].indexOf(v) === -1;\n\n  for (let i = 0, num = keys.length; i < num; i++) {\n    key = keys[i];\n    if (!current[key]) {\n      changed.push({ id: key, values: old[key] });\n    } else {\n      changedValues = old[key].filter(filterFn);\n      if (changedValues.length) {\n        changed.push({ id: key, values: changedValues });\n      }\n    }\n  }\n\n  return changed;\n}\n\nexport function set({\n  items,\n  vCollection,\n  vc\n}) {\n  const addedMap = {};\n  const filteredSet = collectUnique(items);\n  let added = [];\n  let removed = [];\n  let key;\n\n  const oldMap = {};\n  const vcKeys = Object.keys(vCollection);\n  for (let i = 0, num = vcKeys.length; i < num; i++) {\n    key = vcKeys[i];\n    oldMap[key] = vCollection[key].values().slice();\n    delete vCollection[key];\n  }\n\n  const createValueCollectionFn = (value) => {\n    if (!vCollection[key] || !vCollection[key].contains(value)) {\n      createValueCollection({\n        key,\n        value,\n        collection: vCollection,\n        obj: addedMap,\n        fn: vc\n      });\n    }\n  };\n\n  const fsKeys = Object.keys(filteredSet);\n  for (let i = 0, num = fsKeys.length; i < num; i++) {\n    key = fsKeys[i];\n    filteredSet[key].forEach(createValueCollectionFn);\n  }\n\n  removed = diff(oldMap, addedMap);\n  added = diff(addedMap, oldMap);\n\n  return [added, removed];\n}\n\n\nfunction applyAliases(items, aliases) {\n  if (!Object.keys(aliases).length) {\n    return items;\n  }\n  const len = items.length;\n  const its = Array(len);\n  for (let i = 0; i < len; i++) {\n    its[i] = items[i].key in aliases ? extend({}, items[i], { key: aliases[items[i].key] }) : items[i];\n  }\n  return its;\n}\n\nfunction intercept(handlers, items, aliases) {\n  const its = applyAliases(items, aliases);\n  return handlers && handlers.length ? handlers.reduce((value, interceptor) => interceptor(value), its) : its;\n}\n\nfunction toCamelCase(s) {\n  return s.replace(/(-[a-z])/g, $1 => $1.toUpperCase().replace('-', ''));\n}\n\nfunction toSnakeCase(s) {\n  return s.replace(/([A-Z])/g, $1 => `-${$1.toLowerCase()}`);\n}\n\nfunction updateRange(items, action, {\n  ranges,\n  interceptors,\n  rc,\n  aliases\n}) {\n  const inter = `${action}Ranges`;\n  const its = intercept(interceptors[inter], items, aliases);\n  let changed = false;\n  its.forEach((item) => {\n    const key = item.key;\n    if (!ranges[key]) {\n      ranges[key] = rc();\n    }\n    if (action === 'set') {\n      changed = ranges[key][action](item.ranges || item.range) || changed;\n    } else {\n      const rangeValues = item.ranges || [item.range];\n      for (let i = 0; i < rangeValues.length; i++) {\n        changed = ranges[key][action](rangeValues[i]) || changed;\n      }\n    }\n  });\n\n  return changed;\n}\n\nexport default function brush({\n  vc = valueCollection,\n  rc = rangeCollection\n} = {}) {\n  let activated = false;\n  let ranges = {};\n  let values = {};\n  let aliases = {};\n  const interceptors = {\n    addValues: [],\n    removeValues: [],\n    toggleValues: [],\n    setValues: [],\n    addRanges: [],\n    setRanges: [],\n    removeRanges: [],\n    toggleRanges: []\n  };\n\n  const getState = () => {\n    const state = {\n      values: {},\n      ranges: {}\n    };\n    Object.keys(values).forEach((key) => { state.values[key] = values[key].values(); });\n    Object.keys(ranges).forEach((key) => { state.ranges[key] = ranges[key].ranges(); });\n    return state;\n  };\n\n  const links = {\n    ls: [],\n    clear() {\n      this.ls.forEach(b => b.clear());\n    },\n    start() {\n      this.ls.forEach(b => b.start());\n    },\n    end() {\n      this.ls.forEach(b => b.end());\n    },\n    update() {\n      const s = getState();\n      this.ls.forEach(b => b._state(s));\n    },\n    updateValues() {\n      const s = getState();\n      this.ls.forEach(b => b._state({\n        values: s.values\n      }));\n    },\n    updateRanges() {\n      const s = getState();\n      this.ls.forEach(b => b._state({\n        ranges: s.ranges\n      }));\n    }\n  };\n\n  /**\n   * A brush context\n   * @alias brush\n   * @interface\n   */\n  const fn = {};\n\n  /**\n   * Triggered when this brush is activated\n   * @event brush#start\n   * @type {string}\n   */\n\n  /**\n   * Triggered when this brush is updated\n   * @event brush#update\n   * @type {string}\n   * @param {Array<object>} added - The added items\n   * @param {Array<object>} removed - The removed items\n   */\n\n  /**\n   * Triggered when this brush is deactivated\n   * @event brush#end\n   * @type {string}\n   */\n\n  /**\n   * Link this brush to another brush instance.\n   *\n   * When linked, the `target` will receive updates whenever this brush changes.\n   * @param {brush} target - The brush instance to link to\n   */\n  fn.link = (target) => {\n    if (fn === target) {\n      throw new Error('Can\\'t link to self');\n    }\n    links.ls.push(target);\n    target._state(getState());\n  };\n\n  fn._state = (s) => {\n    if (!s) {\n      return getState();\n    }\n    if (s.values) {\n      const arr = [];\n      Object.keys(s.values).forEach((key) => {\n        if (!values[key] || s.values[key].join(';') !== values[key].toString()) {\n          arr.push({\n            key,\n            values: s.values[key]\n          });\n        }\n      });\n      Object.keys(values).forEach((key) => {\n        if (!s.values[key]) {\n          arr.push({\n            key,\n            values: []\n          });\n        }\n      });\n      if (arr.length) {\n        fn.setValues(arr);\n      }\n    }\n    if (s.ranges) {\n      const arr = [];\n      Object.keys(s.ranges).forEach((key) => {\n        if (!ranges[key] || s.ranges[key].join(';') !== ranges[key].toString()) {\n          arr.push({\n            key,\n            ranges: s.ranges[key]\n          });\n        }\n      });\n      Object.keys(ranges).forEach((key) => {\n        if (!s.ranges[key]) {\n          arr.push({\n            key,\n            ranges: []\n          });\n        }\n      });\n      if (arr.length) {\n        fn.setRanges(arr);\n      }\n    }\n    return undefined;\n  };\n\n  /**\n   * Starts this brush context\n   *\n   * Starts this brush context and emits a 'start' event if it is not already started.\n   * @emits brush#start\n   */\n  fn.start = () => {\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n      links.start();\n    }\n  };\n\n  /**\n   * Ends this brush context\n   *\n   * Ends this brush context and emits an 'end' event if it is not already ended.\n   * @emits brush#end\n   */\n  fn.end = () => {\n    if (!activated) {\n      return;\n    }\n    activated = false;\n    ranges = {};\n    values = {};\n    fn.emit('end');\n    links.end();\n  };\n\n  /**\n   * Checks if this brush is activated\n   *\n   * Returns true if started, false otherwise\n   * @return {boolean}\n   */\n  fn.isActive = () => activated;\n\n  /**\n   * Clears this brush context\n   */\n  fn.clear = () => {\n    const removed = fn.brushes().filter(b => b.type === 'value' && b.brush.values().length).map(b => ({ id: b.id, values: b.brush.values() }));\n    const hasChanged = Object.keys(ranges).length > 0 || removed.length;\n    ranges = {};\n    values = {};\n    if (hasChanged) {\n      fn.emit('update', [], removed); // TODO - do not emit update if state hasn't changed\n      links.clear();\n    }\n  };\n\n  /**\n   * Returns all brushes within this context\n   * @return {object}\n   */\n  fn.brushes = () => {\n    let result = [];\n    result = result.concat(Object.keys(ranges).map(key => ({\n      type: 'range',\n      id: key,\n      brush: ranges[key]\n    })));\n\n    result = result.concat(Object.keys(values).map(key => ({\n      type: 'value',\n      id: key,\n      brush: values[key]\n    })));\n\n    return result;\n  };\n\n  /**\n   * Adds a primitive value to this brush context\n   *\n   * If this brush context is not started, a 'start' event is emitted.\n   * If the state of the brush changes, ie. if the added value does not already exist, an 'update' event is emitted.\n   *\n   * @param {string} key  An identifier that represents the data source of the value\n   * @param {string|number} value The value to add\n   * @emits brush#start\n   * @emits brush#update\n   * @example\n   * brush.addValue('countries', 'Sweden');\n   * brush.addValue('/qHyperCube/qDimensionInfo/0', 3);\n   */\n  fn.addValue = (key, value) => {\n    fn.addValues([{ key, value }]);\n  };\n\n  /**\n   * @param {object[]} items Items to add\n   */\n  fn.addValues = (items) => {\n    const its = intercept(interceptors.addValues, items, aliases);\n    const added = add({\n      vc,\n      collection: values,\n      items: its\n    });\n\n    fn.emit('add-values', its);\n\n    if (added.length) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', added, []);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * @param {object[]} items Items to set\n   */\n  fn.setValues = (items) => {\n    const its = intercept(interceptors.setValues, items, aliases);\n    const changed = set({\n      items: its,\n      vCollection: values,\n      vc\n    });\n\n    fn.emit('set-values', its);\n\n    if (changed[0].length > 0 || changed[1].length > 0) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', changed[0], changed[1]);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * Removes a primitive values from this brush context\n   *\n   * If the state of the brush changes, ie. if the removed value does exist, an 'update' event is emitted.\n   *\n   * @param  {string} key  An identifier that represents the data source of the value\n   * @param  {string|number} value The value to remove\n   * @example\n   * brush.removeValue('countries', 'Sweden');\n   */\n  fn.removeValue = (key, value) => {\n    fn.removeValues([{ key, value }]);\n  };\n\n  /**\n   * @param {object[]} items Items to remove\n   */\n  fn.removeValues = (items) => {\n    const its = intercept(interceptors.removeValues, items, aliases);\n    const removed = remove({\n      collection: values,\n      items: its\n    });\n\n    fn.emit('remove-values', its);\n\n    if (removed.length) {\n      fn.emit('update', [], removed);\n      links.updateValues();\n      // TODO - emit 'end' event if there are no remaining active brushes\n    }\n  };\n\n  /**\n   * Add and remove values in a single operation\n   * almost the same as calling addValues and removeValues but only triggers one 'update' event\n   *\n   * If the state of the brush changes, an 'update' event is emitted.\n   *\n   * @param {object[]} addItems Items to add\n   * @param {object[]} removeItems Items to remove\n   */\n  fn.addAndRemoveValues = (addItems, removeItems) => {\n    const addIts = intercept(interceptors.addValues, addItems, aliases);\n    const removeIts = intercept(interceptors.removeValues, removeItems, aliases);\n    const added = add({\n      vc,\n      collection: values,\n      items: addIts\n    });\n    const removed = remove({\n      collection: values,\n      items: removeIts\n    });\n\n    fn.emit('add-values', addIts);\n    fn.emit('remove-values', removeIts);\n\n    if (added.length || removed.length) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', added, removed);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * Toggles a primitive value in this brush context\n   *\n   * If the given value exist in this brush context, it will be removed. If it does not exist it will be added.\n   *\n   * @param  {string} key  An identifier that represents the data source of the value\n   * @param  {string|number} value The value to toggle\n   * @example\n   * brush.toggleValue('countries', 'Sweden');\n   */\n  fn.toggleValue = (key, value) => {\n    fn.toggleValues([{ key, value }]);\n  };\n\n  /**\n   * @param {object[]} items Items to toggle\n   */\n  fn.toggleValues = (items) => {\n    const its = intercept(interceptors.toggleValues, items, aliases);\n    const toggled = toggle({\n      items: its,\n      values,\n      vc\n    });\n\n    fn.emit('toggle-values', its);\n\n    if (toggled[0].length > 0 || toggled[1].length > 0) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', toggled[0], toggled[1]);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * Checks if a certain value exists in this brush context\n   *\n   * Returns true if the values exists for the provided key, returns false otherwise.\n   *\n   * @param  {string} key  An identifier that represents the data source of the value\n   * @param  {string|number} value The value to check for\n   * @return {boolean}\n   * @example\n   * brush.addValue('countries', 'Sweden');\n   * brush.containsValue('countries', 'Sweden'); // true\n   * brush.toggleValue('countries', 'Sweden'); // remove 'Sweden'\n   * brush.containsValue('countries', 'Sweden'); // false\n   */\n  fn.containsValue = (key, value) => {\n    let k = aliases[key] || key;\n    if (!values[k]) {\n      return false;\n    }\n    return values[k].contains(value);\n  };\n\n  /**\n   * Adds a numeric range to this brush context\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to add to this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   * @example\n   * brush.addRange('Sales', { min: 20, max: 50 });\n   */\n  fn.addRange = (key, range) => {\n    fn.addRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.addRange}\n   * @param {object[]} items - Items containing the ranges to remove\n   * @param {string} items[].key\n   * @param {object} items[].range\n   */\n  fn.addRanges = (items) => {\n    const changed = updateRange(items, 'add', {\n      ranges,\n      rc,\n      interceptors,\n      aliases\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Removes a numeric range from this brush context\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to remove from this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   */\n  fn.removeRange = (key, range) => {\n    fn.removeRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.removeRange}\n   * @param {object[]} items - Items containing the ranges to remove\n   */\n  fn.removeRanges = (items) => {\n    const changed = updateRange(items, 'remove', {\n      ranges,\n      rc,\n      interceptors,\n      aliases\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Sets a numeric range to this brush context\n   *\n   * Overwrites any active ranges identified by `key`\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to set on this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   */\n  fn.setRange = (key, range) => {\n    fn.setRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.setRange}\n   * @param {object[]} items - Items containing the ranges to set\n   */\n  fn.setRanges = (items) => {\n    const changed = updateRange(items, 'set', {\n      ranges,\n      rc,\n      interceptors,\n      aliases\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Toggles a numeric range in this brush context\n   *\n   * Removes the range if it's already contained within the given identifier,\n   * otherwise the given range is added to the brush.\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to toggle in this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   */\n  fn.toggleRange = (key, range) => {\n    fn.toggleRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.toggleRange}\n   * @param {object[]} items - Items containing the ranges to toggle\n   */\n  fn.toggleRanges = (items) => {\n    const changed = updateRange(items, 'toggle', {\n      ranges,\n      rc,\n      interceptors,\n      aliases\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Checks if a value is contained within a range in this brush context\n   *\n   * Returns true if the values exists for the provided key, returns false otherwise.\n   *\n   * @param  {string} key - An identifier that represents the data source of the value\n   * @param  {number} value - The value to check for\n   * @return {boolean}\n   * @example\n   * brush.addRange('Sales', { min: 10, max: 50 });\n   * brush.containsRangeValue('Sales', 30); // true\n   * brush.containsRangeValue('Sales', 5); // false\n   */\n  fn.containsRangeValue = (key, value) => {\n    let k = aliases[key] || key;\n    if (!ranges[k]) {\n      return false;\n    }\n    return ranges[k].containsValue(value);\n  };\n\n  /**\n   * Checks if a range segment is contained within this brush context\n   *\n   * Returns true if the range segment exists for the provided key, returns false otherwise.\n   *\n   * @param {string} key - An identifier that represents the data source of the value\n   * @param {object} range - The range to check for\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   * @return {boolean}\n   * @example\n   * brush.addRange('Sales', { min: 10, max: 50 });\n   * brush.containsRange('Sales', { min: 15, max: 20 }); // true - the range segment is fully contained within [10, 50]\n   * brush.containsRange('Sales', { min: 5, max: 20 }); // false - part of the range segment is outside [10, 50]\n   * brush.containsRange('Sales', { min: 30, max: 80 }); // false - part of the range segment is outside [10, 50]\n   */\n  fn.containsRange = (key, range) => {\n    let k = aliases[key] || key;\n    if (!ranges[k]) {\n      return false;\n    }\n    return ranges[k].containsRange(range);\n  };\n\n  fn.containsMappedData = (d, props, mode) => {\n    let status = [];\n    const keys = Object.keys(d);\n    let key;\n    let item;\n    let source;\n    let value;\n\n    for (let i = 0, num = keys.length; i < num; i++) {\n      key = keys[i];\n      if (key === 'value') {\n        item = d;\n        status[i] = { key: '', i, bool: false };\n      } else if (key === 'source') {\n        continue;\n      } else {\n        item = d[key];\n        status[i] = { key, i, bool: false };\n      }\n      source = item.source && item.source.field;\n      if (typeof source === 'undefined') {\n        continue;\n      }\n      if (typeof item.source.key !== 'undefined') {\n        source = `${item.source.key}/${source}`;\n      }\n\n      if (source in aliases) {\n        source = aliases[source];\n      }\n\n      value = item.value;\n      if (ranges[source]) {\n        status[i].bool = Array.isArray(value) ? ranges[source].containsRange({ min: value[0], max: value[1] }) : ranges[source].containsValue(value);\n      } else if (values[source] && values[source].contains(value)) {\n        status[i].bool = true;\n      }\n    }\n\n    if (props) {\n      status = status.filter(b => props.indexOf(b.key) !== -1);\n      if (mode === 'and') {\n        return !!status.length && !status.some(s => s.bool === false);\n      }\n      if (mode === 'xor') {\n        return !!status.length && status.some(s => s.bool) && status.some(s => s.bool === false);\n      }\n      // !mode || mode === 'or'\n      return status.some(s => s.bool);\n    }\n    return status.some(s => s.bool);\n  };\n\n  /**\n   * Adds an event interceptor\n   *\n   * @param {string} name Name of the event to intercept\n   * @param {function} ic Handler to call before event is triggered\n   * @example\n   * brush.intercept('add-values', items => {\n   *  console.log('about to add the following items', items);\n   *  return items;\n   * });\n   */\n  fn.intercept = (name, ic) => {\n    const s = toCamelCase(name);\n    if (!interceptors[s]) {\n      return;\n    }\n    interceptors[s].push(ic);\n  };\n\n  /**\n   * Removes an interceptor\n   *\n   * @param {string} name Name of the event to intercept\n   * @param {function} ic Handler to remove\n   */\n  fn.removeInterceptor = (name, ic) => {\n    const s = toCamelCase(name);\n    if (!interceptors[s]) {\n      return;\n    }\n    const idx = interceptors[s].indexOf(ic);\n    if (idx !== -1) {\n      interceptors[s].splice(idx, 1);\n    }\n  };\n\n  /**\n   * Removes all interceptors\n   *\n   * @param {string} [name] Name of the event to remove interceptors for. If not provided, removes all interceptors.\n   */\n  fn.removeAllInterceptors = (name) => {\n    const toRemove = [];\n    if (name) {\n      const s = toCamelCase(name);\n      if (interceptors[s] && interceptors[s].length) {\n        toRemove.push({ name, handlers: interceptors[s] });\n      }\n    } else {\n      Object.keys(interceptors).forEach((n) => {\n        if (interceptors[n].length) {\n          toRemove.push({ name: toSnakeCase(n), handlers: interceptors[n] });\n        }\n      });\n    }\n\n    toRemove.forEach((ic) => {\n      const interceptorHandlers = ic.handlers.slice();\n      interceptorHandlers.forEach(handler => fn.removeInterceptor(ic.name, handler));\n    });\n  };\n\n  /**\n   * Adds an alias to the given key\n   *\n   * @param {string} key - Value to be replaced\n   * @param {string} alias - Value to replace key with\n   * @example\n   * brush.addKeyAlias('BadFieldName', 'Region');\n   * brush.addValue('BadFieldName', 'Sweden'); // 'BadFieldName' will be stored as 'Region'\n   * brush.containsValue('Region', 'Sweden'); // true\n   * brush.containsValue('BadFieldName', 'Sweden'); // true\n   */\n  fn.addKeyAlias = (key, alias) => {\n    aliases[key] = alias;\n  };\n\n  /**\n   * Removes an alias\n   *\n   * This will only remove the key to alias mapping for new manipulations of the brush,\n   * no changes will be made to the current state of this brush.\n   *\n   * @param {string} key - Value to remove as alias\n   * @example\n   * brush.removeKeyAlias('BadFieldName');\n   */\n  fn.removeKeyAlias = (key) => {\n    delete aliases[key];\n  };\n\n  EventEmitter.mixin(fn);\n\n  return fn;\n}\n","import brush from './brush';\nimport registry from '../utils/registry';\n\nconst reg = registry();\n\nexport function register(type, b) {\n  if (b) {\n    reg.add(type, b);\n  }\n  return reg.get(type);\n}\n\nexport default brush;\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import extend from 'extend';\nimport { interpolateObject } from 'd3-interpolate';\nimport {\n  easeCubic,\n  easeElasticOut\n} from 'd3-ease';\n\n/* globals window */\n\nfunction nodeId(node, i) {\n  if (node.data) {\n    return node.data.value;\n  }\n  if (node.type === 'text') {\n    return node.text;\n  }\n  return i;\n}\n\nfunction tween({\n  old,\n  current\n}, {\n  renderer\n}, config) {\n  let ticker;\n  // let staticNodes = [];\n  let toBeUpdated = [];\n  let entered = { nodes: [], ips: [] };\n  let exited = { nodes: [], ips: [] };\n  let updated = { nodes: [], ips: [] };\n  let stages = [];\n  const trackBy = config.trackBy || nodeId;\n\n  const tweener = {\n    start() {\n      let ids = {};\n      old.forEach((node, i) => {\n        let id = trackBy(node, i);\n        ids[id] = node;\n      });\n      current.forEach((node, i) => {\n        let id = trackBy(node, i);\n        if (ids[id]) {\n          updated.ips.push(interpolateObject(ids[id], node));\n          updated.nodes.push(node);\n          toBeUpdated.push(ids[id]);\n          ids[id] = false;\n        } else {\n          entered.nodes.push(node);\n          entered.ips.push(interpolateObject({\n            r: 0.001,\n            opacity: 0\n          }, node));\n        }\n      });\n      Object.keys(ids).forEach((key) => {\n        if (ids[key]) {\n          exited.nodes.push(ids[key]);\n          exited.ips.push(interpolateObject(ids[key], extend({}, ids[key], { r: 0.0001, opacity: 0 })));\n        }\n      });\n      if (exited.ips.length) {\n        stages.push({\n          easing: easeCubic,\n          duration: 200,\n          tweens: exited.ips,\n          nodes: [...toBeUpdated]\n        });\n      }\n      if (updated.ips.length) {\n        stages.push({\n          easing: easeCubic,\n          duration: 400,\n          tweens: updated.ips,\n          nodes: []\n        });\n      }\n      if (entered.ips.length) {\n        stages.push({\n          easing: easeElasticOut,\n          duration: 1200,\n          tweens: entered.ips,\n          nodes: [...updated.nodes]\n        });\n      }\n      // console.log(stages);\n      if (stages.length) {\n        stages[0].started = Date.now();\n        if (typeof window !== 'undefined') {\n          ticker = window.requestAnimationFrame(tweener.tick);\n        }\n      }\n    },\n    tick() {\n      let currentStage = stages[0];\n      if (!currentStage) {\n        tweener.stop();\n      }\n      if (!currentStage.started) {\n        currentStage.started = Date.now();\n      }\n      let t = (Date.now() - currentStage.started) / currentStage.duration;\n      let currentNodes = [];\n      let tweenedNodes = currentStage.tweens.map(ip => ip(currentStage.easing(Math.min(1, t))));\n      currentNodes.push(...tweenedNodes);\n      currentNodes.push(...currentStage.nodes);\n      // currentNodes.push(...staticNodes);\n      // stages.slice(1).forEach(stage => currentNodes.push(...stage.nodes));\n      renderer.render(currentNodes);\n      if (t >= 1) {\n        // staticNodes.push(...currentStage.nodes);\n        stages.shift();\n        if (!stages.length) {\n          tweener.stop();\n        }\n      }\n      if (ticker) {\n        ticker = window.requestAnimationFrame(tweener.tick);\n      }\n    },\n    stop() {\n      if (ticker) {\n        window.cancelAnimationFrame(ticker);\n        ticker = false;\n      }\n    }\n  };\n\n  return tweener;\n}\n\nexport { tween as default };\n","import extend from 'extend';\n\nconst GLOBAL_DEFAULTS = {\n  fontFamily: 'Arial',\n  fontSize: '13px',\n  color: '#595959',\n  backgroundColor: '#ffffff',\n  stroke: '#000000',\n  strokeWidth: 0,\n  $fill: '#333333'\n};\n\nconst REF_RX = /^\\$/;\n\nfunction isPrimitive(x) {\n  const type = typeof x;\n  return type !== 'object' && type !== 'function' && type !== 'undefined';\n}\n\n/**\n * @callback datum-accessor\n * @param {datum-extract} d\n */\n\n/**\n * @typedef {object} datum-config\n * @property {string} [scale]\n * @property {datum-accessor} fn\n * @property {string} ref - A reference to a datum-extract property\n */\n\n/**\n * @typedef {string|datum-config|datum-accessor} datum-string\n */\n\n/**\n * @typedef {number|datum-config|datum-accessor} datum-number\n */\n\n/**\n * Normalizes property settings\n *\n * @ignore\n * @export\n * @param {any} settings\n * @param {any} defaults\n * @param {any} chart\n * @returns {any}\n */\nexport function normalizeSettings(settings, defaults, chart) {\n  const composition = extend({}, settings);\n  const defs = extend({}, defaults);\n  Object.keys(composition).forEach((key) => {\n    defs[key] = {};\n    const v = composition[key];\n    const vType = typeof v;\n    if (typeof v === 'function') {\n      defs[key].fn = v;\n    } else if (isPrimitive(v)) {\n      let defaultValue = defaults[key];\n      if (typeof defaultValue === 'string' && REF_RX.test(defaultValue)) {\n        defaultValue = GLOBAL_DEFAULTS[defaultValue];\n      }\n      const defaultType = typeof defaultValue;\n      if (defaultType === 'undefined') { // if property has no default, assign provided value\n        defs[key] = v;\n      } else { // assign provided value if it's of same type as default, otherwise use default\n        defs[key] = defaultType === vType ? v : defaultValue;\n      }\n    } else if (v && typeof v === 'object') {\n      if (typeof v.fn === 'function') {\n        defs[key].fn = v.fn;\n      }\n      if (typeof v.scale !== 'undefined') {\n        defs[key].scale = chart.scale(v.scale);\n      }\n      if (typeof v.ref === 'string') {\n        defs[key].ref = v.ref;\n      }\n    }\n  });\n\n  Object.keys(defaults).forEach((key) => {\n    if (key in composition) { // don't process same props again\n      return;\n    }\n    const v = defaults[key];\n    const defaultType = typeof v;\n    if (defaultType === 'string' && REF_RX.test(v)) {\n      defs[key] = GLOBAL_DEFAULTS[v];\n    } else {\n      defs[key] = v;\n    }\n  });\n\n  return defs;\n}\n\nexport function resolveForItem(context, normalized) {\n  const ret = {};\n  const keys = Object.keys(normalized);\n  const len = keys.length;\n  const fallbackData = context.datum;\n  const datum = context.datum;\n  const dataContext = context.data && context.data.items;\n  const idx = dataContext ? dataContext.indexOf(datum) : -1;\n  for (let i = 0; i < len; i++) {\n    const key = keys[i];\n    const normalizedProp = normalized[key];\n    const exists = typeof datum === 'object' && typeof normalizedProp !== 'undefined';\n    const hasExplicitDataProp = exists && typeof normalizedProp.ref === 'string';\n    const hasImplicitDataProp = exists && key in datum;\n    const propData = hasExplicitDataProp ? datum[normalizedProp.ref] : hasImplicitDataProp ? datum[key] : fallbackData; // eslint-disable-line\n    if (isPrimitive(normalizedProp)) {\n      ret[key] = normalizedProp;\n    } else if (exists && normalizedProp.fn) { // callback function\n      if (normalizedProp.scale) {\n        context.scale = normalizedProp.scale;\n      }\n      ret[key] = normalizedProp.fn.call(null, context, idx);\n    } else if (exists && normalizedProp.scale && propData) {\n      ret[key] = normalizedProp.scale(propData.value);\n      if (normalizedProp.scale.bandwidth) {\n        ret[key] += normalizedProp.scale.bandwidth() / 2;\n      }\n    } else if (hasExplicitDataProp && propData) {\n      ret[key] = propData.value;\n    } else if (normalizedProp.fn) {\n      ret[key] = normalizedProp.fn.call(null, context, idx);\n    } else {\n      ret[key] = normalizedProp;\n    }\n  }\n  return ret;\n}\n","\nexport function updateScaleSize(object, path, size) {\n  const o = object[path];\n  if (o && o.scale && o.scale.pxScale) {\n    o.scale = o.scale.pxScale(size);\n  } else if (o && o.pxScale) {\n    object[path] = o.pxScale(size);\n  }\n}\n\nexport function scaleWithSize(scale, size) {\n  return scale.pxScale ? scale.pxScale(size) : scale;\n}\n","import { normalizeSettings, resolveForItem } from '../chart-components/property-resolver';\nimport { updateScaleSize } from '../scales';\n\nconst externals = {\n  normalizeSettings,\n  resolveForItem,\n  updateScaleSize\n};\n\nexport default function (resources, deps = externals) {\n  let cache = {};\n\n  function resolve({\n    data,\n    settings,\n    defaults = {},\n    scaled\n  }) {\n    const norm = cache.norm = deps.normalizeSettings(settings, defaults, resources.chart);\n\n    const res = {\n      scale: resources.chart.scale,\n      formatter: resources.chart.formatter\n    };\n\n    if (scaled) {\n      Object.keys(scaled).forEach((key) => {\n        if (norm[key]) {\n          deps.updateScaleSize(norm, key, scaled[key]);\n        }\n      });\n    }\n\n    const resolved = [];\n\n    if (data && Array.isArray(data.items)) {\n      for (let i = 0, len = data.items.length; i < len; i++) {\n        const context = {\n          datum: data.items[i],\n          data,\n          resources: res\n        };\n        let obj = deps.resolveForItem(context, cache.norm);\n        obj.data = data.items[i];\n        resolved.push(obj);\n      }\n    } else {\n      const context = {\n        data,\n        resources: res\n      };\n      let obj = deps.resolveForItem(context, cache.norm);\n      return {\n        settings: cache.norm,\n        item: obj\n      };\n    }\n\n    return {\n      settings: cache.norm,\n      items: resolved\n    };\n  }\n\n  return {\n    resolve\n  };\n}\n","import extend from 'extend';\nimport { isTouchEvent } from '../utils/event-type';\n\n/**\n * Flatten the array of nodes by removing any containers as they do not support styling, thus unable to brush them.\n * @param {array} nodes\n * @ignore\n */\nexport function reduceToLeafNodes(nodes = []) {\n  return nodes.reduce((ary, node) => {\n    if (Array.isArray(node.children)) {\n      return ary.concat(reduceToLeafNodes(node.children));\n    }\n    ary.push(node);\n    return ary;\n  }, []);\n}\n\nexport function styler(obj, {\n  context,\n  data,\n  style,\n  filter\n}) {\n  const brusher = obj.chart.brush(context);\n  const dataProps = data;\n  const active = style.active || {};\n  const inactive = style.inactive || {};\n  const styleProps = [];\n  Object.keys(active).forEach((key) => {\n    styleProps.push(key);\n  });\n\n  Object.keys(inactive).forEach((key) => {\n    if (styleProps.indexOf(key) === -1) {\n      styleProps.push(key);\n    }\n  });\n\n  const activeNodes = [];\n  let globalActivation = false; // track when we need to loop through all nodes, not just the active ones\n\n  const getNodes = () => {\n    let nodes = reduceToLeafNodes(obj.nodes);\n    if (typeof filter === 'function') {\n      nodes = nodes.filter(filter);\n    }\n    return nodes;\n  };\n\n  const update = () => {\n    // TODO - render nodes only once, i.e. don't render for each brush, update nodes for all brushes and then render\n    const nodes = getNodes();\n    const len = nodes.length;\n    let nodeData;\n    let globalChanged = false;\n\n    for (let i = 0; i < len; i++) { // TODO - update only added and removed nodes\n      nodeData = nodes[i].data;\n      if (!nodeData) {\n        continue;\n      }\n\n      if (!nodes[i].__style) {\n        nodes[i].__style = {};\n        styleProps.forEach((s) => {\n          nodes[i].__style[s] = nodes[i][s]; // store original value\n        });\n      }\n\n      const isActive = brusher.containsMappedData(nodeData, dataProps);\n      const activeIdx = activeNodes.indexOf(nodes[i]);\n      let changed = false;\n      if (isActive && activeIdx === -1) { // activated\n        activeNodes.push(nodes[i]);\n        changed = true;\n      } else if (!isActive && activeIdx !== -1) { // was active\n        activeNodes.splice(activeIdx, 1);\n        changed = true;\n      }\n      if (changed || globalActivation) {\n        const original = extend({}, nodes[i], nodes[i].__style);\n        styleProps.forEach((s) => {\n          if (isActive && s in active) {\n            nodes[i][s] = typeof active[s] === 'function' ? active[s].call(null, original) : active[s];\n          } else if (!isActive && s in inactive) {\n            nodes[i][s] = typeof inactive[s] === 'function' ? inactive[s].call(null, original) : inactive[s];\n          } else {\n            nodes[i][s] = nodes[i].__style[s];\n          }\n        });\n        globalChanged = true;\n      }\n    }\n    globalActivation = false;\n    return globalChanged;\n  };\n\n  const onStart = () => {\n    const nodes = getNodes();\n    const len = nodes.length;\n    for (let i = 0; i < len; i++) {\n      nodes[i].__style = nodes[i].__style || {};\n      styleProps.forEach((s) => {\n        nodes[i].__style[s] = nodes[i][s]; // store original value\n        if (s in inactive) {\n          nodes[i][s] = typeof inactive[s] === 'function' ? inactive[s].call(null, nodes[i]) : inactive[s];\n        }\n      });\n    }\n    globalActivation = true;\n    activeNodes.length = 0;\n    obj.renderer.render(obj.nodes);\n  };\n\n  const onEnd = () => {\n    const nodes = getNodes();\n    const len = nodes.length;\n\n    for (let i = 0; i < len; i++) {\n      if (nodes[i].__style) {\n        Object.keys(nodes[i].__style).forEach((s) => {\n          nodes[i][s] = nodes[i].__style[s];\n        });\n        nodes[i].__style = undefined;\n      }\n    }\n    activeNodes.length = 0;\n    obj.renderer.render(obj.nodes);\n  };\n  const onUpdate = (/* added, removed */) => {\n    const changed = update();\n    if (changed) {\n      obj.renderer.render(obj.nodes);\n    }\n  };\n\n  const externalUpdate = () => {\n    activeNodes.length = 0;\n    globalActivation = true;\n    update();\n  };\n\n  brusher.on('start', onStart);\n  brusher.on('end', onEnd);\n  brusher.on('update', onUpdate);\n\n  function cleanUp() {\n    brusher.removeListener('start', onStart);\n    brusher.removeListener('end', onEnd);\n    brusher.removeListener('update', onUpdate);\n  }\n\n  return {\n    isActive() {\n      return brusher.isActive();\n    },\n    update: externalUpdate,\n    cleanUp\n  };\n}\n\nexport function brushDataPoints({\n  dataPoints,\n  action,\n  chart,\n  trigger\n}) {\n  if (!trigger) {\n    return;\n  }\n\n  const dataProps = trigger.data || [''];\n\n  let rangeBrush = {\n    items: [],\n    actionFn: 'toggleRanges'\n  };\n  let valueBrush = {\n    items: [],\n    actionFn: 'toggleValues'\n  };\n\n  if (['add', 'remove', 'set', 'toggle'].indexOf(action) !== -1) {\n    rangeBrush.actionFn = `${action}Ranges`;\n    valueBrush.actionFn = `${action}Values`;\n  }\n\n  for (let i = 0; i < dataPoints.length; i++) {\n    const dataPoint = dataPoints[i];\n    if (!dataPoint) {\n      continue;\n    }\n    dataProps.forEach((p) => {\n      let d = dataPoint && !p ? dataPoint : dataPoint[p];\n      if (d) {\n        let it = { key: d.source.field };\n        if (typeof d.source.key !== 'undefined') {\n          it.key = `${d.source.key}/${d.source.field}`;\n        }\n        if (Array.isArray(d.value)) {\n          it.range = { min: d.value[0], max: d.value[1] };\n          rangeBrush.items.push(it);\n        } else {\n          it.value = d.value;\n          valueBrush.items.push(it);\n        }\n      }\n    });\n  }\n\n  trigger.contexts.forEach((c) => {\n    if (rangeBrush.items.length) {\n      chart.brush(c)[rangeBrush.actionFn](rangeBrush.items);\n    } else {\n      chart.brush(c)[valueBrush.actionFn](valueBrush.items); // call action even if there are items to potentially clear what is currently in the brush\n    }\n  });\n}\n\nexport function brushFromSceneNodes({\n  nodes,\n  action,\n  chart,\n  trigger\n}) {\n  const dataPoints = [];\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    let nodeData = node.data;\n    if (nodeData !== null) {\n      dataPoints.push(nodeData);\n    }\n  }\n\n  brushDataPoints({\n    dataPoints,\n    action,\n    chart,\n    trigger\n  });\n}\n\nexport function resolveEvent({\n  collisions, t, config, action\n}) {\n  let brushCollisions = [];\n  let resolved = false;\n\n  if (collisions.length > 0) {\n    brushCollisions = collisions;\n    resolved = true;\n\n    if (t.propagation === 'stop') {\n      brushCollisions = [collisions[collisions.length - 1]];\n    }\n  }\n\n  const nodes = brushCollisions.map(c => c.node);\n  brushFromSceneNodes({\n    nodes,\n    action,\n    chart: config.chart,\n    data: config.data,\n    trigger: t\n  });\n\n  return resolved;\n}\n\nfunction touchSingleContactPoint(e, rect) {\n  if (e.changedTouches.length !== 1) {\n    return null;\n  }\n\n  return {\n    x: e.changedTouches[0].clientX - rect.left,\n    y: e.changedTouches[0].clientY - rect.top\n  };\n}\n\nfunction singleContactPoint(e, rect) {\n  return {\n    x: e.clientX - rect.left,\n    y: e.clientY - rect.top\n  };\n}\n\nfunction resolveCollisions(e, t, renderer) {\n  const rect = renderer.element().getBoundingClientRect();\n  let p = isTouchEvent(e) ? touchSingleContactPoint(e, rect) : singleContactPoint(e, rect);\n\n  if (p === null || p.x < 0 || p.y < 0 || p.x > rect.width || p.y > rect.height) { // TODO include radius in this check?\n    return [];\n  }\n\n  if (t.touchRadius > 0 && isTouchEvent(e)) {\n    p = {\n      cx: p.x,\n      cy: p.y,\n      r: t.touchRadius // TODO Use touch event radius/width value (Need to handle dpi scaling as well)\n    };\n  }\n\n  return renderer.itemsAt(p);\n}\n\nfunction resolveAction(action, e, def) {\n  if (action) {\n    if (typeof action === 'function') {\n      return action(e);\n    }\n    return action;\n  }\n  return def;\n}\n\nexport function resolveTapEvent({ e, t, config }) {\n  const collisions = resolveCollisions(e, t, config.renderer);\n\n  return resolveEvent({\n    collisions, t, config, action: resolveAction(t.action, e, 'toggle')\n  });\n}\n\nexport function resolveOverEvent({ e, t, config }) {\n  const collisions = resolveCollisions(e, t, config.renderer);\n\n  return resolveEvent({\n    collisions, t, config, action: resolveAction(t.action, e, 'set')\n  });\n}\n","/* eslint camelcase: 1 */\nimport extend from 'extend';\nimport EventEmitter from '../utils/event-emitter';\nimport extractData from '../data/extractor';\nimport tween from './tween';\nimport settingsResolver from './settings-resolver';\nimport {\n  styler as brushStyler,\n  resolveTapEvent,\n  resolveOverEvent,\n  brushFromSceneNodes\n} from './brushing';\n\nconst isReservedProperty = prop => [\n  'on', 'preferredSize', 'created', 'beforeMount', 'mounted', 'resize',\n  'beforeUpdate', 'updated', 'beforeRender', 'render', 'beforeUnmount', 'beforeDestroy',\n  'destroyed', 'defaultSettings', 'data', 'settings', 'formatter',\n  'scale', 'chart', 'dockConfig', 'mediator', 'style', 'resolver', 'registries',\n  '_DO_NOT_USE_getInfo'\n].some(name => name === prop);\n\nfunction prepareContext(ctx, definition, opts) {\n  const {\n    require = []\n  } = definition;\n  const mediatorSettings = definition.mediator || {};\n  const {\n    settings,\n    formatter,\n    scale,\n    data,\n    renderer,\n    chart,\n    dockConfig,\n    mediator,\n    instance,\n    style,\n    registries,\n    resolver,\n    update,\n    _DO_NOT_USE_getInfo\n  } = opts;\n\n  // TODO add setters and log warnings / errors to console\n  Object.defineProperty(ctx, 'settings', {\n    get: settings\n  });\n  Object.defineProperty(ctx, 'data', {\n    get: data\n  });\n  Object.defineProperty(ctx, 'formatter', {\n    get: formatter\n  });\n  Object.defineProperty(ctx, 'scale', {\n    get: scale\n  });\n  Object.defineProperty(ctx, 'mediator', {\n    get: mediator\n  });\n  Object.defineProperty(ctx, 'style', {\n    get: style\n  });\n  Object.defineProperty(ctx, 'registries', {\n    get: registries\n  });\n\n  // TODO _DO_NOT_USE_getInfo is a temporary solution to expose info from a component\n  // It should replace ASAP with a proper solution.\n  // The only component activaly in need of it is the legend-cat\n  if (_DO_NOT_USE_getInfo) {\n    ctx._DO_NOT_USE_getInfo = _DO_NOT_USE_getInfo;\n  }\n\n  Object.keys(definition).forEach((key) => {\n    if (!isReservedProperty(key)) {\n      // Add non-lifecycle methods to the context\n      if (typeof definition[key] === 'function') {\n        ctx[key] = definition[key].bind(ctx);\n      } else {\n        ctx[key] = definition[key];\n      }\n    }\n  });\n\n  // Add properties to context\n  require.forEach((req) => {\n    if (req === 'renderer') {\n      Object.defineProperty(ctx, 'renderer', {\n        get: renderer\n      });\n    } else if (req === 'chart') {\n      Object.defineProperty(ctx, 'chart', {\n        get: chart\n      });\n    } else if (req === 'dockConfig') {\n      Object.defineProperty(ctx, 'dockConfig', {\n        get: dockConfig\n      });\n    } else if (req === 'instance') {\n      Object.defineProperty(ctx, 'instance', {\n        get: instance\n      });\n    } else if (req === 'update' && update) {\n      Object.defineProperty(ctx, 'update', {\n        get: update\n      });\n    } else if (req === 'resolver') {\n      Object.defineProperty(ctx, 'resolver', {\n        get: resolver\n      });\n    }\n  });\n\n  Object.keys(mediatorSettings).forEach((eventName) => {\n    ctx.mediator.on(eventName, mediatorSettings[eventName].bind(ctx));\n  });\n}\n\nfunction updateDockConfig(config, settings) {\n  config.displayOrder = settings.displayOrder;\n  config.dock = settings.dock;\n  config.prioOrder = settings.prioOrder;\n  config.minimumLayoutMode = settings.minimumLayoutMode;\n  config.show = settings.show;\n  return config;\n}\n\nfunction setUpEmitter(ctx, emitter, settings) {\n  // Object.defineProperty(ctx, 'emitter', )\n  Object.keys(settings.on || {}).forEach((event) => {\n    ctx.eventListeners = ctx.eventListeners || [];\n    const listener = settings.on[event].bind(ctx);\n    ctx.eventListeners.push({ event, listener });\n    emitter.on(event, listener);\n  });\n  ctx.emit = (name, ...event) => emitter.emit(name, ...event);\n}\n\n// First render\n// preferredSize -> resize -> beforeRender -> render -> mounted\n\n// Normal update\n// beforeUpdate -> preferredSize -> resize -> beforeRender -> render -> updated\n\n// Update without relayout\n// beforeUpdate -> beforeRender -> render -> updated\n\n// TODO support es6 classes\nfunction componentFactory(definition, context = {}) {\n  const {\n    defaultSettings = {},\n    _DO_NOT_USE_getInfo = () => ({})\n  } = definition;\n  const {\n    chart,\n    container,\n    mediator,\n    registries,\n    theme,\n    renderer // Used by tests\n  } = context;\n  const config = context.settings || {};\n  const emitter = EventEmitter.mixin({});\n  let settings = extend(true, {}, defaultSettings, config);\n  let data = [];\n  let scale;\n  let formatter;\n  let element;\n  let size;\n  let style;\n  let resolver = settingsResolver({\n    chart\n  });\n\n  const brushArgs = {\n    nodes: [],\n    chart,\n    config: settings.brush || {},\n    renderer: null\n  };\n  const brushTriggers = {\n    tap: [],\n    over: []\n  };\n  const brushStylers = [];\n  const definitionContext = {};\n  const instanceContext = extend({}, config);\n\n  // Create a callback that calls lifecycle functions in the definition and config (if they exist).\n  function createCallback(method, defaultMethod = () => {}) {\n    return function cb(...args) {\n      const inDefinition = typeof definition[method] === 'function';\n      const inConfig = typeof config[method] === 'function';\n\n      let returnValue;\n      if (inDefinition) {\n        returnValue = definition[method].call(definitionContext, ...args);\n      }\n      if (typeof config[method] === 'function') {\n        returnValue = config[method].call(instanceContext, ...args);\n      }\n      if (!inDefinition && !inConfig) {\n        returnValue = defaultMethod.call(definitionContext, ...args);\n      }\n      return returnValue;\n    };\n  }\n\n  const preferredSize = createCallback('preferredSize', () => 0);\n  const resize = createCallback('resize', ({ inner }) => inner);\n  const created = createCallback('created');\n  const beforeMount = createCallback('beforeMount');\n  const mounted = createCallback('mounted');\n  const beforeUnmount = createCallback('beforeUnmount');\n  const beforeUpdate = createCallback('beforeUpdate');\n  const updated = createCallback('updated');\n  const beforeRender = createCallback('beforeRender');\n  const beforeDestroy = createCallback('beforeDestroy');\n  const destroyed = createCallback('destroyed');\n  const render = definition.render; // Do not allow overriding of this function\n\n  const addBrushStylers = () => {\n    if (settings.brush) {\n      (settings.brush.consume || []).forEach((b) => {\n        if (b.context && b.style) {\n          brushStylers.push(brushStyler(brushArgs, b));\n        }\n      });\n    }\n  };\n\n  const addBrushTriggers = () => {\n    if (settings.brush) {\n      (settings.brush.trigger || []).forEach((t) => {\n        if (t.on === 'over') {\n          brushTriggers.over.push(t);\n        } else {\n          brushTriggers.tap.push(t);\n        }\n      });\n    }\n  };\n\n  Object.defineProperty(brushArgs, 'data', {\n    get: () => data\n  });\n\n  const rendString = settings.renderer || definition.renderer;\n  const rend = rendString ? renderer || registries.renderer(rendString)() : renderer || registries.renderer()();\n  brushArgs.renderer = rend;\n\n  const dockConfig = {\n    requiredSize: (inner, outer) => preferredSize({\n      inner,\n      outer,\n      dock: dockConfig.dock\n    })\n  };\n  updateDockConfig(dockConfig, settings);\n\n  const appendComponentMeta = (node) => {\n    node.key = settings.key;\n    node.element = rend.element();\n  };\n\n  const fn = () => {};\n\n  fn.dockConfig = dockConfig;\n\n  // Set new settings - will trigger mapping of data and creation of scale / formatter.\n  fn.set = (opts = {}) => {\n    if (opts.settings) {\n      settings = extend(true, {}, defaultSettings, opts.settings);\n      updateDockConfig(dockConfig, settings);\n    }\n\n    if (settings.scale) {\n      scale = chart.scale(settings.scale);\n    }\n\n    if (settings.data) {\n      data = extractData(settings.data, { dataset: chart.dataset, collection: chart.dataCollection }, { logger: chart.logger() }, chart.dataCollection);\n    } else if (scale) {\n      data = scale.data();\n    } else {\n      data = [];\n    }\n\n    if (typeof settings.formatter === 'string') {\n      formatter = chart.formatter(settings.formatter);\n    } else if (typeof settings.formatter === 'object') {\n      formatter = chart.formatter(settings.formatter);\n    } else if (scale && scale.data().fields) {\n      formatter = scale.data().fields[0].formatter();\n    }\n\n    style = theme.style(settings.style || {});\n  };\n\n  fn.resize = (inner, outer) => {\n    const newSize = resize({\n      inner,\n      outer\n    });\n    if (newSize) {\n      rend.size(newSize);\n      size = newSize;\n    } else {\n      rend.size(inner);\n      size = inner;\n    }\n    instanceContext.rect = inner;\n  };\n\n  fn.getRect = () => instanceContext.rect;\n\n  const getRenderArgs = () => {\n    const renderArgs = rend.renderArgs ? rend.renderArgs.slice(0) : [];\n    renderArgs.push({\n      data\n    });\n    return renderArgs;\n  };\n\n  fn.beforeMount = beforeMount;\n\n  fn.beforeRender = () => {\n    beforeRender({\n      size\n    });\n  };\n\n  let currentNodes;\n\n  fn.render = () => {\n    const nodes = brushArgs.nodes = render.call(definitionContext, ...getRenderArgs());\n    rend.render(nodes);\n    currentNodes = nodes;\n  };\n\n  fn.hide = () => {\n    fn.unmount();\n    rend.size({\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    });\n    rend.clear();\n  };\n\n  fn.beforeUpdate = () => {\n    beforeUpdate({\n      settings,\n      data\n    });\n  };\n\n  let currentTween;\n  fn.update = () => {\n    if (currentTween) {\n      currentTween.stop();\n    }\n    const nodes = brushArgs.nodes = render.call(definitionContext, ...getRenderArgs());\n\n    // Reset brush stylers and triggers\n    brushStylers.forEach(b => b.cleanUp());\n    brushStylers.length = 0;\n    brushTriggers.tap = [];\n    brushTriggers.over = [];\n\n    if (settings.brush) {\n      addBrushStylers();\n      addBrushTriggers();\n    }\n\n    brushStylers.forEach((bs) => {\n      if (bs.isActive()) {\n        bs.update();\n      }\n    });\n\n    if (currentNodes && settings.animations && settings.animations.enabled) {\n      currentTween = tween({\n        old: currentNodes,\n        current: nodes\n      }, { renderer: rend }, settings.animations);\n      currentTween.start();\n    } else {\n      rend.render(nodes);\n    }\n    currentNodes = nodes;\n  };\n\n  fn.updated = updated;\n\n  fn.destroy = () => {\n    fn.unmount();\n    beforeDestroy(element);\n    rend.destroy();\n    destroyed();\n    element = null;\n  };\n\n  /**\n   * Update active nodes. For now this can be used as a way update and apply brushing on nodes.\n   * Ex: if a component have changed the nodes since its initial render.\n   * @param {Nodes[]} nodes\n   * @deprecated\n   * @ignore\n   */\n  const updateNodes = (nodes) => {\n    brushArgs.nodes = nodes;\n    brushStylers.forEach((bs) => {\n      if (bs.isActive()) {\n        bs.update();\n      }\n    });\n    rend.render(nodes);\n  };\n\n  // Set contexts, note that the definition and instance need different contexts (for example if they have different 'require' props)\n  prepareContext(definitionContext, definition, {\n    settings: () => settings,\n    data: () => data,\n    scale: () => scale,\n    formatter: () => formatter,\n    renderer: () => rend,\n    chart: () => chart,\n    dockConfig: () => dockConfig,\n    mediator: () => mediator,\n    instance: () => instanceContext,\n    style: () => style,\n    update: () => updateNodes,\n    registries: () => registries,\n    resolver: () => resolver\n  });\n\n  prepareContext(instanceContext, config, {\n    settings: () => settings,\n    data: () => data,\n    scale: () => scale,\n    formatter: () => formatter,\n    renderer: () => rend,\n    chart: () => chart,\n    dockConfig: () => dockConfig,\n    mediator: () => mediator,\n    style: () => style,\n    _DO_NOT_USE_getInfo: _DO_NOT_USE_getInfo.bind(definitionContext)\n  });\n\n  fn.getBrushedShapes = function getBrushedShapes(brushCtx, mode, props) {\n    const shapes = [];\n    if (settings.brush && settings.brush.consume) {\n      const brusher = chart.brush(brushCtx);\n      const sceneNodes = rend.findShapes('*');\n      settings.brush.consume\n        .filter(t => t.context === brushCtx)\n        .forEach((consume) => {\n          for (let i = 0; i < sceneNodes.length; i++) {\n            const node = sceneNodes[i];\n            if (node.data && brusher.containsMappedData(node.data, props || consume.data, mode)) {\n              appendComponentMeta(node);\n              shapes.push(node);\n              sceneNodes.splice(i, 1);\n              i--;\n            }\n          }\n        });\n    }\n    return shapes;\n  };\n\n  fn.findShapes = (selector) => {\n    const shapes = rend.findShapes(selector);\n    for (let i = 0, num = shapes.length; i < num; i++) {\n      appendComponentMeta(shapes[i]);\n    }\n\n    return shapes;\n  };\n\n  fn.shapesAt = (shape, opts = {}) => {\n    const items = rend.itemsAt(shape);\n    let shapes;\n\n    if (opts && opts.propagation === 'stop' && items.length > 0) {\n      shapes = [items.pop().node];\n    } else {\n      shapes = items.map(i => i.node);\n    }\n\n    for (let i = 0, num = shapes.length; i < num; i++) {\n      appendComponentMeta(shapes[i]);\n    }\n\n    return shapes;\n  };\n\n  fn.brushFromShapes = (shapes, trigger = {}) => {\n    trigger.contexts = Array.isArray(trigger.contexts) ? trigger.contexts : [];\n    const action = trigger.action || 'toggle';\n\n    brushFromSceneNodes({\n      nodes: shapes,\n      action,\n      trigger,\n      chart,\n      data: brushArgs.data\n    });\n  };\n\n  fn.mount = () => {\n    element = rend.element && rend.element() ? element : rend.appendTo(container);\n\n    if (settings.brush) {\n      addBrushStylers();\n      addBrushTriggers();\n    }\n\n    setUpEmitter(instanceContext, emitter, config);\n    setUpEmitter(definitionContext, emitter, definition);\n  };\n\n  fn.mounted = () => mounted(element);\n\n  fn.unmount = () => {\n    [instanceContext, definitionContext].forEach((ctx) => {\n      (ctx.eventListeners || []).forEach(({ event, listener }) => {\n        emitter.removeListener(event, listener);\n      });\n    });\n    brushTriggers.tap = [];\n    brushTriggers.over = [];\n    brushStylers.forEach((bs) => {\n      bs.cleanUp();\n    });\n    brushStylers.length = 0;\n    beforeUnmount();\n  };\n\n  fn.onBrushTap = (e) => {\n    brushTriggers.tap.forEach((t) => {\n      if (resolveTapEvent({ e, t, config: brushArgs }) && t.globalPropagation === 'stop') {\n        chart.toggleBrushing(true);\n      }\n    });\n  };\n\n  fn.onBrushOver = (e) => {\n    brushTriggers.over.forEach((t) => {\n      if (resolveOverEvent({ e, t, config: brushArgs }) && t.globalPropagation === 'stop') {\n        chart.toggleBrushing(true);\n      }\n    });\n  };\n\n  /**\n   * Expose definition on instance\n   * @private\n   * @experimental\n   */\n  fn.def = definitionContext;\n\n  /**\n   * Expose instanceCtx on \"instance\"\n   * @private\n   * @experimental\n   */\n  fn.ctx = instanceContext;\n\n  fn.renderer = () => rend;\n\n  fn.set({ settings: config });\n  created();\n\n  return fn;\n}\n\nexport default componentFactory;\n","import EventEmitter from '../utils/event-emitter';\n\nexport default function mediator() {\n  const instance = {};\n  EventEmitter.mixin(instance);\n  return instance;\n}\n","export function add(v1, v2) {\n  return {\n    x: v1.x + v2.x,\n    y: v1.y + v2.y\n  };\n}\n\nexport function sub(v1, v2) {\n  return {\n    x: v1.x - v2.x,\n    y: v1.y - v2.y\n  };\n}\n\nexport function scalarMultiply(v, s) {\n  return {\n    x: v.x * s,\n    y: v.y * s\n  };\n}\n\nexport function sqrMagnitude(v) {\n  return Math.pow(v.x, 2) + Math.pow(v.y, 2);\n}\n\nexport function magnitude(v) {\n  return Math.sqrt(sqrMagnitude(v));\n}\n\nexport function distanceX(v1, v2) {\n  return v1.x - v2.x;\n}\n\nexport function distanceY(v1, v2) {\n  return v1.y - v2.y;\n}\n\nexport function sqrDistance(v1, v2) {\n  return Math.pow(distanceX(v1, v2), 2) + Math.pow(distanceY(v1, v2), 2);\n}\n\nexport function distance(v1, v2) {\n  return Math.sqrt(sqrDistance(v1, v2));\n}\n\nexport function determinant(v1, v2) {\n  return (v1.x * v2.y) - (v2.x * v1.y);\n}\n\nexport function dot(v1, v2) {\n  return (v1.x * v2.x) + (v1.y * v2.y);\n}\n\nexport function projectOnto(v1, v2) {\n  const m = dot(v1, v2) / dot(v2, v2) || 1;\n  return {\n    x: v2.x * m,\n    y: v2.y * m\n  };\n}\n\nexport function rotate(v, radians, origin = { x: 0, y: 0 }) {\n  const cos = Math.cos(radians);\n  const sin = Math.sin(radians);\n\n  const t1 = sub(v, origin);\n\n  const t2 = {\n    x: (cos * t1.x) - (sin * t1.y),\n    y: (sin * t1.x) + (cos * t1.y)\n  };\n\n  return add(t2, origin);\n}\n\nexport function unit(v) {\n  const m = magnitude(v);\n  return { x: v.x / m, y: v.y / m };\n}\n\nexport function cross(u, v, a) {\n  return ((v.x - u.x) * (a.y - u.y)) - ((v.y - u.y) * (v.x - u.x));\n}\n","import {\n  add, sub, projectOnto, distance\n} from './vector';\n\nconst EPSILON = 1e-12;\n\nexport function closestPointToLine(start, end, p) {\n  const startToPoint = sub(p, start);\n  const startToEnd = sub(end, start);\n  const pointOnLine = add(projectOnto(startToPoint, startToEnd), start);\n  return pointOnLine;\n}\n\nexport function isPointOnLine(start, end, p) {\n  return (distance(start, p) + distance(end, p)) - distance(start, end) < EPSILON;\n}\n\nexport function isCollinear(p1, p2, p3, e = EPSILON) {\n  const t = Math.abs((p1.x * (p2.y - p3.y)) + (p2.x * (p3.y - p1.y)) + (p3.x * (p1.y - p2.y)));\n  return t < e;\n}\n\n/**\n * Check if rectangle a is located inside rectangle b or if they are the same rectangle.\n * @param {rect} a - An rect containing (x,y) coordinates, width and height. The origin is assumed to be top left.\n * @param {rect} b - An rect containing (x,y) coordinates, width and height. The origin is assumed to be top left.\n * @ignore\n */\nexport function rectContainsRect(a, b) {\n  return a.x >= b.x\n        && a.x + a.width <= b.x + b.width\n        && a.y >= b.y\n        && a.y + a.height <= b.y + b.height;\n}\n","/* eslint no-use-before-define: [\"error\", { \"functions\": false }] */\n\nimport {\n  sqrDistance,\n  distanceX,\n  distanceY\n} from './vector';\nimport {\n  closestPointToLine,\n  isPointOnLine\n} from './intersection';\nimport {\n  lineToPoints,\n  rectToPoints,\n  pointsToLine\n} from '../geometry/util';\n\nfunction lineHasNoLength(line) {\n  return line.x1 === line.x2 && line.y1 === line.y2;\n}\n\nfunction rectHasNoSize(rect) {\n  return rect.width <= 0 || rect.height <= 0;\n}\n\nfunction circleHasNoSize(circle) {\n  return circle.r <= 0;\n}\n\nfunction toFewEdges(polygon) {\n  return polygon.edges.length <= 2;\n}\n\n/**\n   * Test if a Circle contains a point. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if circle contains point\n   */\nexport function testCirclePoint(circle, point) {\n  if (circleHasNoSize(circle)) {\n    return false;\n  }\n\n  const center = { x: circle.cx, y: circle.cy };\n  const sqrDist = sqrDistance(center, point);\n\n  if (sqrDist <= Math.pow(circle.r, 2)) {\n    return true;\n  }\n  return false;\n}\n\n/**\n   * Test if a Circle collide with a rectangle. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * Rectangle must have a width and height greather then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @return {boolean} true if circle collide with rectangle\n  */\nexport function testCircleRect(circle, rect) {\n  if (rectHasNoSize(rect) || circleHasNoSize(circle)) {\n    return false;\n  }\n  const rX = rect.width / 2;\n  const rY = rect.height / 2;\n  const rcX = rect.x + rX;\n  const rcY = rect.y + rY;\n  const r = circle.r;\n  const cx = circle.cx;\n  const cy = circle.cy;\n  const dX = Math.abs(cx - rcX);\n  const dY = Math.abs(cy - rcY);\n\n  if (dX > rX + r || dY > rY + r) { return false; }\n\n  if (dX <= rX || dY <= rY) { return true; }\n\n  const sqrDist = Math.pow(dX - rX, 2) + Math.pow(dY - rY, 2);\n\n  return sqrDist <= Math.pow(r, 2);\n}\n\n/**\n   * Test if a Circle collide with a line segment. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * Line must have a length greater then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if circle collide with line\n  */\nexport function testCircleLine(circle, line) {\n  if (circleHasNoSize(circle) || lineHasNoLength(line)) {\n    return false;\n  }\n\n  const [p1, p2] = lineToPoints(line);\n  if (testCirclePoint(circle, p1) || testCirclePoint(circle, p2)) {\n    return true;\n  }\n\n  const center = { x: circle.cx, y: circle.cy };\n  const pointOnLine = closestPointToLine(p1, p2, center);\n  const dist = sqrDistance(pointOnLine, center);\n\n  return dist <= Math.pow(circle.r, 2) && isPointOnLine(p1, p2, pointOnLine);\n}\n\n/**\n   * Test if a Circle collide with another Circle. If so, returns true and false otherwise.\n   * Both circles muse have a radius greater then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @return {boolean} true if circle collide with circle\n  */\nexport function testCircleCircle(circle1, circle2) {\n  if (circleHasNoSize(circle1) || circleHasNoSize(circle2)) { return false; }\n\n  const dx = circle1.cx - circle2.cx;\n  const dy = circle1.cy - circle2.cy;\n  const sqrDist = Math.pow(dx, 2) + Math.pow(dy, 2);\n\n  if (sqrDist <= Math.pow(circle1.r + circle2.r, 2)) {\n    return true;\n  }\n  return false;\n}\n\n/**\n   * Test if a Circle collide with Polygon. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * Polygon must contain at least 2 vertices\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @return {boolean} true if circle collide with polygon\n  */\nexport function testCirclePolygon(circle, polygon) {\n  // TODO handle polygon that is a straight line, current impl will interrept it is a true, if radius is extended onto any of the edges\n  if (toFewEdges(polygon) || circleHasNoSize(circle)) {\n    return false;\n  }\n\n  const center = { x: circle.cx, y: circle.cy };\n  if (testPolygonPoint(polygon, center)) {\n    return true;\n  }\n\n  const num = polygon.edges.length;\n\n  for (let i = 0; i < num; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (testCircleLine(circle, edge)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n   * Test if a Polygon contains a Point. If so, returns true and false otherwise.\n   * Polygon must contain at least 2 vertices\n   * @private\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if polygon conatins point\n  */\nexport function testPolygonPoint(polygon, point) {\n  // TODO handle polygon that is a straight line, current impl gives a non-deterministic output, that is depending on number of vertices\n  if (toFewEdges(polygon) || !testRectPoint(polygon.boundingRect(), point)) {\n    return false;\n  }\n\n  let even = true;\n  const num = polygon.vertices.length;\n  const rayStart = { x: polygon.xMin - 1, y: point.y };\n\n  for (let i = 0; i < num - 1; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (!(edge.y1 < point.y && edge.y2 < point.y) && !(edge.y1 > point.y && edge.y2 > point.y)) { // filterout any edges that does not cross the ray\n      even = testLineLine(edge, pointsToLine([rayStart, point])) ? !even : even;\n    }\n  }\n  return !even;\n}\n\n/**\n   * Test if a Polygon collider with a line. If so, returns true and false otherwise.\n   * Polygon must contain at least 3 edges.\n   * Line must have length greater then 0.\n   * @private\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if polygon collider with line\n  */\nexport function testPolygonLine(polygon, line) {\n  // TODO handle polygon that is a straight line, current impl gives a non-deterministic output, that is depending on number of vertices\n  if (toFewEdges(polygon)) {\n    return false;\n  }\n\n  for (let i = 0, num = polygon.edges.length; i < num; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (testLineLine(line, edge)) {\n      return true;\n    }\n  }\n\n  const [p1, p2] = lineToPoints(line);\n\n  return testPolygonPoint(polygon, p1)\n    || testPolygonPoint(polygon, p2);\n}\n\n/**\n   * Test if a Polygon collider with a rectangle. If so, returns true and false otherwise.\n   * Polygon must contain at least 3 edges.\n   * Rectangle must width and height greater then 0.\n   * @private\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @return {boolean} true if polygon collider with rect\n  */\nexport function testPolygonRect(polygon, rect) {\n  // TODO handle polygon that is a straight line, current impl gives a non-deterministic output, that is depending on number of vertices\n  if (toFewEdges(polygon)) {\n    return false;\n  }\n\n  for (let i = 0, num = polygon.edges.length; i < num; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (testRectLine(rect, edge)) {\n      return true;\n    }\n  }\n\n  const [p1, p2, p3, p4] = rectToPoints(rect);\n  return testPolygonPoint(polygon, p1)\n    || testPolygonPoint(polygon, p2)\n    || testPolygonPoint(polygon, p3)\n    || testPolygonPoint(polygon, p4);\n}\n\n/**\n   * Test if a Rectangle collide with another rectangle. If so, returns true and false otherwise.\n   * Both rectangles must have a width and height greather then 0.\n   * @private\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @return {boolean} true if rectangle collide with rectangle\n  */\nexport function testRectRect(rect1, rect2) {\n  if (rectHasNoSize(rect1) || rectHasNoSize(rect2)) {\n    return false;\n  }\n\n  return rect1.x <= rect2.x + rect2.width\n    && rect2.x <= rect1.x + rect1.width\n    && rect1.y <= rect2.y + rect2.height\n    && rect2.y <= rect1.y + rect1.height;\n}\n\n/**\n   * Test if a Rectangle contains a Point. If so, returns true and false otherwise.\n   * Rectangle must have a width and height greather then 0.\n   * @private\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if rectangle contains point\n  */\nexport function testRectPoint(rect, point) {\n  if (rectHasNoSize(rect)) { return false; }\n\n  return point.x >= rect.x\n    && point.x <= rect.x + rect.width\n    && point.y >= rect.y\n    && point.y <= rect.y + rect.height;\n}\n\n/**\n   * Test if a Rectangle collider with a line. If so, returns true and false otherwise.\n   * Rectangle must have a width and height greather then 0.\n   * Line must have length greater then 0.\n   * @private\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if rectangle collide with line\n  */\nexport function testRectLine(rect, line) {\n  if (lineHasNoLength(line) || rectHasNoSize(rect)) { return false; }\n\n  const [p1, p2] = lineToPoints(line);\n\n  if (testRectPoint(rect, p1) || testRectPoint(rect, p2)) {\n    return true;\n  }\n\n  const rectEdges = rectToPoints(rect);\n  let num = rectEdges.length;\n  for (let i = 0; i < num; i++) {\n    const edge = pointsToLine([rectEdges[i], rectEdges[i !== 3 ? i + 1 : 0]]);\n    if (testLineLine(edge, line)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n   * Test if a Line collider with another line. If so, returns true and false otherwise.\n   * Both lines must have length greater then 0.\n   * @private\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if line collide with line\n  */\nexport function testLineLine(line1, line2) {\n  const [p1, p2] = lineToPoints(line1);\n  const [p3, p4] = lineToPoints(line2);\n  const dx1 = distanceX(p2, p1);\n  const dy1 = distanceY(p2, p1);\n  const dx2 = distanceX(p4, p3);\n  const dy2 = distanceY(p4, p3);\n  const dx3 = distanceX(p1, p3);\n  const dy3 = distanceY(p1, p3);\n  let ub = (dy2 * dx1) - (dx2 * dy1);\n  const uat = (dx2 * dy3) - (dy2 * dx3);\n  const ubt = (dx1 * dy3) - (dy1 * dx3);\n  let t1;\n  let t2;\n\n  if (dx1 === 0 && dy1 === 0) { // Line segment has no length\n    return false;\n  }\n\n  if (dx2 === 0 && dy2 === 0) { // Line segment has no length\n    return false;\n  }\n\n  if (ub === 0) {\n    if (uat === 0 && ubt === 0) { // COINCIDENT;\n      if (dx1 === 0) {\n        if (dy1 === 0) { // p1 = p2\n          return p1.x === p2.x && p1.y === p2.y;\n        }\n        t1 = distanceY(p3, p1) / dy1;\n        t2 = distanceY(p4, p1) / dy1;\n      } else {\n        t1 = (p3.x - p1.x) / dx1;\n        t2 = (p4.x - p1.x) / dx1;\n      }\n      if ((t1 < 0 && t2 < 0) || (t1 > 1 && t2 > 1)) {\n        return false;\n      }\n      return true;\n    }\n    return false; // PARALLEL;\n  }\n  const ua = uat / ub;\n  ub = ubt / ub;\n  if (ua >= 0.0 && ua <= 1.0 && ub >= 0.0 && ub <= 1.0) {\n    return true;\n  }\n  return false;\n}\n\n/**\n   * Test if a Line contains a Point. If so, returns true and false otherwise.\n   * Line must have length greater then 0.\n   * @private\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if line contains point\n  */\nexport function testLinePoint(line, point) {\n  if (lineHasNoLength(line)) {\n    return false;\n  }\n\n  const [p1, p2] = lineToPoints(line);\n  return isPointOnLine(p1, p2, point);\n}\n","import extend from 'extend';\n\nconst VARIABLE_RX = /^\\$/;\nconst EXTEND = '@extend';\n\nfunction throwCyclical(s) {\n  throw new Error(`Cyclical reference for \"${s}\"`);\n}\n\nfunction res(style, references, path) {\n  if (typeof style === 'string') {\n    let value = references[style];\n    if (path.indexOf(style) !== -1) {\n      throwCyclical(style);\n    }\n    if (VARIABLE_RX.test(value)) {\n      path.push(style);\n      return res(value, references, path);\n    }\n    return value;\n  }\n  let computed = style;\n  const refs = extend(true, {}, references, style);\n  const s = {};\n\n  if (style[EXTEND]) {\n    const extendFrom = style[EXTEND];\n    if (path.indexOf(extendFrom) !== -1) {\n      throwCyclical(extendFrom);\n    }\n    let pext = path.slice();\n    pext.push(extendFrom);\n    computed = extend(true, {}, res(refs[extendFrom], references, pext), style);\n  }\n\n  Object.keys(computed).forEach((key) => {\n    let p = path.slice();\n    if (key === EXTEND || VARIABLE_RX.test(key)) {\n      return;\n    }\n    s[key] = computed[key];\n    let value = s[key];\n    if (VARIABLE_RX.test(value) && value in refs) {\n      if (path.indexOf(value) !== -1) {\n        throwCyclical(value);\n      }\n      p.push(value);\n      value = refs[value];\n      if (typeof value === 'object') {\n        s[key] = res(value, refs, p);\n      } else if (VARIABLE_RX.test(value) && value in refs) {\n        s[key] = res(value, refs, p);\n      } else {\n        s[key] = value;\n      }\n    } else if (typeof value === 'object') {\n      s[key] = res(value, refs, p);\n    }\n  });\n  return s;\n}\n\n/**\n * Resolve style references\n * @private\n * @param {style-object} style\n * @param {style-object} references\n * @returns {object} The resolved style\n * @example\n * resolve({\n *   label: '$label--big'\n * }, {\n *   '$size--m': '12px',\n *   '$label--big': {\n *     fontFamily: 'Arial',\n *     fontSize: '$size--m'\n *   }\n * }); // { label: { fontFamily: 'Arial', fontSize: '12px' } }\n */\nfunction resolve(style, references) {\n  return res(style, references, []);\n}\n\nexport { resolve as default };\n","import styleResolver from '../style/resolver';\n\nfunction themeFn(style = {}, palettes = []) {\n  let pals = {};\n  const setPalettes = (p) => {\n    p.forEach((palette) => {\n      const pal = Array.isArray(palette.colors[0]) ? palette.colors : [palette.colors];\n      pals[palette.key] = {\n        colors: pal,\n        sizes: pal.map(colors => (colors ? colors.length : 0))\n      };\n    });\n  };\n\n  const getPalette = (key, num) => {\n    const palette = pals[key];\n    if (!palette) {\n      return [];\n    }\n    const sizes = palette.sizes;\n    // find the first color set containing at least 'num' colors\n    for (let i = 0; i < sizes.length; i++) {\n      if (num <= sizes[i]) {\n        return palette.colors[i];\n      }\n    }\n    return palette.colors[sizes.length - 1];\n  };\n\n  /**\n   * Theme API\n   * @private\n   * @experimental\n   */\n  const theme = {\n    /**\n     * Get an array of colors\n     * @param {string} name - Name of the color palette\n     * @param {number} [num] - The minimum number of colors to get from the palette\n     */\n    palette: (name, num) => getPalette(name, num),\n\n    setPalettes,\n\n    /**\n     * Resolve style references\n     * @param {style-object} s - Object containing\n     */\n    style: s => styleResolver(s, style)\n  };\n\n  setPalettes(palettes);\n\n  return theme;\n}\n\nexport { themeFn as default };\n","import extend from 'extend';\n\nimport createDockLayout from '../dock-layout/dock-layout';\nimport {\n  detectTouchSupport,\n  isValidTapEvent\n} from '../utils/event-type';\nimport { getShapeType } from '../geometry/util';\nimport datasources from '../data/data';\nimport dataCollections from '../data/collections';\nimport buildFormatters, { getOrCreateFormatter } from './formatter';\nimport { builder as buildScales, getOrCreateScale } from './scales';\nimport buildScroll, { getOrCreateScrollApi } from './scroll-api';\nimport brush from '../brush';\nimport componentFactory from '../component/component-factory';\nimport mediatorFactory from '../mediator';\nimport { testRectPoint } from '../math/narrow-phase-collision';\nimport themeFn from '../theme';\n\n/**\n * @typedef {object} component-settings\n * @property {string} type - Component type (ex: axis, point, ...)\n * @property {function} [preferredSize] - Function returning the preferred size\n * @property {function} [created]\n * @property {function} [beforeMount]\n * @property {function} [mounted]\n * @property {function} [beforeUpdate]\n * @property {function} [updated]\n * @property {function} [beforeRender]\n * @property {function} [beforeDestroy]\n * @property {function} [destroyed]\n * @property {brush-setting} [brush] see [brushing](./brushing.md)\n * @property {number} [displayOrder = 0]\n * @property {number} [prioOrder = 0]\n * @property {boolean} [show = true] If the component should be rendered\n * @property {string | {width: string, height: string}} [minimumLayoutMode] Refer to layout sizes defined by layoutModes in dockLayout\n * @property {string} [dock] left, right, top or bottom\n * @property {string} [scale] Named scale. Will be provided to the component if it ask for it.\n * @property {string} [formatter] Named formatter. Fallback to create formatter from scale. Will be provided to the component if it ask for it.\n */\n\nfunction addComponentDelta(shape, containerBounds, componentBounds) {\n  const dx = containerBounds.left - componentBounds.left;\n  const dy = containerBounds.top - componentBounds.top;\n  const type = getShapeType(shape);\n  const deltaShape = extend(true, {}, shape);\n\n  switch (type) {\n    case 'circle':\n      deltaShape.cx += dx;\n      deltaShape.cy += dy;\n      break;\n    case 'polygon':\n      for (let i = 0, num = deltaShape.vertices.length; i < num; i++) {\n        const v = deltaShape.vertices[i];\n        v.x += dx;\n        v.y += dy;\n      }\n      break;\n    case 'line':\n      deltaShape.x1 += dx;\n      deltaShape.y1 += dy;\n      deltaShape.x2 += dx;\n      deltaShape.y2 += dy;\n      break;\n    case 'point':\n    case 'rect':\n      deltaShape.x += dx;\n      deltaShape.y += dy;\n      break;\n    default:\n      break;\n  }\n\n  return deltaShape;\n}\n\nfunction chartFn(definition, context) {\n  /**\n   * @typedef {object} chart-definition\n   */\n  let {\n    /**\n     * @type {HTMLElement}\n     * @memberof chart-definition\n     */\n    element,\n    /**\n     * @type {Array<data-source>}\n     * @memberof chart-definition\n     */\n    data = [],\n    /**\n     * @type {chart-settings}\n     * @memberof chart-definition\n     */\n    settings = {},\n    on = {}\n  } = definition;\n\n  const registries = context.registries;\n  const logger = context.logger;\n  const theme = themeFn(context.style, context.palettes);\n\n  const listeners = [];\n  /**\n   * @alias chart\n   * @interface\n   */\n  const instance = extend(\n    {},\n    definition\n  );\n  const mediator = mediatorFactory();\n  let currentComponents = []; // Augmented components\n  let visibleComponents = [];\n\n  let currentScales = null; // Built scales\n  let currentFormatters = null; // Built formatters\n  let currentScrollApis = null; // Build scroll apis\n  let currentInteractions = [];\n\n  let dataset = () => {};\n  let dataCollection = () => {};\n  const brushes = {};\n  let stopBrushing = false;\n\n  const createComponent = (compSettings, container) => {\n    if (!registries.component.has(compSettings.type)) {\n      logger.warn(`Unknown component: ${compSettings.type}`);\n      return false;\n    }\n    const componentDefinition = registries.component(compSettings.type);\n    const compInstance = componentFactory(componentDefinition, {\n      settings: compSettings,\n      chart: instance,\n      mediator,\n      registries,\n      theme,\n      container\n    });\n    return {\n      instance: compInstance,\n      settings: extend(true, {}, compSettings),\n      key: compSettings.key,\n      hasKey: typeof compSettings.key !== 'undefined'\n    };\n  };\n\n  // Create a callback that calls lifecycle functions in the definition and config (if they exist).\n  function createCallback(method, defaultMethod = () => {}) {\n    return function cb(...args) {\n      const inDefinition = typeof definition[method] === 'function';\n\n      let returnValue;\n      if (inDefinition) {\n        returnValue = definition[method].call(instance, ...args);\n      } else {\n        returnValue = defaultMethod.call(instance, ...args);\n      }\n      return returnValue;\n    };\n  }\n\n  const findComponent = (componentInstance) => {\n    for (let i = 0; i < currentComponents.length; i++) {\n      if (currentComponents[i].instance === componentInstance) {\n        return currentComponents[i];\n      }\n    }\n    return null;\n  };\n\n  const findComponentIndexByKey = (key) => {\n    for (let i = 0; i < currentComponents.length; i++) {\n      const currComp = currentComponents[i];\n      if (currComp.hasKey && currComp.key === key) {\n        return i;\n      }\n    }\n    return -1;\n  };\n\n  const layout = (components) => {\n    const dockLayout = createDockLayout(settings.dockLayout);\n    components.forEach((c) => { dockLayout.addComponent(c.instance, c.key); });\n\n    const { visible, hidden } = dockLayout.layout(element);\n    return {\n      visible: visible.map(v => findComponent(v)),\n      hidden: hidden.map(h => findComponent(h))\n    };\n  };\n\n  const moveToPosition = (comp, index) => {\n    const el = comp.instance.renderer().element();\n    if (isNaN(index) || !el || !element || !element.childNodes) { return; }\n    const nodes = element.childNodes;\n    const i = Math.min(nodes.length - 1, Math.max(index, 0));\n    const node = nodes[i];\n    if (element.insertBefore && typeof node !== 'undefined') {\n      element.insertBefore(el, nodes[i]);\n    }\n  };\n\n  const created = createCallback('created');\n  const beforeMount = createCallback('beforeMount');\n  const mounted = createCallback('mounted');\n  const beforeUpdate = createCallback('beforeUpdate');\n  const updated = createCallback('updated');\n  const beforeRender = createCallback('beforeRender');\n  const beforeDestroy = createCallback('beforeDestroy');\n  const destroyed = createCallback('destroyed');\n\n  const set = (_data, _settings, { partialData } = {}) => {\n    const {\n      formatters = {},\n      scales = {},\n      scroll = {}\n    } = _settings;\n\n    dataset = datasources(_data, { logger, types: registries.data });\n    if (!partialData) {\n      Object.keys(brushes).forEach(b => brushes[b].clear());\n    }\n    if (_settings.palettes) {\n      theme.setPalettes(_settings.palettes);\n    }\n    dataCollection = dataCollections(_settings.collections, { dataset }, { logger });\n    currentScales = buildScales(scales, { dataset, collection: dataCollection }, { scale: registries.scale, theme, logger });\n    currentFormatters = buildFormatters(formatters, { dataset, collection: dataCollection }, { formatter: registries.formatter, theme, logger });\n    currentScrollApis = buildScroll(scroll, currentScrollApis);\n  };\n\n  const render = () => {\n    const {\n      components = []\n    } = settings;\n\n    beforeRender();\n\n    set(data, settings);\n\n    currentComponents = components.map(compSettings => (\n      createComponent(compSettings, element)\n    )).filter(c => !!c);\n\n    const { visible, hidden } = layout(currentComponents);\n    visibleComponents = visible;\n\n    hidden.forEach((comp) => {\n      comp.instance.hide();\n      comp.visible = false;\n    });\n\n    visible.forEach(comp => comp.instance.beforeMount());\n    visible.forEach(comp => comp.instance.mount());\n    visible.forEach(comp => comp.instance.beforeRender());\n\n    visible.forEach(comp => comp.instance.render());\n    visible.forEach(comp => comp.instance.mounted());\n    visible.forEach((comp) => { comp.visible = true; });\n  };\n\n  function setInteractions(interactions = []) {\n    const current = {};\n    const newKeys = interactions.filter(it => !!it.key).map(it => it.key);\n    currentInteractions.forEach((cit) => {\n      if (cit.key && newKeys.indexOf(cit.key) !== -1) { // keep old instance\n        current[cit.key] = cit;\n      } else {\n        cit.destroy();\n      }\n    });\n    currentInteractions = interactions.map((intSettings) => {\n      const intDefinition = intSettings.key && current[intSettings.key] ? current[intSettings.key] : registries.interaction(intSettings.type)(instance, mediator, element);\n      intDefinition.set(intSettings);\n      return intDefinition;\n    });\n  }\n\n  const componentsFromPoint = (p) => {\n    const br = element.getBoundingClientRect();\n    const x = 'clientX' in p ? p.clientX : p.x;\n    const y = 'clientY' in p ? p.clientY : p.y;\n    const tp = { x: x - br.left, y: y - br.top };\n    const ret = [];\n    visibleComponents.forEach((c) => {\n      const r = c.instance.getRect();\n      // Do test on physical rect\n      if (testRectPoint({\n        x: r.margin.left + (r.x * r.scaleRatio.x),\n        y: r.margin.top + (r.y * r.scaleRatio.y),\n        width: r.width * r.scaleRatio.x,\n        height: r.height * r.scaleRatio.y\n      }, tp)) {\n        ret.push(c);\n      }\n    });\n    return ret;\n  };\n\n  // Browser only\n  const mount = () => {\n    element.innerHTML = '';\n\n    render();\n\n    Object.keys(on).forEach((key) => {\n      const listener = on[key].bind(instance);\n      element.addEventListener(key, listener);\n      listeners.push({\n        key,\n        listener\n      });\n    });\n\n    const eventInfo = {};\n    const onTapDown = (e) => {\n      if (e.touches) {\n        eventInfo.x = e.touches[0].clientX;\n        eventInfo.y = e.touches[0].clientY;\n        eventInfo.multiTouch = e.touches.length > 1;\n      } else {\n        eventInfo.x = e.clientX;\n        eventInfo.y = e.clientY;\n        eventInfo.multiTouch = false;\n      }\n      eventInfo.time = Date.now();\n      eventInfo.comps = componentsFromPoint(eventInfo);\n    };\n\n    const onBrushTap = (e) => {\n      const comps = eventInfo.comps || componentsFromPoint(e);\n      if (comps.every(c => c.instance.def.disableTriggers)) {\n        return;\n      }\n\n      if (e.type === 'touchend') {\n        e.preventDefault();\n      }\n      if (!isValidTapEvent(e, eventInfo)) {\n        return;\n      }\n\n      for (let i = comps.length - 1; i >= 0; i--) {\n        const comp = comps[i];\n        comp.instance.onBrushTap(e);\n        if (stopBrushing) {\n          stopBrushing = false;\n          break;\n        }\n      }\n    };\n\n    const onBrushOver = (e) => {\n      const comps = componentsFromPoint(e);\n      for (let i = comps.length - 1; i >= 0; i--) {\n        const comp = comps[i];\n        comp.instance.onBrushOver(e);\n        if (stopBrushing) {\n          stopBrushing = false;\n          break;\n        }\n      }\n    };\n\n    const brushEventList = [];\n\n    brushEventList.push({ key: 'mousedown', listener: onTapDown });\n    brushEventList.push({ key: 'mouseup', listener: onBrushTap });\n\n    if (detectTouchSupport(element)) {\n      brushEventList.push({ key: 'touchstart', listener: onTapDown });\n      brushEventList.push({ key: 'touchend', listener: onBrushTap });\n    }\n\n    brushEventList.push({ key: 'mousemove', listener: onBrushOver });\n\n    brushEventList.forEach((event) => {\n      element.addEventListener(event.key, event.listener);\n      listeners.push(event);\n    });\n    setInteractions(settings.interactions);\n  };\n\n  const unmount = () => {\n    listeners.forEach(({ key, listener }) => element.removeEventListener(key, listener));\n    setInteractions();\n  };\n\n  /**\n   * Update the chart with new settings and / or data\n   * @param {chart-definition} [chart] - Chart definition\n   */\n  instance.update = (newProps = {}) => {\n    const { partialData } = newProps;\n    if (newProps.data) {\n      data = newProps.data;\n    }\n    if (newProps.settings) {\n      settings = newProps.settings;\n      setInteractions(newProps.settings.interactions);\n    }\n\n    beforeUpdate();\n\n    set(data, settings, { partialData });\n\n    const {\n      formatters,\n      scales,\n      components = []\n    } = settings;\n\n    for (let i = currentComponents.length - 1; i >= 0; i--) {\n      const currComp = currentComponents[i];\n      // TODO warn when there is no key\n      if (!components.some(c => currComp.hasKey && currComp.key === c.key)) {\n        // Component is removed\n        currentComponents.splice(i, 1);\n        currComp.instance.destroy();\n      }\n    }\n\n    // Let the \"components\" array determine order of components\n    currentComponents = components.map((comp) => {\n      const idx = findComponentIndexByKey(comp.key);\n      if (idx === -1) {\n        // Component is added\n        return createComponent(comp, element);\n      }\n      // Component is (potentially) updated\n      currentComponents[idx].updateWith = {\n        formatters,\n        scales,\n        data,\n        settings: comp\n      };\n      return currentComponents[idx];\n    }).filter(c => !!c);\n\n    currentComponents.forEach((comp) => {\n      if (comp.updateWith) {\n        comp.instance.set(comp.updateWith);\n      }\n    });\n    currentComponents.forEach((comp) => {\n      if (comp.updateWith) {\n        comp.instance.beforeUpdate();\n      }\n    });\n\n    const toUpdate = [];\n    const toRender = [];\n    let toRenderOrUpdate;\n    if (partialData) {\n      currentComponents.forEach((comp) => {\n        if (comp.updateWith && comp.visible) {\n          toUpdate.push(comp);\n        }\n      });\n      toRenderOrUpdate = toUpdate;\n    } else {\n      const { visible, hidden } = layout(currentComponents); // Relayout\n      visibleComponents = visible;\n      toRenderOrUpdate = visible;\n\n      visible.forEach((comp) => {\n        if (comp.updateWith && comp.visible) {\n          toUpdate.push(comp);\n        } else {\n          toRender.push(comp);\n        }\n      });\n\n      hidden.forEach((comp) => {\n        comp.instance.hide();\n        comp.visible = false;\n        delete comp.updateWith;\n      });\n    }\n\n    toRender.forEach(comp => comp.instance.beforeMount());\n    toRender.forEach(comp => comp.instance.mount());\n\n    toRenderOrUpdate.forEach(comp => comp.instance.beforeRender());\n\n    toRenderOrUpdate.forEach((comp) => {\n      if (comp.updateWith && comp.visible) {\n        comp.instance.update();\n      } else {\n        comp.instance.render();\n      }\n    });\n\n    // Ensure that displayOrder is keept, only do so on re-layout update.\n    // Which is only the case if partialData is false.\n    if (!partialData) {\n      visibleComponents.forEach((comp, i) => moveToPosition(comp, i));\n    }\n\n    toRender.forEach(comp => comp.instance.mounted());\n    toUpdate.forEach(comp => comp.instance.updated());\n\n    visibleComponents.forEach((comp) => {\n      delete comp.updateWith;\n      comp.visible = true;\n    });\n\n    updated();\n  };\n\n  /**\n   * Destroy the chart instance.\n   */\n  instance.destroy = () => {\n    beforeDestroy();\n    currentComponents.forEach(comp => comp.instance.destroy());\n    currentComponents = [];\n    unmount();\n    delete instance.update;\n    delete instance.destroy;\n    destroyed();\n  };\n\n  /**\n   * Get all shapes associated with the provided context\n   * @param {string} context The brush context\n   * @param {string} mode Property comparasion mode.\n   * @param {Array<string>} props Which specific data properties to compare\n   * @param {string} key Which component to get shapes from. Default gives shapes from all components.\n   * @return {Array<object>} Array of objects containing shape and parent element\n   */\n  instance.getAffectedShapes = (ctx, mode = 'and', props, key) => {\n    const shapes = [];\n    currentComponents.filter(comp => key === undefined || key === null || comp.key === key).forEach((comp) => {\n      shapes.push(...comp.instance.getBrushedShapes(ctx, mode, props));\n    });\n    return shapes;\n  };\n\n  /**\n   * Get all nodes matching the provided selector\n   * @param {string} selector CSS selector [type, attribute, universal, class]\n   * @returns {Array<SceneNode>} Array of objects containing matching nodes\n   *\n   * @example\n   * chart.findShapes('Circle') // [<CircleNode>, <CircleNode>]\n   * chart.findShapes('Circle[fill=\"red\"][stroke!=\"black\"]') // [CircleNode, CircleNode]\n   * chart.findShapes('Container Rect') // [Rect, Rect]\n   */\n  instance.findShapes = (selector) => {\n    const shapes = [];\n    visibleComponents.forEach((c) => {\n      shapes.push(...c.instance.findShapes(selector));\n    });\n    return shapes;\n  };\n\n  /**\n   * Get components overlapping a point.\n   * @param {point} p - Point with x- and y-cooridnate. The coordinate is relative to the browser viewport.\n   * @returns {Array<component-context>} Array of component contexts\n   */\n  instance.componentsFromPoint = p => componentsFromPoint(p).map(comp => comp.instance.ctx);\n\n  /**\n   * Get all nodes colliding with a geometrical shape (circle, line, rectangle, point, polygon).\n   *\n   * The input shape is identified based on the geometrical attributes in the following order: circle => line => rectangle => point => polygon.\n   * Note that not all nodes on a scene have collision detection enabled.\n   * @param {line|rect|point|circle} shape - A geometrical shape. Coordinates are relative to the top-left corner of the chart instance container.\n   * @param {object} opts - Options\n   * @param {object[]} [opts.components] - Array of components to include in the lookup. If no components are specified, all components will be included.\n   * @param {string} [opts.components[].component.key] - Component key\n   * @param {string} [opts.components[].component.propagation] - if set to `stop`, will start lookup on top visible shape and propagate downwards until a shape is found.\n   * @param {string} [opts.propagation] - if set to `stop`, will start lookup on top visible component and propagate downwards until a component has at least a match.\n   * @returns {Array<SceneNode>} Array of objects containing colliding nodes\n   *\n   * @example\n   * chart.shapesAt(\n   *  {\n   *    x: 0,\n   *    y: 0,\n   *    width: 100,\n   *    height: 100\n   *  },\n   *  {\n   *    components: [\n   *      { key: 'key1', propagation: 'stop' },\n   *      { key: 'key2' }\n   *    ],\n   *    propagation: 'stop'\n   *  }\n   * );\n   */\n  instance.shapesAt = (shape, opts = {}) => {\n    const result = [];\n    const containerBounds = element.getBoundingClientRect();\n    let comps = visibleComponents; // Assume that visibleComponents is ordererd according to displayOrder\n\n    if (Array.isArray(opts.components) && opts.components.length > 0) {\n      const compKeys = opts.components.map(c => c.key);\n      comps = visibleComponents\n        .filter(c => compKeys.indexOf(c.key) !== -1)\n        .map(c => ({\n          instance: c.instance,\n          opts: opts.components[compKeys.indexOf(c.key)]\n        }));\n    }\n\n    for (let i = comps.length - 1; i >= 0; i--) {\n      const c = comps[i];\n      const componentBounds = c.instance.renderer().element().getBoundingClientRect();\n      const deltaShape = addComponentDelta(shape, containerBounds, componentBounds);\n      const shapes = c.instance.shapesAt(deltaShape, c.opts);\n      const stopPropagation = shapes.length > 0 && opts.propagation === 'stop';\n\n      result.push(...shapes);\n\n      if (result.length > 0 && stopPropagation) {\n        return result;\n      }\n    }\n    return result;\n  };\n\n\n  /**\n   * Brush data by providing a collection of data bound shapes.\n   * @param {SceneNode[]} shapes - An array of data bound shapes.\n   * @param {object} config - Options\n   * @param {Array<object>} opts.components - Array of components to include in the lookup.\n   * @param {string} [opts.components.component.key] - Component key\n   * @param {Array<string>} [opts.components.component.contexts] - Name of the brushing contexts to affect\n   * @param {Array<string>} [opts.components.component.data] - The mapped data properties to add to the brush\n   * @param {string} [opts.components.component.action] - Type of action to respond with\n   *\n   * @example\n   * const shapes = chartInstance.shapesAt(...);\n   * const config = {\n   *  components:[\n   *    {\n   *      key: 'key1',\n   *      contexts: ['myContext'],\n   *      data: [''],\n   *      action: 'add'\n   *    }\n   *  ]\n   * };\n   * chartInstance.brushFromShapes(shapes, config);\n   */\n  instance.brushFromShapes = (shapes, config = { components: [] }) => {\n    const configKeys = config.components.map(conf => conf.key);\n    visibleComponents.forEach((c) => {\n      const configIndex = configKeys.indexOf(c.key);\n      if (configIndex !== -1) {\n        const compShapes = [];\n        for (let i = 0, num = shapes.length; i < num; i++) {\n          const shape = shapes[i];\n          if (shape.key === c.key) {\n            compShapes.push(shape);\n          }\n        }\n        c.instance.brushFromShapes(compShapes, config.components[configIndex]);\n      }\n    });\n  };\n\n  /**\n   * @param {string} name - Name of scroll api\n   * @returns {scroll}\n   */\n  instance.scroll = function scroll(name = 'default') {\n    return getOrCreateScrollApi(name, currentScrollApis);\n  };\n\n  /**\n   * Get\n   * @param {string} key - Get the dataset identified by `key`\n   * @returns {dataset}\n   */\n  instance.dataset = key => dataset(key);\n\n  instance.dataCollection = key => dataCollection(key);\n\n  /**\n   * Get the all registered scales\n   * @returns {Array<scale>} Array of scales\n   */\n  instance.scales = function scales() {\n    return currentScales;\n  };\n\n  /**\n   * Get the all registered formatters\n   * @returns {Array<formatter>} Array of formatters\n   */\n  instance.formatters = function formatters() {\n    return currentFormatters;\n  };\n\n  /**\n   * Get or create brush context for this chart\n   * @param {string} name - Name of the brush context. If no match is found, a new brush context is created and returned.\n   * @returns {brush}\n   */\n  instance.brush = function brushFn(name = 'default') {\n    if (!brushes[name]) {\n      brushes[name] = brush();\n    }\n    return brushes[name];\n  };\n\n  /**\n   * Get or create a scale for this chart\n   * @param {string|object} v - Scale reference or scale options\n   * @returns {scale}\n   * @example\n   * instance.scale('nameOfMyScale'); // Fetch an existing scale by name\n   * instance.scale({ scale: 'nameOfMyScale' }); // Fetch an existing scale by name\n   * instance.scale({ source: '0/1', type: 'linear' }); // Create a new scale\n   */\n  instance.scale = function scale(v) {\n    return getOrCreateScale(v, currentScales, { dataset, collection: dataCollection }, { scale: registries.scale, theme, logger });\n  };\n\n  /**\n   * Get or create a formatter for this chart\n   * @param {string|object} v - Formatter reference or formatter options\n   * @returns {formatter}\n   * @example\n   * instance.formatter('nameOfMyFormatter'); // Fetch an existing formatter by name\n   * instance.formatter({ formatter: 'nameOfMyFormatter' }); // Fetch an existing formatter by name\n   * instance.formatter({ type: 'q' }); // Fetch an existing formatter by type\n   * instance.formatter({\n   *  formatter: 'd3',\n   *  type: 'number',\n   *  format: '1.0.%'\n   * }); // Create a new formatter\n   */\n  instance.formatter = function formatter(v) {\n    return getOrCreateFormatter(v, currentFormatters, { dataset, collection: dataCollection }, { formatter: registries.formatter, theme, logger });\n  };\n\n  /**\n   * @param {boolean} [val] - Toggle brushing on or off. If value is omitted, a toggle action is applied to the current state.\n   */\n  instance.toggleBrushing = function toggleBrushing(val) {\n    if (typeof val !== 'undefined') {\n      stopBrushing = val;\n    } else {\n      stopBrushing = !stopBrushing;\n    }\n  };\n\n  /**\n   * Get a component context\n   * @param {string} key - Component key\n   * @returns {component-context} Component context\n   */\n  instance.component = (key) => {\n    const idx = findComponentIndexByKey(key);\n    if (idx !== -1) {\n      return currentComponents[idx].instance.ctx;\n    }\n    return undefined;\n  };\n\n  instance.logger = () => logger;\n\n  instance.theme = () => theme;\n\n  /**\n   * Get the all interactions instances\n   * @name chart.interactions\n   * @type {object}\n   * @example\n   * chart.interactions.instances; // Array of all interaction instances\n   * chart.interactions.on(); // Toggle on all interactions instances\n   * chart.interactions.off(); // Toggle off all interactions instances\n   */\n  Object.defineProperty(instance, 'interactions', {\n    get() {\n      return /** @lends chart.interactions */ {\n        /** @type Array<interaction> */\n        instances: currentInteractions,\n        /** Enable all interaction instances */\n        on() {\n          currentInteractions.forEach(i => i.on());\n        },\n        /** Disable all interaction instances */\n        off() {\n          currentInteractions.forEach(i => i.off());\n        }\n      };\n    }\n  });\n\n  created();\n\n  if (element) {\n    beforeMount();\n    mount(element);\n    mounted(element);\n    instance.element = element;\n  }\n\n  return instance;\n}\n\nexport default chartFn;\n","import registry from '../utils/registry';\n\nconst rendererRegistry = (reg) => {\n  let f = registry(reg);\n  f.prio = p => (p ? f.default(p[0]) : [f.default()]);\n  f.types = () => f.getKeys();\n  return f;\n};\n\nexport { rendererRegistry as default };\n","import registry from '../utils/registry';\n\nconst componentRegistry = registry();\nexport { componentRegistry as default };\n","export function findField(query, { cache }) {\n  if (typeof query === 'number') {\n    return cache.fields[query];\n  }\n\n  // Find by key first\n  for (let i = 0; i < cache.fields.length; i++) {\n    if (cache.fields[i].key() === query) {\n      return cache.fields[i];\n    }\n  }\n  // find by title\n  for (let i = 0; i < cache.fields.length; i++) {\n    if (cache.fields[i].title() === query) {\n      return cache.fields[i];\n    }\n  }\n  return null;\n}\n\nconst filters = {\n  numeric: values => values.filter(v => typeof v === 'number' && !isNaN(v))\n};\n\nconst unfilteredReducers = {\n  sum: values => values.reduce((a, b) => a + b, 0)\n};\n\n// function isPrimitive(x) {\n//   const type = typeof x;\n//   return (type !== 'object' && type !== 'function');\n// }\n\n/**\n * [reducers description]\n * @type {Object}\n * @private\n */\nexport const reducers = {\n  first: values => values[0],\n  last: values => values[values.length - 1],\n  min: (values) => {\n    const filtered = filters.numeric(values);\n    return !filtered.length ? NaN : Math.min.apply(null, filtered);\n  },\n  max: (values) => {\n    const filtered = filters.numeric(values);\n    return !filtered.length ? NaN : Math.max.apply(null, filtered);\n  },\n  sum: (values) => {\n    const filtered = filters.numeric(values);\n    return !filtered.length ? NaN : filtered.reduce((a, b) => a + b, 0);\n  },\n  avg: (values) => {\n    const filtered = filters.numeric(values);\n    const len = filtered.length;\n    return !len ? NaN : unfilteredReducers.sum(filtered) / len;\n  }\n};\n\nfunction normalizeProperties(cfg, dataset, dataProperties, main) {\n  // console.log('======', cfg, main, dataset);\n  const props = {};\n  const mainField = main.field || (typeof cfg.field !== 'undefined' ? dataset.field(cfg.field) : null);\n  Object.keys(dataProperties).forEach((key) => {\n    const pConfig = dataProperties[key];\n    const prop = props[key] = {};\n    if (['number', 'string', 'boolean'].indexOf(typeof pConfig) !== -1) {\n      prop.type = 'primitive';\n      prop.value = pConfig;\n    } else if (typeof pConfig === 'function') {\n      prop.type = 'function';\n      prop.value = pConfig;\n      prop.label = pConfig;\n      prop.field = mainField;\n    } else if (typeof pConfig === 'object') {\n      if (pConfig.fields) {\n        prop.fields = pConfig.fields.map(ff => normalizeProperties(cfg, dataset, { main: ff }, main).main);\n      } else if (typeof pConfig.field !== 'undefined') {\n        prop.type = 'field';\n        prop.field = dataset.field(pConfig.field);\n        prop.value = prop.field.value;\n        prop.label = prop.field.label;\n      } else if (mainField) {\n        prop.value = mainField.value;\n        prop.label = mainField.label;\n        prop.field = mainField;\n      }\n\n      if (typeof pConfig.filter === 'function') {\n        prop.filter = pConfig.filter;\n      }\n      if (typeof pConfig.value !== 'undefined') {\n        prop.value = pConfig.value;\n      }\n      if (typeof pConfig.label !== 'undefined') {\n        prop.label = pConfig.label;\n      }\n      if (typeof pConfig.reduce === 'function') {\n        prop.reduce = pConfig.reduce;\n      } else if (pConfig.reduce) {\n        prop.reduce = reducers[pConfig.reduce];\n      } else if (prop.field && prop.field.reduce) {\n        prop.reduce = typeof prop.field.reduce === 'string' ? reducers[prop.field.reduce] : prop.field.reduce;\n      }\n    }\n  });\n\n  return props;\n}\n\n/*\nexample of configuration input\ncfg = {\n  field: 'State', // the 'top level' values are extracted from field state\n  value: d => d.qText, // the value of the output\n  props: { // additional data properties ammended to each item\n    a: 3, // constant value\n    b: d => d.qElemNumber, // function will receive the original field value\n    c: {\n      field: 'Country', // reference to another field\n      value: d => d.qText // extract the qText value from the referenced field\n    },\n    d: {\n      value: d => d.qRow //  extract qRow from field 'State'\n    }\n  }\n}\n\n// output\n[{\n  value: 'CA', source: { field: 'State' },\n  a: { value: 3 },\n  b: { value: 26, source: 'State' },\n  c: { value: 'USA', source: 'Country' },\n  d: { value: 131, source: 'State' }\n},\n...]\n*/\nexport function getPropsInfo(cfg, dataset) {\n  // console.log('222', cfg);\n  const { main } = normalizeProperties(cfg, dataset, {\n    main: {\n      value: cfg.value, label: cfg.label, reduce: cfg.reduce, filter: cfg.filter\n    }\n  }, {});\n  const props = normalizeProperties(cfg, dataset, cfg.props || {}, main);\n  return { props, main };\n}\n\n// collect items that have been grouped and reduce per group and property\nexport function collect(trackedItems, {\n  main,\n  propsArr,\n  props\n}) {\n  let dataItems = [];\n  const mainFormatter = main.field.formatter() || (v => v);\n  const propsFormatters = {};\n  propsArr.forEach((prop) => {\n    propsFormatters[prop] = props[prop].field ? props[prop].field.formatter() : v => v;\n  });\n  dataItems.push(...trackedItems.map((t) => {\n    let mainValues = t.items.map(item => item.value);\n    const mainReduce = main.reduce;\n    const ret = {\n      value: mainReduce ? mainReduce(mainValues) : mainValues,\n      source: t.items[0].source\n    };\n    ret.label = mainFormatter(ret.value);\n    propsArr.forEach((prop) => {\n      let values = [];\n      values = t.items.map(item => item[prop].value);\n      const reduce = props[prop].reduce;\n      ret[prop] = {\n        value: reduce ? reduce(values) : values\n      };\n      ret[prop].label = String(propsFormatters[prop](ret[prop].value));\n      if (t.items[0][prop].source) {\n        ret[prop].source = t.items[0][prop].source;\n      }\n    });\n    return ret;\n  }));\n\n  return dataItems;\n}\n\nexport function track({\n  cfg,\n  itemData,\n  obj,\n  target,\n  tracker,\n  trackType\n}) {\n  const trackId = trackType === 'function' ? cfg.trackBy(itemData) : itemData[cfg.trackBy];\n  let trackedItem = tracker[trackId];\n  if (!trackedItem) {\n    trackedItem = tracker[trackId] = {\n      items: [],\n      id: trackId\n    };\n    target.push(trackedItem);\n  }\n  trackedItem.items.push(obj);\n}\n","import {\n  getPropsInfo,\n  collect,\n  track as storeTracked\n} from './util';\n\nfunction datumExtract(propCfg, cell, {\n  key\n}) {\n  const datum = {\n    value: typeof propCfg.value === 'function' ? propCfg.value(cell) : typeof propCfg.value !== 'undefined' ? propCfg.value : cell // eslint-disable-line no-nested-ternary\n  };\n\n  datum.label = typeof propCfg.label === 'function' ? propCfg.label(cell) : typeof propCfg.label !== 'undefined' ? String(propCfg.label) : String(datum.value); // eslint-disable-line no-nested-ternary\n\n  if (propCfg.field) {\n    datum.source = {\n      key,\n      field: propCfg.field.key()\n    };\n  }\n\n  return datum;\n}\n\nexport default function extract(config, dataset) {\n  const cfgs = Array.isArray(config) ? config : [config];\n  let dataItems = [];\n  cfgs.forEach((cfg) => {\n    if (typeof cfg.field !== 'undefined') {\n      const f = dataset.field(cfg.field);\n      const sourceKey = dataset.key();\n      if (!f) {\n        throw Error(`Field '${cfg.field}' not found`);\n      }\n      const { props, main } = getPropsInfo(cfg, dataset);\n      const propsArr = Object.keys(props);\n\n      const track = !!cfg.trackBy;\n      const trackType = typeof cfg.trackBy;\n      const tracker = {};\n      const trackedItems = [];\n\n      const items = f.items();\n      const mapped = [];\n      for (let idx = 0; idx < items.length; idx++) {\n        const mainCell = items[idx];\n        const exclude = main.filter && !main.filter(mainCell);\n        if (exclude) {\n          continue;\n        }\n        const ret = datumExtract(main, mainCell, { key: sourceKey });\n\n        // loop through all props that need to be mapped and\n        // assign 'value' and 'source' to each property\n        propsArr.forEach((prop) => {\n          const p = props[prop];\n          let propCell = p.field ? p.field.items()[idx] : mainCell;\n          ret[prop] = datumExtract(p, propCell, { key: sourceKey });\n        });\n\n        // collect items based on the trackBy value\n        // items with the same trackBy value are placed in an array and reduced later\n        if (track) {\n          storeTracked({\n            cfg,\n            itemData: mainCell,\n            obj: ret,\n            target: trackedItems,\n            tracker,\n            trackType\n          });\n        }\n\n        mapped.push(ret);\n      }\n\n      // reduce if items have been grouped\n      if (track) {\n        dataItems.push(...collect(trackedItems, {\n          main,\n          propsArr,\n          props\n        }));\n      } else {\n        dataItems.push(...mapped);\n      }\n    }\n  });\n  return dataItems;\n}\n","import extend from 'extend';\nimport field from './field';\nimport extract from './extractor-matrix';\n\nimport {\n  findField,\n  getPropsInfo,\n  collect,\n  track\n} from './util';\n\nconst filters = {\n  numeric: values => values.filter(v => typeof v === 'number' && !isNaN(v))\n};\n\nfunction createFields({\n  source, data, cache, config\n}) {\n  let headers;\n  let content = data;\n  const parse = config && config.parse;\n  if (Array.isArray(data[0])) { // assume 2d matrix of data\n    if (parse && parse.headers === false) {\n      headers = data[0].map((v, i) => i);\n    } else {\n      headers = data[0];\n      content = data.slice(1);\n    }\n  } else {\n    headers = Object.keys(data[0]);\n  }\n\n  const rowFn = !!parse && typeof parse.row === 'function' && parse.row;\n  let flds = headers;\n\n  if (parse && typeof parse.fields === 'function') {\n    flds = parse.fields(flds.slice());\n  } else {\n    flds = headers.map(h => ({\n      key: h,\n      title: h\n    }));\n  }\n\n  let fieldValues;\n  if (Array.isArray(data[0])) {\n    fieldValues = flds.map(() => []);\n  } else {\n    fieldValues = {};\n    flds.forEach((f) => { fieldValues[f.key] = []; });\n  }\n\n  for (let r = 0; r < content.length; r++) {\n    const row = rowFn ? rowFn(content[r], r, flds) : content[r];\n    if (!row) {\n      continue;\n    }\n    if (Array.isArray(row)) {\n      for (let c = 0; c < flds.length; c++) {\n        fieldValues[c].push(row[c]);\n      }\n    } else {\n      for (let c = 0; c < flds.length; c++) {\n        fieldValues[flds[c].key].push(row[flds[c].key]);\n      }\n    }\n  }\n  const fv = Array.isArray(fieldValues) ? (i => fieldValues[i]) : (i => fieldValues[flds[i].key]);\n  for (let c = 0; c < flds.length; c++) {\n    const values = fv(c);\n    const numericValues = filters.numeric(values);\n    const isMeasure = numericValues.length > 0;\n    const type = isMeasure ? 'measure' : 'dimension';\n    const min = isMeasure ? Math.min(...numericValues) : NaN;\n    const max = isMeasure ? Math.max(...numericValues) : NaN;\n\n    cache.fields.push(field(extend({\n      source,\n      key: c,\n      title: flds[c].title,\n      values,\n      min,\n      max,\n      type\n    }, flds[c]), {\n      value: flds[c].value,\n      label: flds[c].label\n    }));\n  }\n}\n\nconst dsv = ({ data, config }) => {\n  const rows = data.split('\\n');\n  const row0 = rows[0];\n  const row1 = rows[1];\n  let delimiter = ',';\n  if (config && config.parse && config.parse.delimiter) {\n    delimiter = config.parse.delimiter;\n  } else if (row0) { // guess delimiter\n    const guesses = [/,/, /\\t/, /;/];\n    for (let i = 0; i < guesses.length; i++) {\n      const d = guesses[i];\n      if (row0 && row1) {\n        if (d.test(row0) && d.test(row1) && row0.split(d).length === row1.split(d).length) {\n          delimiter = d;\n          break;\n        }\n      } else if (d.test(row0)) {\n        delimiter = d;\n      }\n    }\n  }\n  return rows.map(row => row.split(delimiter));\n};\n\nconst parseData = ({\n  source, data, cache, config\n}) => {\n  if (!data) {\n    return;\n  }\n  let dd = data;\n\n  if (typeof dd === 'string') { // assume dsv\n    dd = dsv({ data, config });\n  }\n\n  if (!Array.isArray(dd)) {\n    return; // warn?\n  }\n\n  createFields({\n    data: dd,\n    cache,\n    source,\n    config\n  });\n};\n\n/**\n * Create a new dataset with default settings\n * @private\n * @return {dataset}\n */\nfunction ds({\n  key,\n  data,\n  config\n} = {}) {\n  const cache = {\n    fields: []\n  };\n\n  /**\n   * @alias dataset\n   * @interface\n   */\n  const dataset = {\n    /**\n     * Get the key identifying this dataset\n     * @returns {string}\n     */\n    key: () => key,\n\n    /**\n     * Get the raw data\n     * @returns {any}\n     */\n    raw: () => data,\n\n    /**\n     * Find a field within this dataset\n     * @param {string} query - The field to find\n     * @returns {field}\n     */\n    field: query => findField(query, {\n      cache,\n      matrix: data\n    }),\n\n    /**\n     * Get all fields within this dataset\n     * @returns {Array<field>}\n     */\n    fields: () => cache.fields.slice(),\n\n    /**\n     * Extract data items from this dataset\n     * @param {data-extract-config} config\n     * @returns {Array<datum-extract>}\n     */\n    extract: cfg => extract(cfg, dataset, cache),\n\n    /**\n     * @returns {null}\n     */\n    hierarchy: () => null\n  };\n\n  parseData({\n    key, data, config, cache\n  });\n\n  return dataset;\n}\n\nds.util = {\n  normalizeConfig: getPropsInfo,\n  collect,\n  track\n};\n\nexport { ds as default };\n\n/**\n * @typedef {object} data-extract-config\n * @property {string} field - The field to extract data from\n * @property {data-extract-config~valueFn} [value] - The field value accessor\n * @property {data-extract-config~labelFn} [label] - The field label accessor\n * @property {data-extract-config~trackByFn} [trackBy] - Track by value accessor\n * @property {data-extract-config~reduceFn} [reduce] - Reducer function\n * @property {data-extract-config~filterFn} [filter] - Filter function\n * @property {object} [props] - Additional properties to add to the extracted item\n */\n\n/**\n * @callback data-extract-config~valueFn\n * @param {any} cell The field cell\n * @returns {any}\n */\n\n/**\n * @callback data-extract-config~labelFn\n * @param {any} cell The field cell\n * @returns {string}\n */\n\n/**\n * @callback data-extract-config~filterFn\n * @param {any} cell The field cell\n * @returns {boolean}\n */\n\n/**\n * @callback data-extract-config~trackByFn\n * @param {any} cell The field cell\n * @returns {any}\n */\n\n/**\n * @callback data-extract-config~reduceFn\n * @param {any} cell The field cell\n * @returns {any}\n */\n\n/**\n * @typedef {object} datum-extract\n * @property {any} value - The extracted value\n * @property {string} label - The extracted value as a string\n * @property {object} source - The data source of the extracted data\n * @property {string} source.key - The data-source key\n * @property {string} source.field - The source field\n */\n","import registry from '../utils/registry';\nimport dataset from './dataset';\n\nconst dataRegistry = registry();\n\ndataRegistry.default('matrix');\n\ndataRegistry('matrix', dataset);\n\ndataRegistry('default', dataset); // deprecated\n\nexport { dataRegistry as default };\n","\n/**\n * Manages event handlers for native events\n * @private\n */\nfunction native(chart, mediator, element) {\n  let instance = { chart, mediator, element };\n  let nativeEvents = [];\n  let settings;\n  let itKey;\n  let isOn = true;\n\n  /**\n   * Set default settings\n   * @private\n   */\n  function setDefaultSettings(newSettings) {\n    itKey = newSettings.key;\n    settings = newSettings;\n    settings.events = settings.events || [];\n    if (settings.enable === undefined) {\n      settings.enable = true;\n    }\n  }\n\n  /**\n   * Add native events based on settings\n   * @private\n   */\n  function addEvents() {\n    if (typeof settings.enable === 'function') {\n      settings.enable = settings.enable.bind(instance)();\n    }\n    if (!settings.enable) {\n      return; // interaction is disabled\n    }\n    Object.keys(settings.events).forEach((key) => {\n      const listener = settings.events[key].bind(instance);\n      element.addEventListener(key, listener);\n      nativeEvents.push({ key, listener });\n    });\n  }\n\n  /**\n   * Removes all added native events\n   * @private\n   */\n  function removeAddedEvents() {\n    // remove added native events\n    nativeEvents.forEach(({ key, listener }) => {\n      element.removeEventListener(key, listener);\n    });\n    nativeEvents = [];\n  }\n\n  return {\n    /**\n     * Getter for the key.\n     * @private\n     */\n    get key() {\n      return itKey;\n    },\n    /**\n     * Updates this with new settings\n     * @private\n     * @param {object} newSettings\n     * @param {string} [newSettings.type] - The interaction type. Is 'native' for this component\n     * @param {boolean|function} [newSettings.enable=true] - Should the interactions defined here be enabled or not.\n     * This is only run when adding event handlers. In effect at startup, update or during on/off.\n     * It does not run during every event loop.\n     * @param {array} [newSettings.gestures] - The keys in this object is the names of native events\n     * that should be added to the chart element and they should all point to function which\n     * will be the corresponding event handler.\n     */\n    set(newSettings) {\n      setDefaultSettings(newSettings);\n      removeAddedEvents();\n      if (isOn) {\n        addEvents();\n      }\n    },\n    /**\n     * Turns off interactions\n     * @private\n     */\n    off() {\n      isOn = false;\n      removeAddedEvents();\n    },\n    /**\n     * Turns off interactions\n     * @private\n     */\n    on() {\n      isOn = true;\n      if (nativeEvents.length === 0) {\n        addEvents();\n      }\n    },\n    /**\n     * Destroys and unbinds all event handlers\n     * @private\n     */\n    destroy() {\n      removeAddedEvents();\n      instance = null;\n      settings = null;\n    }\n  };\n}\n\nexport { native as default };\n","import registry from '../utils/registry';\nimport native from '../../web/interactions/native';\n\nconst reg = registry();\n\nreg('native', native);\n\nexport default reg;\n","/**\n * Short-hand for max(min())\n *\n * @param {number} min Minimum allowed value\n * @param {number} max Maximum allowed value\n * @param {number} value The actual value to cap\n * @ignore\n */\nexport function cap(min, max, value) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * Resolve a diff, i.e. resolveDiff(0.2, 0.6, 1, 100) = 20\n *\n * @param {object} params parameters\n * @param {number} params.start Normalized start value\n * @param {number} params.end Normalized end value\n * @param {number} params.minPx The minimum number of pixels\n * @param {number} params.maxPx Maximum number of pixels, i.e. the width or height\n * @ignore\n */\nexport function resolveDiff({\n  start, end, minPx = 0.1, maxPx = 1\n}) {\n  const high = Math.max(start, end);\n  const low = Math.min(start, end);\n  const highModified = cap(-0.1, 1.2, high);\n  const lowModified = cap(-0.1, 1.2, low);\n\n  const wantedDiff = (highModified * maxPx) - (lowModified * maxPx);\n  const actualDiff = Math.max(minPx, wantedDiff);\n  const startModifier = (actualDiff - wantedDiff) / 2;\n  const actualLow = (lowModified * maxPx) - startModifier;\n\n  return {\n    actualDiff,\n    startModifier,\n    actualLow\n  };\n}\n","import extend from 'extend';\nimport { resolveDiff } from './box-math';\n\nimport { isNumber } from '../../utils/is-number';\n\nexport function box({\n  item, boxWidth, boxPadding, rendwidth, rendheight, flipXY\n}) {\n  let x = 'x';\n  let y = 'y';\n  let width = 'width';\n  let height = 'height';\n  let calcwidth = rendwidth;\n  let calcheight = rendheight;\n\n  if (flipXY) {\n    x = 'y';\n    y = 'x';\n    width = 'height';\n    height = 'width';\n    calcwidth = rendheight;\n    calcheight = rendwidth;\n  }\n\n  const { actualDiff, actualLow } = resolveDiff({\n    start: item.start, end: item.end, minPx: item.box.minHeightPx, maxPx: calcheight\n  });\n\n  return extend({}, item.box, {\n    type: 'rect',\n    [x]: (boxPadding + item.major) * calcwidth,\n    [y]: actualLow,\n    [height]: actualDiff,\n    [width]: boxWidth * calcwidth,\n    data: item.data || {},\n    collider: {\n      type: null\n    }\n  });\n}\n\nexport function verticalLine({\n  item, from, to, boxCenter, rendwidth, rendheight, flipXY\n}) {\n  let x1 = 'x1';\n  let y1 = 'y1';\n  let x2 = 'x2';\n  let y2 = 'y2';\n  let calcwidth = rendwidth;\n  let calcheight = rendheight;\n\n  if (flipXY) {\n    x1 = 'y1';\n    y1 = 'x1';\n    x2 = 'y2';\n    y2 = 'x2';\n    calcwidth = rendheight;\n    calcheight = rendwidth;\n  }\n\n  return extend({}, item.line, {\n    type: 'line',\n    [y2]: Math.floor(from * calcheight),\n    [x1]: boxCenter * calcwidth,\n    [y1]: Math.floor(to * calcheight),\n    [x2]: boxCenter * calcwidth,\n    data: item.data || {},\n    collider: {\n      type: null\n    }\n  });\n}\n\nexport function horizontalLine({\n  item, key, position, width, boxCenter, rendwidth, rendheight, flipXY\n}) {\n  let x1 = 'x1';\n  let y1 = 'y1';\n  let x2 = 'x2';\n  let y2 = 'y2';\n  let calcwidth = rendwidth;\n  let calcheight = rendheight;\n\n  if (flipXY) {\n    x1 = 'y1';\n    y1 = 'x1';\n    x2 = 'y2';\n    y2 = 'x2';\n    calcwidth = rendheight;\n    calcheight = rendwidth;\n  }\n\n  const halfWidth = width / 2;\n\n  return extend({ type: 'line' }, item[key], {\n    [y1]: Math.floor(position * calcheight),\n    [x1]: (boxCenter - halfWidth) * calcwidth,\n    [y2]: Math.floor(position * calcheight),\n    [x2]: (boxCenter + halfWidth) * calcwidth,\n    r: halfWidth * calcwidth,\n    cx: boxCenter * calcwidth,\n    cy: position * calcheight,\n    width: width * calcwidth,\n    data: item.data || {},\n    collider: {\n      type: null\n    }\n  });\n}\n\nexport function getBoxWidth(bandwidth, item, maxMajorWidth) {\n  const boxWidth = Math.min(bandwidth * item.box.width, isNaN(item.box.maxWidthPx) ? maxMajorWidth : item.box.maxWidthPx / maxMajorWidth);\n  return isNaN(item.box.minWidthPx) ? boxWidth : Math.max(item.box.minWidthPx / maxMajorWidth, boxWidth);\n}\n\nexport function buildShapes({\n  width,\n  height,\n  flipXY,\n  resolved,\n  keys\n}) {\n  // if (!settings || !settings.major || !settings.major.scale || !settings.minor || !settings.minor.scale) {\n  //   return [];\n  // }\n\n  const output = [];\n\n  let major = null;\n  const items = resolved.major.items;\n\n  for (let i = 0, len = items.length; i < len; i++) {\n    const d = items[i].data;\n    let children = [];\n\n    let majorVal = null;\n    let majorEndVal = null;\n\n    if (typeof resolved.major.settings.binStart !== 'undefined') { // if start and end is defined\n      majorVal = resolved.major.items[i].binStart;\n      majorEndVal = resolved.major.items[i].binEnd;\n      major = resolved.major.settings.binStart.scale;\n    } else {\n      major = resolved.major.settings.major.scale;\n      majorVal = major ? resolved.major.items[i].major : 0;\n    }\n\n    let bandwidth = 0;\n    if (!major) {\n      bandwidth = 1;\n    } else if (major.bandwidth) {\n      bandwidth = major.bandwidth();\n      majorVal -= (bandwidth / 2);\n    } else {\n      bandwidth = majorEndVal - majorVal;\n    }\n\n    let item = extend({}, {\n      major: majorVal,\n      majorEnd: majorEndVal\n    }, resolved.minor.items[i]);\n\n    keys.forEach(key => (item[key] = resolved[key].items[i]));\n\n    const maxMajorWidth = flipXY ? height : width;\n    const boxWidth = getBoxWidth(bandwidth, item, maxMajorWidth);\n    const boxPadding = (bandwidth - boxWidth) / 2;\n    const boxCenter = boxPadding + item.major + (boxWidth / 2);\n\n    const rendwidth = width;\n    const rendheight = height;\n\n    if (item.box.show && isNumber(item.start) && isNumber(item.end)) {\n      children.push(box({\n        item, boxWidth, boxPadding, rendwidth, rendheight, flipXY\n      }));\n    }\n\n    if (item.line.show && isNumber(item.min) && isNumber(item.start)) {\n      children.push(verticalLine({\n        item, from: item.min, to: item.start, boxCenter, rendwidth, rendheight, flipXY\n      }));\n    }\n\n    if (item.line.show && isNumber(item.max) && isNumber(item.end)) {\n      children.push(verticalLine({\n        item, from: item.max, to: item.end, boxCenter, rendwidth, rendheight, flipXY\n      }));\n    }\n\n    if (item.median.show && isNumber(item.med)) {\n      children.push(horizontalLine({\n        item, key: 'median', position: item.med, width: boxWidth, boxCenter, rendwidth, rendheight, flipXY\n      }));\n    }\n\n    if (item.whisker.show) {\n      const whiskerWidth = boxWidth * item.whisker.width;\n\n      if (isNumber(item.min)) {\n        children.push(horizontalLine({\n          item, key: 'whisker', position: item.min, width: whiskerWidth, boxCenter, rendwidth, rendheight, flipXY\n        }));\n      }\n\n      if (isNumber(item.max)) {\n        children.push(horizontalLine({\n          item, key: 'whisker', position: item.max, width: whiskerWidth, boxCenter, rendwidth, rendheight, flipXY\n        }));\n      }\n    }\n\n    const container = {\n      type: 'container',\n      data: d,\n      collider: { type: 'bounds' },\n      children\n    };\n\n    output.push(container);\n  }\n\n  return output;\n}\n","import extend from 'extend';\n\n/**\n * Resolve a complex object using the built-in resolver from this.resolver in component\n * @ignore\n */\nexport default function complexResolver({\n  keys, data, defaultSettings, style, settings, width, height, resolver\n}) {\n  const defaults = extend(true, {}, defaultSettings || {}, style || {});\n  const scaled = {\n    major: settings.orientation === 'horizontal' ? height : width,\n    minor: settings.orientation === 'horizontal' ? width : height\n  };\n\n  const majorSettings = settings.major;\n\n  let majorResolved;\n\n  if (typeof majorSettings === 'object' && typeof majorSettings.ref === 'object' && (typeof majorSettings.ref.start !== 'undefined' && typeof majorSettings.ref.end !== 'undefined')) {\n    // temporary backwards compatibility\n    majorResolved = resolver.resolve({\n      data,\n      defaults: {\n        start: 0,\n        end: 1\n      },\n      scaled,\n      settings: extend(true, {}, {\n        binStart: { scale: settings.major.scale, ref: settings.major.ref.start },\n        binEnd: { scale: settings.major.scale, ref: settings.major.ref.end }\n      })\n    });\n  } else if (typeof majorSettings === 'object' && (typeof majorSettings.binStart !== 'undefined' && typeof majorSettings.binEnd !== 'undefined')) {\n    majorResolved = resolver.resolve({\n      data,\n      defaults: {\n        start: 0,\n        end: 1\n      },\n      scaled,\n      settings: extend(true, {}, {\n        binStart: { scale: settings.major.scale, ref: 'binStart' },\n        binEnd: { scale: settings.major.scale, ref: 'binEnd' }\n      }, settings.major)\n    });\n  } else {\n    majorResolved = resolver.resolve({\n      data,\n      scaled,\n      defaults: {\n        major: 0.5\n      },\n      settings: {\n        major: settings.major\n      }\n    });\n  }\n\n  const minorSettings = settings.minor || {};\n\n  const minorResolved = resolver.resolve({\n    data,\n    defaults: {\n      start: 0,\n      end: 1\n    },\n    scaled,\n    settings: extend(true, {}, {\n      start: { scale: minorSettings.scale, ref: 'start' },\n      end: { scale: minorSettings.scale, ref: 'end' },\n      min: { scale: minorSettings.scale, ref: 'min' },\n      max: { scale: minorSettings.scale, ref: 'max' },\n      med: { scale: minorSettings.scale, ref: 'med' }\n    }, minorSettings)\n  });\n\n  let key;\n  let ext = {\n    major: majorResolved,\n    minor: minorResolved\n  };\n\n  for (let ki = 0, len = keys.length; ki < len; ki++) {\n    key = keys[ki];\n    ext[key] = resolver.resolve({\n      data,\n      defaults: defaults[key],\n      settings: settings[key],\n      scaled\n    });\n  }\n\n  return ext;\n}\n","import { buildShapes } from './box-shapes';\nimport complexResolver from './box-resolver';\n\nconst DEFAULT_DATA_SETTINGS = {\n  line: {\n    show: true,\n    stroke: '#000',\n    strokeWidth: 1\n  },\n  median: {\n    show: true,\n    stroke: '#000',\n    strokeWidth: 1\n  },\n  whisker: {\n    show: true,\n    stroke: '#000',\n    strokeWidth: 1,\n    fill: '',\n    type: 'line',\n    width: 1\n  },\n  box: {\n    show: true,\n    fill: '#fff',\n    stroke: '#000',\n    strokeWidth: 1,\n    strokeLinejoin: 'miter',\n    width: 1,\n    maxWidthPx: undefined,\n    minWidthPx: 1,\n    minHeightPx: 1\n  }\n};\n\nconst dataKeys = Object.keys(DEFAULT_DATA_SETTINGS);\n\nconst component = {\n  require: ['chart', 'resolver'],\n  defaultSettings: {\n    settings: {},\n    data: {},\n    style: {\n      box: '$shape',\n      line: '$shape-guide',\n      whisker: '$shape-guide',\n      median: '$shape-guide--inverted'\n    }\n  },\n  created() {\n    this.rect = {\n      x: 0, y: 0, width: 0, height: 0\n    };\n    this.state = {};\n  },\n  beforeRender(opts) {\n    this.rect = opts.size;\n  },\n  render({ data }) {\n    const { width, height } = this.rect;\n\n    const flipXY = this.settings.settings.orientation === 'horizontal';\n\n    const { style, resolver } = this;\n\n    const resolved = complexResolver({\n      keys: dataKeys,\n      data,\n      defaultSettings: DEFAULT_DATA_SETTINGS,\n      style,\n      settings: this.settings.settings,\n      width,\n      height,\n      resolver\n    });\n\n    const { settings, items } = resolved;\n\n    const shapes = buildShapes({\n      items,\n      settings,\n      width,\n      height,\n      flipXY,\n      resolved,\n      keys: dataKeys\n    });\n\n    return shapes;\n  }\n};\n\nexport default component;\n","import component from './box';\n\nexport default function box(picasso) {\n  picasso.component('box', component);\n  picasso.component('box-marker', component); // temporary backwards compatibility - DEPRECATED\n}\n\n/**\n * @typedef {object} component--box\n * @property {string} type - \"box\"\n * @property {component--box~data} data - Box data\n * @property {component--box~settings} settings - Box settings\n * @example\n * {\n *   type: \"box\",\n *   data: {\n *    mapTo: {\n *      min: { source: \"/qHyperCube/qMeasureInfo/0\" },\n *      start: { source: \"/qHyperCube/qMeasureInfo/1\" },\n *      med: { source: \"/qHyperCube/qMeasureInfo/2\" },\n *      end: { source: \"/qHyperCube/qMeasureInfo/3\" },\n *      max: { source: \"/qHyperCube/qMeasureInfo/4\" },\n *    },\n *    groupBy: {\n *      source: \"/qHyperCube/qDimensionInfo/0\"\n *    }\n *  },\n *  settings: {\n *    major: {\n *      scale: { source: \"/qHyperCube/qDimensionInfo/0\" }\n *    },\n *    minor: {\n *      scale: { source: [\"/qHyperCube/qMeasureInfo/0\",\n *               \"/qHyperCube/qMeasureInfo/1\",\n *               \"/qHyperCube/qMeasureInfo/2\",\n *               \"/qHyperCube/qMeasureInfo/3\",\n *               \"/qHyperCube/qMeasureInfo/4\"] }\n *    }\n *  }\n * }\n */\n\n/**\n * @typedef {object} component--box~settings\n * @property {object} major\n * @property {string} major.scale - The scale to use along the major axis\n * @property {string|component--box~settings~majorReference} [major.ref='self'] - Reference to the data property along the major axis\n * @property {object} minor\n * @property {string} minor.scale - The scale to use along the minor axis\n * @property {string} [orientation='vertical']\n * @property {object} [box]\n * @property {boolean} [box.show=true]\n * @property {string} [box.fill='#fff']\n * @property {string} [box.stroke='#000']\n * @property {number} [box.strokeWidth=1]\n * @property {string} [box.strokeLinejoin='miter']\n * @property {number} [box.width=1]\n * @property {number} [box.maxWidthPx=100]\n * @property {number} [box.minWidthPx=1]\n * @property {number} [box.minHeightPx=1]\n * @property {object} [line]\n * @property {boolean} [line.show=true]\n * @property {string} [line.stroke='#000']\n * @property {number} [line.strokeWidth=1]\n * @property {object} [whisker]\n * @property {boolean} [whisker.show=true]\n * @property {string} [whisker.stroke='#000']\n * @property {number} [whisker.strokeWidth=1]\n * @property {number} [whisker.width=1]\n * @property {object} [median]\n * @property {number} [median.show=true]\n * @property {number} [median.stroke='#000']\n * @property {number} [median.strokeWidth=1]\n */\n\n/**\n * @typedef {object} component--box~settings~majorReference\n * @property {string} start - Reference to the data property of the start value along the major axis\n * @property {string} end - Reference to the data property of the end value along the major axis\n */\n\n/**\n * @typedef {object} component--box~data\n * @property {number} [min] - min\n * @property {number} [max] - max\n * @property {number} [start] - start\n * @property {number} [end] - end\n * @property {number} [med] - med\n */\n","/**\n * A list of supported attributes in lower camelCase notation mapped to corresponding kebab-case notation.\n * The kebab-case notations are a sub-set of SVG attributes (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute).\n * @ignore\n */\nconst mappedAttributes = {\n  fill: 'fill',\n  stroke: 'stroke',\n  opacity: 'opacity',\n  strokeWidth: 'stroke-width',\n  strokeLinejoin: 'stroke-linejoin',\n  fontFamily: 'font-family',\n  fontSize: 'font-size',\n  baseline: 'dominant-baseline', // Special case where we have defined our own attribute name\n  dominantBaseline: 'dominant-baseline',\n  anchor: 'text-anchor', // Special case where we have defined our own attribute name\n  textAnchor: 'text-anchor',\n  maxWidth: 'maxWidth',\n  transform: 'transform',\n  strokeDasharray: 'stroke-dasharray',\n  id: 'id'\n};\n\n/**\n * Takes a target object and assign each supported attribute from a source object to that target.\n * Each supported attributes is converted to a mapped kebab-case notation.\n * @ignore\n *\n * @param {object} target - Target object on which to assign mapped attribute values\n * @param {object} source - Source object\n */\nfunction assignMappedAttribute(target, source) {\n  Object.keys(mappedAttributes).forEach((key) => {\n    const sourceValue = source[key];\n    if (typeof sourceValue !== 'undefined') {\n      const mappedKey = mappedAttributes[key];\n      target[mappedKey] = sourceValue;\n    }\n  });\n}\n\nexport { mappedAttributes, assignMappedAttribute };\n","/**\n * @extends symbol-config\n * @typedef {object} symbol--circle\n */\nfunction circle(options) {\n  return {\n    type: 'circle',\n    fill: 'black',\n    cx: options.x,\n    cy: options.y,\n    r: options.size / 2,\n    collider: {\n      type: 'circle'\n    }\n  };\n}\n\nexport { circle as default };\n","export default function pointsToPath(points, close = true) {\n  let d = '';\n\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    if (i === 0) {\n      d += `M${p.x} ${p.y}`;\n    } else {\n      d += `L${p.x} ${p.y}`;\n    }\n\n    d += ' ';\n  }\n\n  if (close) {\n    d += 'Z';\n  }\n\n  return d;\n}\n","import pointsToPath from '../utils/points-to-path';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--diamond\n */\nfunction diamond(options) {\n  const size = options.size;\n  const left = options.x - (size / 2);\n  const top = options.y - (size / 2);\n  const points = [\n    { x: left, y: top + (size / 2) },\n    { x: left + (size / 2), y: top },\n    { x: left + size, y: top + (size / 2) },\n    { x: left + (size / 2), y: top + size },\n    { x: left, y: top + (size / 2) }\n  ];\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { diamond as default };\n","import pointsToPath from '../utils/points-to-path';\n\nexport function generateCrossPoints(x, y, size, barWidth) {\n  const r = size / 2;\n  const innerLeft = x - (barWidth / 2);\n  const innerTop = y - (barWidth / 2);\n  const left = x - r;\n  const top = y - r;\n\n  return [\n    { x: innerLeft, y: innerTop }, // Top\n    { x: innerLeft, y: top },\n    { x: innerLeft + barWidth, y: top },\n    { x: innerLeft + barWidth, y: innerTop }, // Right\n    { x: left + size, y: innerTop },\n    { x: left + size, y: innerTop + barWidth },\n    { x: innerLeft + barWidth, y: innerTop + barWidth }, // Bottom\n    { x: innerLeft + barWidth, y: top + size },\n    { x: innerLeft, y: top + size },\n    { x: innerLeft, y: innerTop + barWidth }, // Left\n    { x: left, y: innerTop + barWidth },\n    { x: left, y: innerTop }\n  ];\n}\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--cross\n * @property {number} [width] - Width of the diagonals\n */\nfunction cross(options) {\n  const x = options.x;\n  const y = options.y;\n  const r = options.size / 2;\n  const width = isNaN(options.width) ? r / 2 : options.width;\n  const barWidth = Math.min(width, r);\n\n  const points = generateCrossPoints(x, y, options.size, barWidth);\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { cross as default };\n","/**\n * Get x1, y1, x2, y2 point from angle\n * Source: {@link https://codepen.io/NV/pen/jcnmK}\n * @private\n *\n * @param  {number} angle Radians\n * @return {object}       Point with x1, y2, x2, y2.\n */\nexport function angleToPoints(angle) {\n  let segment = Math.floor((angle / Math.PI) * 2) + 2;\n  let diagonal = ((0.5 * segment) + 0.25) * Math.PI;\n  let op = Math.cos(Math.abs(diagonal - angle)) * Math.sqrt(2);\n  let x = op * Math.cos(angle);\n  let y = op * Math.sin(angle);\n\n  return {\n    x1: x < 0 ? 1 : 0,\n    y1: y < 0 ? 1 : 0,\n    x2: x >= 0 ? x : x + 1,\n    y2: y >= 0 ? y : y + 1\n  };\n}\n\n/**\n * Turns degrees into radians\n * @private\n *\n * @param  {number} degrees Degrees\n * @return {number}         Radians\n */\nexport function toRadians(d) {\n  return ((-d) / 180) * Math.PI;\n}\n\n/**\n * Turns radians into degrees\n * @private\n *\n * @param  {number} degrees Degrees\n * @return {number}         Radians\n */\nexport function toDegrees(r) {\n  return r * (180 / Math.PI);\n}\n\n/**\n * Get x1, y1, x2, y2 point from degree\n * @private\n *\n * @param  {number} d Degree\n * @return {object}   Point with x1, y2, x2, y2.\n */\nexport function degreesToPoints(d) {\n  return angleToPoints(toRadians(d));\n}\n","import { generateCrossPoints } from './cross';\nimport { toRadians } from '../math/angles';\nimport { rotate } from '../math/vector';\nimport pointsToPath from '../utils/points-to-path';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--saltire\n * @property {number} [width] - Width of the diagonals\n */\nfunction saltire(options) {\n  const radians = toRadians(45);\n  const r = options.size / 2;\n  const width = isNaN(options.width) ? r / 2 : options.width;\n  const barWidth = Math.min(width, r);\n  let adjustedSize = options.size;\n\n  // Adjust for the barwidth and rotation angle, so that the visual part is always inside the symbol area\n  const h = Math.sin(Math.asin(-radians)) * (barWidth / 2);\n  const c = r / Math.sin(-radians);\n  adjustedSize += (c - r) * 2;\n  adjustedSize -= h * 2;\n\n  const centroid = { x: options.x, y: options.y };\n  const points = generateCrossPoints(options.x, options.y, adjustedSize, barWidth)\n    .map(p => rotate(p, radians, centroid));\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { saltire as default };\n","/**\n * @extends symbol-config\n * @typedef {object} symbol--square\n */\nfunction square(options) {\n  const size = options.size;\n\n  return {\n    type: 'rect',\n    fill: 'black',\n    x: options.x - (size / 2),\n    y: options.y - (size / 2),\n    width: size,\n    height: size\n  };\n}\n\nexport { square as default };\n","import pointsToPath from '../utils/points-to-path';\nimport { rotate } from '../math/vector';\nimport { toRadians } from '../math/angles';\n\nconst DIRECTION_TO_ANGLE = {\n  up: 0,\n  down: 180,\n  left: 90,\n  right: -90\n};\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--triangle\n * @property {string} [direction='up'] - Direction of the triangle ('up'|'down'|'left'|'right')\n */\nfunction triangle(options) {\n  const size = options.size;\n  const p = { x: options.x, y: options.y };\n  const directionAngle = DIRECTION_TO_ANGLE[options.direction] || 0;\n  const halfSize = (size / 2);\n  const left = options.x - halfSize;\n  const top = options.y - halfSize;\n  let points = [\n    { x: left, y: top + size },\n    { x: left + halfSize, y: top },\n    { x: left + size, y: top + size },\n    { x: left, y: top + size }\n  ];\n\n  const radians = toRadians(directionAngle);\n  points = points.map(pp => rotate(pp, radians, p));\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { triangle as default };\n","/**\n * @extends symbol-config\n * @typedef {object} symbol--line\n * @property {string} [direction='horizontal'] - Direction of line ('horizontal'|'vertical').\n */\nfunction line(options) {\n  const isVertical = options.direction === 'vertical';\n  const r = options.size / 2;\n  const x = options.x;\n  const y = options.y;\n\n  return {\n    type: 'line',\n    stroke: 'black',\n    strokeWidth: 1,\n    x1: x - (isVertical ? 0 : r),\n    y1: y - (isVertical ? r : 0),\n    x2: x + (isVertical ? 0 : r),\n    y2: y + (isVertical ? r : 0)\n  };\n}\n\nexport { line as default };\n","import pointsToPath from '../utils/points-to-path';\nimport { toRadians } from '../math/angles';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--star\n * @property {number} [points=5] - Number of points on the star\n * @property {number} [startAngle=90] - Start drawing angle\n * @property {number} [innerRadius=size/2] - Size of the star core. My not exceed size of symbol.\n */\nfunction star(options) {\n  const size = options.size;\n  const points = [];\n  const outerRadius = size / 2;\n  const drawPoints = options.points || 5;\n  const innerRadius = (Math.min(options.innerRadius || size / 2, size) / 2);\n  const startAngle = isNaN(options.startAngle) ? 90 : options.startAngle;\n  const angle = 360 / drawPoints;\n\n  for (let i = 1; i <= drawPoints; i++) {\n    const pAngle = (angle * i) + startAngle;\n    const radians = toRadians(pAngle);\n    const innerRadians = toRadians(pAngle + (angle / 2));\n    const y = Math.sin(radians);\n    const x = Math.cos(radians);\n    const iy = Math.sin(innerRadians);\n    const ix = Math.cos(innerRadians);\n\n    points.push({\n      x: options.x + (x * outerRadius),\n      y: options.y + (y * outerRadius)\n    });\n\n    points.push({\n      x: options.x + (ix * innerRadius),\n      y: options.y + (iy * innerRadius)\n    });\n  }\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { star as default };\n","import pointsToPath from '../utils/points-to-path';\nimport { toRadians } from '../math/angles';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--n-polygon\n * @property {object} [sides=6] - Number of sides on the regular polygon\n * @property {object} [startAngle=0] - Start drawing angle\n */\nfunction nPolygon(options) {\n  const points = [];\n  const radius = options.size / 2;\n  const drawPoints = Math.max(isNaN(options.sides) ? 6 : options.sides, 3);\n  const angle = 360 / drawPoints;\n  const startAngle = isNaN(options.startAngle) ? 0 : options.startAngle;\n\n  for (let i = 1; i <= drawPoints; i++) {\n    const radians = toRadians((angle * i) + startAngle);\n    const y = Math.sin(radians);\n    const x = Math.cos(radians);\n    points.push({\n      x: options.x + (x * radius),\n      y: options.y + (y * radius)\n    });\n  }\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { nPolygon as default };\n","import { rotate } from '../math/vector';\nimport { pointsToRect } from '../geometry/util';\nimport { toRadians } from '../math/angles';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--bar\n * @property {string} [direction='horizontal'] - Direction of bar ('horizontal'|'vertical').\n */\nfunction bar(options) {\n  const p = { x: options.x, y: options.y };\n  const isVertical = options.direction === 'vertical';\n  const r = options.size / 2;\n  const width = r / 2;\n  const halfWidth = width / 2;\n\n  let points = [\n    { x: p.x - r, y: p.y + halfWidth },\n    { x: p.x - r, y: p.y - halfWidth },\n    { x: p.x + r, y: p.y - halfWidth },\n    { x: p.x + r, y: p.y + halfWidth }\n  ];\n\n  if (isVertical) {\n    const radians = toRadians(90);\n    points = points.map(pp => rotate(pp, radians, p));\n  }\n\n  const rect = pointsToRect(points);\n  rect.type = 'rect';\n  rect.fill = 'black';\n  rect.collider = { type: 'rect' };\n\n  return rect;\n}\n\nexport { bar as default };\n","import { mappedAttributes } from '../scene-graph/attributes';\nimport circle from './circle';\nimport diamond from './diamond';\nimport saltire from './saltire';\nimport square from './square';\nimport triangle from './triangle';\nimport line from './line';\nimport star from './star';\nimport nPolygon from './n-polygon';\nimport cross from './cross';\nimport bar from './bar';\nimport registry from '../utils/registry';\n\nconst reg = registry();\n\nreg.add('circle', circle);\nreg.add('diamond', diamond);\nreg.add('saltire', saltire);\nreg.add('square', square);\nreg.add('triangle', triangle);\nreg.add('line', line);\nreg.add('star', star);\nreg.add('n-polygon', nPolygon);\nreg.add('cross', cross);\nreg.add('bar', bar);\n\nfunction createRectCollider({ x, y, size }) {\n  const r = size / 2;\n  return {\n    type: 'rect',\n    x: x - r,\n    y: y - r,\n    width: size,\n    height: size\n  };\n}\n\nfunction applyOpts(obj, opts = {}) {\n  Object.keys(opts).forEach((key) => {\n    if (typeof mappedAttributes[key] !== 'undefined' && key !== 'transform') {\n      obj[key] = opts[key];\n    }\n  });\n}\n\n/**\n * Factory function for symbols.\n * Options object is passed to symbols function.\n * @private\n * @param {symbol--bar|symbol--circle|symbol--cross|symbol--diamond|symbol--line|symbol--n-polygon|symbol--saltire|symbol--square|symbol--star|symbol--triangle} options - Options definition may contain any of the supported display-object attributes\n * @returns {object} A node definition\n */\nfunction create(options = {}) { // TODO handle reserverd properties x, y, size, data, etc..\n  const fn = reg.get(options.type);\n  if (fn) {\n    const s = fn(options);\n    if (!s.collider) {\n      s.collider = createRectCollider(options);\n    }\n\n    applyOpts(s, options);\n\n    if (typeof options.data !== 'undefined') {\n      s.data = options.data;\n    }\n\n    return s;\n  }\n  return fn;\n}\n\nconst symbols = {\n  add: (type, fn) => reg.add(type, fn),\n  get: type => reg.get(type),\n  remove: type => reg.remove(type),\n  create\n};\n\nexport {\n  create as default,\n  symbols\n};\n\n/**\n * Mandatory symbol config\n * @typedef {object} symbol-config\n * @property {object} options - Options definition may contain any of the supported display-object attributes\n * @property {string} options.type - Type of symbol\n * @property {number} options.x - x-coordinate\n * @property {number} options.y - y-coordinate\n * @property {number} options.size\n * @property {object} [options.data]\n */\n","import extend from 'extend';\nimport { notNumber } from '../../utils/is-number';\nimport shapeFactory from '../../symbols';\n\nconst DEFAULT_ERROR_SETTINGS = {\n  errorShape: {\n    shape: 'saltire',\n    width: 2,\n    size: 0.5,\n    fill: '#333',\n    stroke: '#333',\n    strokeWidth: 0\n  }\n};\n\n/**\n  * @typedef {object}\n  * @alias component--point.settings\n  */\nconst DEFAULT_DATA_SETTINGS = {\n  /** Type of shape\n   * @type {datum-string=} */\n  shape: 'circle',\n  label: '',\n  /** Fill color\n   * @type {datum-string=} */\n  fill: '#333',\n  /** Stroke color\n   * @type {datum-string=} */\n  stroke: '#ccc',\n  /** Stroke width\n   * @type {datum-number=} */\n  strokeWidth: 0,\n  /** Stroke line join\n   * @type {string=} */\n  strokeLinejoin: 'miter',\n  /** Opacity of shape\n   * @type {datum-number=} */\n  opacity: 1,\n  /** Normalized x coordinate\n   * @type {datum-number=} */\n  x: 0.5,\n  /** Normalized y coordinate\n   * @type {datum-number=} */\n  y: 0.5,\n  /** Normalized size of shape\n   * @type {datum-number=} */\n  size: 1,\n  strokeDasharray: ''\n};\n\n/**\n  * @typedef {object}\n  * @alias component--point.settings.sizeLimits\n  */\nconst SIZE_LIMITS = {\n  /** Maximum size of shape, in pixels\n   * @type {number=} */\n  maxPx: 10000,\n  /** Minimum size of shape, in pixels\n   * @type {number=} */\n  minPx: 1,\n  /** Maximum size relative linear scale extent\n   * @type {number=} */\n  maxRelExtent: 0.1,\n  /** Minimum size relative linear scale extent\n   * @type {number=} */\n  minRelExtent: 0.01,\n  /** Maximum size relative discrete scale banwidth\n   * @type {number=} */\n  maxRelDiscrete: 1,\n  /** Minimum size relative discrete scale banwidth\n   * @type {number=} */\n  minRelDiscrete: 0.1\n};\n\nfunction getPxSpaceFromScale(s, space) {\n  if (s && typeof s.bandwidth === 'function') { // some kind of ordinal scale\n    return {\n      isBandwidth: true,\n      value: Math.max(1, s.bandwidth() * space)\n    };\n  }\n  return {\n    isBandwidth: false,\n    value: Math.max(1, space)\n  };\n}\n\nfunction getPointSizeLimits(x, y, width, height, limits) {\n  const xSpacePx = getPxSpaceFromScale(x ? x.scale : undefined, width, limits);\n  const ySpacePx = getPxSpaceFromScale(y ? y.scale : undefined, height, limits);\n  let maxSizePx = Math.min(xSpacePx.value * limits[xSpacePx.isBandwidth ? 'maxRelDiscrete' : 'maxRelExtent'], ySpacePx.value * limits[ySpacePx.isBandwidth ? 'maxRelDiscrete' : 'maxRelExtent']);\n  let minSizePx = Math.min(xSpacePx.value * limits[xSpacePx.isBandwidth ? 'minRelDiscrete' : 'minRelExtent'], ySpacePx.value * limits[ySpacePx.isBandwidth ? 'minRelDiscrete' : 'minRelExtent']);\n  const min = Math.max(1, Math.floor(minSizePx));\n  const max = Math.max(1, Math.floor(maxSizePx));\n  return {\n    min, max, maxGlobal: limits.maxPx, minGlobal: limits.minPx\n  };\n}\n\nfunction createDisplayPoints(dataPoints, {\n  width, height\n}, pointSize, shapeFn) {\n  return dataPoints.filter(p => !isNaN(p.x + p.y)).map((p) => {\n    const s = notNumber(p.size) ? DEFAULT_ERROR_SETTINGS.errorShape : p;\n    const size = pointSize.min + (s.size * (pointSize.max - pointSize.min));\n    const shapeSpec = {\n      type: s.shape === 'rect' ? 'square' : s.shape,\n      label: p.label,\n      x: p.x * width,\n      y: p.y * height,\n      fill: s.fill,\n      size: Math.min(pointSize.maxGlobal, Math.max(pointSize.minGlobal, size)),\n      stroke: s.stroke,\n      strokeWidth: s.strokeWidth,\n      strokeDasharray: s.strokeDasharray,\n      opacity: s.opacity\n    };\n    if (s === p.errorShape) {\n      shapeSpec.width = s.width;\n    }\n    const shape = shapeFn(shapeSpec);\n\n    shape.data = p.data;\n    return shape;\n  });\n}\n\nconst component = {\n  require: ['chart', 'resolver'],\n  defaultSettings: {\n    settings: {},\n    data: {},\n    animations: {\n      enabled: false,\n      trackBy: node => node.data.value\n    },\n    style: {\n      item: '$shape'\n    }\n  },\n  created() {\n    this.rect = {\n      x: 0, y: 0, width: 0, height: 0\n    };\n  },\n  beforeRender(opts) {\n    this.rect = opts.size;\n  },\n  render({ data }) {\n    const resolved = this.resolver.resolve({\n      data,\n      defaults: extend({}, DEFAULT_DATA_SETTINGS, this.style.item),\n      settings: this.settings.settings,\n      scaled: {\n        x: this.rect.width,\n        y: this.rect.height\n      }\n    });\n    const { width, height } = this.rect;\n    const limits = extend({}, SIZE_LIMITS, this.settings.settings.sizeLimits);\n    const points = resolved.items;\n    const pointSize = getPointSizeLimits(resolved.settings.x, resolved.settings.y, width, height, limits);\n    return createDisplayPoints(points, this.rect, pointSize, this.settings.shapeFn || shapeFactory);\n  }\n};\n\nexport default component;\n","import pointMarkerComponent from './point';\n\n/**\n * @typedef {object} component--point\n */\n\n/**\n * @type {string}\n * @memberof component--point\n */\nconst type = 'point';\n\nexport default function pointMarker(picasso) {\n  picasso.component(type, pointMarkerComponent);\n\n  picasso.component('point-marker', pointMarkerComponent); // temporary backwards compatibility - DEPRECATED\n}\n","import extend from 'extend';\nimport { pie, arc } from 'd3-shape';\n\n/**\n * @typedef {object}\n * @alias component--pie-settings\n */\nconst DEFAULT_DATA_SETTINGS = {\n  /** Start angle of the pie, in radians\n   * @type {number=} */\n  startAngle: 0,\n  /** End angle of the pie, in radians\n   * @type {number=} */\n  endAngle: 2 * Math.PI,\n  /**\n   * @typedef {object}\n   */\n  slice: {\n    label: '',\n    /** Absolute value of the slice's arc length\n     * @type {number=} */\n    arc: 1,\n    /** Visibility of the slice\n     * @type {boolean=} */\n    show: true,\n    /** Fill color of the slice\n     * @type {string=} */\n    fill: '#333',\n    /** Stroke color of the slice\n     * @type {string=} */\n    stroke: '#ccc',\n    /** Stroke width of the slice\n     * @type {number=} */\n    strokeWidth: 1,\n    /** Stroke line join\n     * @type {string=} */\n    strokeLinejoin: 'round',\n    /** Opacity of the slice\n     * @type {number=} */\n    opacity: 1,\n    /** Inner radius of the slice\n     * @type {number=} */\n    innerRadius: 0,\n    /** Outer radius of the slice\n     * @type {number=} */\n    outerRadius: 0.8,\n    /** Corner radius of the slice, in pixels\n     * @type {number=} */\n    cornerRadius: 0,\n    /** Radial offset of the slice\n     * @type {number=} */\n    offset: 0\n  }\n};\n\n/**\n * @typedef {object} component--pie\n * @property {string} [type='pie']\n * @example\n * {\n *   type: 'pie',\n *   data: {\n *     extract: {\n *       field: 'Region',\n *       props: {\n *         num: { field: 'Population' }\n *       }\n *     }\n *   },\n *   settings: {\n *     startAngle: Math.PI / 2,\n *     endAngle: -Math.PI / 2,\n *     slice: {\n *       arc: { ref: 'num' },\n *       fill: 'green',\n *       stroke: 'red',\n *       strokeWidth: 2,\n *       strokeLinejoin: 'round',\n *       innerRadius: 0.6,\n *       outerRadius 0.8,\n *       opacity: 0.8,\n *       offset: 0.2\n *     }\n *   }\n * }\n */\n\nfunction offsetSlice(centroid, offset, outerRadius, innerRadius) {\n  let [vx, vy] = centroid;\n  const vlen = Math.sqrt((vx * vx) + (vy * vy));\n  vx /= vlen;\n  vy /= vlen;\n  const diff = outerRadius - innerRadius;\n  return { x: vx * offset * diff, y: vy * offset * diff };\n}\n\nfunction createDisplayPies(arcData, {\n  x, y, width, height\n}, slices, sum) {\n  const arcGen = arc();\n  const center = { x: x + (width / 2), y: y + (height / 2) };\n  const innerRadius = (Math.min(width, height) / 2);\n  const outerRadius = (Math.min(width, height) / 2);\n  const cornerRadius = outerRadius / 100;\n  return arcData.map((a, i) => {\n    const slice = slices[i];\n    slice.type = 'path';\n    const or = outerRadius * slice.outerRadius;\n    const ir = innerRadius * slice.innerRadius;\n    arcGen.innerRadius(ir);\n    arcGen.outerRadius(or);\n    arcGen.cornerRadius(cornerRadius * slice.cornerRadius);\n    slice.d = arcGen(a);\n    const centroid = arcGen.centroid(a);\n    const offset = slice.offset ? offsetSlice(centroid, slice.offset, or, ir) : { x: 0, y: 0 };\n    slice.transform = `translate(${offset.x}, ${offset.y}) translate(${center.x}, ${center.y})`;\n    slice.desc = {\n      share: a.value / sum,\n      slice: {\n        start: a.startAngle,\n        end: a.endAngle,\n        innerRadius: ir,\n        outerRadius: or,\n        offset: { x: center.x + offset.x, y: center.y + offset.y }\n      }\n    };\n\n    return slice;\n  });\n}\n\nexport function arcValue(stngs, item) {\n  if (stngs.slice && 'arc' in stngs.slice) {\n    return item.arc;\n  }\n  return item.data.value;\n}\n\nconst pieComponent = {\n  require: ['chart', 'resolver'],\n  defaultSettings: {\n    settings: {\n      startAngle: 0,\n      endAngle: 2 * Math.PI,\n      padAngle: 0,\n      slice: {}\n    },\n    style: {\n      slice: '$shape'\n    },\n    data: {}\n  },\n  created() {\n    this.rect = {\n      x: 0, y: 0, width: 0, height: 0\n    };\n  },\n  beforeRender(opts) {\n    this.rect = opts.size;\n  },\n  render({ data }) {\n    const arcValues = [];\n    const slices = [];\n    const stngs = this.settings.settings;\n    const { items } = this.resolver.resolve({\n      data,\n      defaults: extend({}, DEFAULT_DATA_SETTINGS.slice, this.style.slice),\n      settings: stngs.slice\n    });\n\n    let sum = 0;\n    for (let i = 0, len = items.length; i < len; i++) {\n      const val = arcValue(stngs, items[i]);\n      if (val > 0 && items[i].outerRadius >= items[i].innerRadius) {\n        arcValues.push(val);\n        slices.push(items[i]);\n        sum += val;\n      }\n    }\n\n    const pieGen = pie().sortValues(null);\n    pieGen.startAngle(stngs.startAngle);\n    pieGen.endAngle(stngs.endAngle);\n    pieGen.padAngle(stngs.padAngle);\n    const arcData = pieGen(arcValues);\n\n    return createDisplayPies(\n      arcData,\n      extend({}, this.rect, { x: 0, y: 0 }),\n      slices,\n      sum\n    );\n  }\n};\n\nexport default pieComponent;\n","import pieComponent from './pie';\n\nexport default function pie(picasso) {\n  picasso.component('pie', pieComponent);\n}\n","/**\n * Create a crispifier\n * @ignore\n *\n * @param  {Object} [crispMap] Optional crispmap if you need custom crisping.\n * @return {Function}          crispItem function\n *\n * @example\n * import { crispifierFactory } from \"core/crispifier\";\n *\n * let crispify = crispifierFactory(customCrispMap);\n *\n * // For a single item\n * crispify(myItem);\n *\n * // For multiple items\n * crispify.multiple(myArrayOfItems);\n */\nexport function crispifierFactory(crispMap) {\n  // Define the crispMap\n  if (crispMap === undefined) {\n    crispMap = {};\n\n    crispMap.line = {\n      append: ['x1', 'x2', 'y1', 'y2'],\n      round: [],\n      condition: item => (item.x1 === item.x2 || item.y1 === item.y2),\n      conditionAppend: item => item.strokeWidth % 2 !== 0\n    };\n\n    crispMap.rect = {\n      append: ['x', 'y'],\n      round: ['width', 'height'],\n      condition: () => true,\n      conditionAppend: item => item.strokeWidth % 2 !== 0\n    };\n  }\n\n  // Re-map the crispmap\n  Object.keys(crispMap).forEach((type) => {\n    const self = crispMap[type];\n\n    self.items = [];\n\n    self.append.forEach((toAppend) => {\n      self.items.push({\n        key: toAppend,\n        type: 'append'\n      });\n    });\n\n    self.round.forEach((toAppend) => {\n      self.items.push({\n        key: toAppend,\n        type: 'round'\n      });\n    });\n  });\n\n  /**\n   * Crispify a single item\n   * @ignore\n   * @param  {Object} item  Item with renderer variables such as X, Y, and type.\n   * @return {Undefined}    Returns nothing, modifies the original item instead\n   */\n  function crispItem(item) {\n    if (crispMap[item.type] && crispMap[item.type].condition(item)) {\n      const self = crispMap[item.type];\n      const doAppend = self.conditionAppend === undefined || self.conditionAppend(item);\n\n      self.items.forEach((i) => {\n        const rounded = Math.round(item[i.key]);\n        const diff = item[i.key] - rounded;\n        item[i.key] = rounded;\n\n        if (doAppend && i.type === 'append') {\n          if (diff > 0) {\n            item[i.key] += 0.5;\n          } else {\n            item[i.key] -= 0.5;\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Crispify multiple items\n   * @ignore\n   *\n   * @param  {Array} items  Array of objects to crispify\n   * @return {Undefined}    Returns nothing, modifies the original item instead\n   */\n  crispItem.multiple = items => items.forEach(item => crispItem(item));\n\n  return crispItem;\n}\n\nconst crispifier = crispifierFactory();\n\nexport default crispifier;\n","import crispify from './crispifier';\n\nclass Transposer {\n  /**\n   * @private\n   */\n  constructor(...items) {\n    this.reset();\n\n    this.push(...items);\n  }\n\n  /**\n   * Evaluate a key for a transposed coordinate\n   *\n   * @param  {String} key   Key\n   * @return {String}         Actual key\n   */\n  static evaluateKey(key, flipXY) {\n    if (flipXY) {\n      const firstChar = key.substring(0, 1);\n      const rest = key.substring(1);\n\n      if (firstChar === 'x') {\n        return `y${rest}`;\n      }\n      if (firstChar === 'y') {\n        return `x${rest}`;\n      }\n      if (key === 'cx') {\n        return 'cy';\n      }\n      if (key === 'cy') {\n        return 'cx';\n      }\n      if (key === 'width') {\n        return 'height';\n      }\n      if (key === 'height') {\n        return 'width';\n      }\n    }\n\n    return key;\n  }\n\n  /**\n   * Transpose a coordinate according to this.flipXY and\n   * the available rendering area\n   *\n   * @param  {String} key        The key of the coordinate to transpose\n   * @param  {Number} coordinate The coordinate\n   * @return {Number}            The actual location of the coordinate\n   */\n  transposeCoordinate(key, coordinate, flipXY) {\n    if (typeof coordinate === 'number' && isFinite(coordinate)) {\n      const firstChar = key.substring(0, 1);\n\n      if (firstChar === 'x' || key === 'cx') {\n        return coordinate * this.width;\n      }\n      if (key === 'width') {\n        return coordinate * this.width;\n      }\n      if (key === 'r') {\n        return coordinate * (!flipXY ? this.width : this.height);\n      }\n      if (firstChar === 'y' || key === 'cy') {\n        return coordinate * this.height;\n      }\n      if (key === 'height') {\n        return coordinate * this.height;\n      }\n    }\n\n    return coordinate;\n  }\n\n  /**\n   * Push an item into the storage of the transposer\n   *\n   * @param  {Object} items An item to be drawed\n   * @return {Object}       Can be chained\n   */\n  push(...items) {\n    this.storage.push(...items);\n    return this;\n  }\n\n  processItem(item) {\n    let newItem = {};\n    const flipXY = (typeof item.flipXY !== 'undefined' ? item.flipXY : this.flipXY);\n    const crisp = (typeof item.crisp !== 'undefined' ? item.crisp : this.crisp);\n\n    if (item.fn && typeof item.fn === 'function') {\n      let width = flipXY ? this.height : this.width;\n      let height = flipXY ? this.width : this.height;\n\n      item = item.fn({ width, height, flipXY });\n\n      const objectKeys = Object.keys(item);\n\n      for (let ki = 0, kl = objectKeys.length; ki < kl; ki++) {\n        let key = objectKeys[ki];\n        const nkey = Transposer.evaluateKey(key, flipXY);\n        newItem[nkey] = item[key];\n      }\n    } else {\n      const objectKeys = Object.keys(item);\n\n      for (let ki = 0, kl = objectKeys.length; ki < kl; ki++) {\n        let key = objectKeys[ki];\n        const nkey = Transposer.evaluateKey(key, flipXY);\n        const nval = this.transposeCoordinate(nkey, item[key], flipXY);\n        newItem[nkey] = nval;\n      }\n    }\n\n    if (crisp) {\n      crispify(newItem);\n    }\n\n    return newItem;\n  }\n\n  /**\n   * Get the output of the transposer\n   *\n   * @return {Array}   Array of objects\n   */\n  output() {\n    let items = [];\n\n    for (let i = 0, l = this.storage.length; i < l; i++) {\n      let newItem = this.processItem(this.storage[i]);\n\n      items.push(newItem);\n    }\n\n    return items;\n  }\n\n  /**\n   * Reset the transposer\n   *\n   * @return {Undefined}  Does not return anything\n   */\n  reset() {\n    this.storage = [];\n    this.flipXY = false;\n    this.crisp = false;\n\n    this.width = 0;\n    this.height = 0;\n  }\n}\n\nexport function transposer(...items) {\n  return new Transposer(...items);\n}\n\nexport default Transposer;\n","import extend from 'extend';\nimport { transposer } from '../../transposer/transposer';\nimport { updateScaleSize } from '../../scales';\n\n/**\n * Generate array of lines (ticks) from scale\n *\n * @param {object} scale - A scale supplied by the chart\n * @param {object} settings - The settings object from the grid line component\n * @param {object} rect - The rect containing width and height to renderer in\n * @returns {array} - Returns an array of ticks\n * @ignore\n */\nfunction lineGen(scale, distance) {\n  if (!scale || !distance) {\n    return [];\n  }\n  return (scale.cachedTicks && scale.cachedTicks()) || scale.ticks({ distance });\n}\n\nconst gridLineComponent = {\n  created() {\n  },\n\n  require: ['chart', 'renderer'],\n  defaultSettings: {\n    displayOrder: 0,\n    style: { // Theming style\n      ticks: '$guide-line',\n      minorTicks: '$guide-line--minor'\n    }\n  },\n\n  beforeRender(opts) {\n    this.rect = opts.size;\n\n    this.blueprint = transposer();\n\n    this.blueprint.width = this.rect.width;\n    this.blueprint.height = this.rect.height;\n    this.blueprint.x = this.rect.x;\n    this.blueprint.y = this.rect.y;\n    this.blueprint.crisp = true;\n  },\n\n  render() {\n    // Setup scales\n    this.x = this.settings.x ? this.chart.scale(this.settings.x) : null;\n    this.y = this.settings.y ? this.chart.scale(this.settings.y) : null;\n    updateScaleSize(this, 'x', this.rect.width);\n    updateScaleSize(this, 'y', this.rect.height);\n\n    // Return an empty array to abort rendering when no scales are available to renderer\n    if (!this.x && !this.y) {\n      return [];\n    }\n\n    this.settings.ticks = extend({ show: true }, this.style.ticks, this.settings.ticks || {});\n    this.settings.minorTicks = extend({ show: false }, this.style.minorTicks, this.settings.minorTicks || {});\n\n    // Setup lines for X and Y\n    this.lines = {\n      x: [],\n      y: []\n    };\n\n    // Use the lineGen function to generate appropriate ticks\n    this.lines.x = lineGen(this.x, this.rect.width);\n    this.lines.y = lineGen(this.y, this.rect.height);\n\n    // Set all Y lines to flipXY by default\n    // This makes the transposer flip them individually\n    this.lines.y = this.lines.y.map(i => extend(i, { flipXY: true }));\n\n    // Define a style that differs between major and minor ticks.\n    let style = {};\n\n    // Loop through all X and Y lines\n    [...this.lines.x, ...this.lines.y].forEach((p) => {\n      style = p.isMinor ? this.settings.minorTicks : this.settings.ticks;\n\n      // If the style's show is falsy, don't renderer this item (to respect axis settings).\n      if (style.show) {\n        // Use the transposer to handle actual positioning\n        this.blueprint.push({\n          type: 'line',\n          x1: p.position,\n          y1: 0,\n          x2: p.position,\n          y2: 1,\n          stroke: style.stroke || 'black',\n          strokeWidth: typeof style.strokeWidth !== 'undefined' ? style.strokeWidth : 1,\n          strokeDasharray: typeof style.strokeDasharray !== 'undefined' ? style.strokeDasharray : undefined,\n          flipXY: p.flipXY || false // This flips individual points (Y-lines)\n        });\n      }\n    });\n\n    return this.blueprint.output();\n  }\n};\n\nexport default gridLineComponent;\n","import gridLineComponent from './line';\n\n/**\n * @typedef {object} component--grid-line-settings\n * @property {object} x\n * @property {string} x.scale - The scale to use along x\n * @property {object} y\n * @property {string} y.scale - The scale to use along y\n * @property {object} [ticks]\n * @property {boolean} [ticks.show=true]\n * @property {string} [ticks.stroke='black']\n * @property {number} [ticks.strokeWidth='1']\n * @property {string} [ticks.strokeDasharray]\n * @property {object} [minorTicks]\n * @property {boolean} [minorTicks.show=true]\n * @property {string} [minorTicks.stroke='black']\n * @property {number} [minorTicks.strokeWidth='1']\n * @property {string} [minorTicks.strokeDasharray]\n */\n\nexport default function gridLine(picasso) {\n  picasso.component('grid-line', gridLineComponent);\n}\n","/**\n * Return a D property for a SVG path to get a direction marker\n *\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {number} r - Radius\n * @param {string} [d='bottom'] - Direction\n * @returns {string} - Finished D property\n * @ignore\n */\nexport function directionMarker(x, y, r, d = 'bottom') {\n  r *= 0.8;\n  if (d === 'left' || d === 'right') {\n    let right = d === 'right';\n    return `\n      M ${x} ${y - r}\n      A ${r * 1.25} ${r * 1.25}, 0, 1, ${right ? 0 : 1}, ${x} ${y + r}\n      L ${right ? x + r : x - r} ${y} Z\n    `;\n  }\n  let bottom = d === 'bottom';\n  return `\n    M ${x - r} ${y}\n    A ${r * 1.25} ${r * 1.25}, 0, 1, ${bottom ? 1 : 0}, ${x + r} ${y}\n    L ${x} ${bottom ? y + r : y - r} Z\n  `;\n}\n\nfunction directionTriangle(x, y, r, d = 'bottom') {\n  r *= 0.75;\n  if (d === 'left' || d === 'right') {\n    let right = d === 'right';\n    x += (right ? r * 1.5 : -(r * 1.5));\n    return `\n      M ${x} ${y - r}\n      L ${x} ${y + r}\n      L ${right ? x + r : x - r} ${y} Z\n    `;\n  }\n  let bottom = d === 'bottom';\n  y += (bottom ? r * 1.5 : -(r * 1.5));\n  return `\n    M ${x - r} ${y}\n    L ${x + r} ${y}\n    L ${x} ${bottom ? y + r : y - r} Z\n  `;\n}\n\n/**\n * Handle out of bound shapes\n * Does not return anything, modifies \"items\" property instead (should be re-considered)\n *\n * @param {object} oob - Out of bounds object from parent\n * @param {object} settings - Settings object from parent\n * @param {object[]} items - Array of all items (for collision detection)\n * @ignore\n */\nexport function oobManager({\n  blueprint, oob, settings, items\n}) {\n  const oobKeys = Object.keys(oob);\n  let style = settings.style.oob || {};\n\n  for (let i = 0, len = oobKeys.length; i < len; i++) {\n    const key = oobKeys[i];\n    const value = oob[key];\n\n    if (value.length > 0) {\n      let position = (key.charAt(1));\n      let flipXY = key.charAt(0) === 'y';\n\n      let xPadding = style.padding.x + (style.width);\n      let yPadding = style.padding.y + style.width;\n      let direction = 'bottom';\n\n      if (flipXY) {\n        direction = (position === '1' ? 'bottom' : 'top');\n      } else {\n        direction = (position === '1' ? 'right' : 'left');\n      }\n\n      let indicator = blueprint.processItem({\n        fn: ({ width, height }) => { /* eslint no-loop-func: 0 */\n          let x = (position * width) + (position === '1' ? -xPadding : xPadding);\n          let y = flipXY ? yPadding : height - yPadding;\n\n          if (style.type === 'arc') {\n            return {\n              type: 'path',\n              d: directionMarker(flipXY ? y : x, flipXY ? x : y, style.width, direction),\n              x,\n              y,\n              stroke: style.stroke,\n              fill: style.fill,\n              strokeWidth: style.strokeWidth || 0\n            };\n          }\n\n          return {\n            type: 'circle',\n            cx: x,\n            cy: y,\n            r: style.width,\n            stroke: style.stroke,\n            fill: style.fill,\n            strokeWidth: style.strokeWidth || 0,\n            opacity: style.opacity,\n            data: value\n          };\n        },\n        flipXY\n      });\n\n      let x = indicator.cx || indicator.x;\n      let y = indicator.cy || indicator.y;\n\n      let text = {\n        type: 'text',\n        text: value.length || '',\n        x: x - (style.width * 0.4),\n        y: y + (style.width * 0.4),\n        fontFamily: style.text.fontFamily,\n        fontSize: `${style.width * 1.3}px`,\n        stroke: style.text.stroke,\n        fill: style.text.fill,\n        strokeWidth: style.text.strokeWidth || 0,\n        opacity: style.text.opacity\n      };\n\n      let triangle = {\n        type: 'path',\n        d: directionTriangle(x, y, style.width, direction),\n        x,\n        y,\n        stroke: style.triangle.stroke,\n        fill: style.triangle.fill,\n        strokeWidth: style.triangle.strokeWidth || 0,\n        opacity: style.triangle.opacity\n      };\n\n      items.push(indicator, text, triangle);\n    }\n  }\n}\n","import extend from 'extend';\nimport {\n  testRectRect,\n  testRectLine\n} from '../../math/narrow-phase-collision';\n\nexport function refLabelDefaultSettings() {\n  return {\n    fill: '#000',\n    fontFamily: 'Arial',\n    fontSize: '12px',\n    opacity: 1,\n    maxWidth: 1,\n    maxWidthPx: 9999,\n    padding: 5,\n    background: {\n      fill: '#fff',\n      stroke: 'transparent',\n      strokeWidth: 0,\n      opacity: 0.5\n    }\n  };\n}\n\n/**\n * Converts a numerical OR string value to a normalized value\n *\n * @param {string|number} align -Description how to align (Numerical from 0-1 or 'top', 'left', 'center', 'middle', 'bottom' or 'right')\n * @returns {number} - Normalized value 0...1\n * @ignore\n */\nexport function alignmentToNumber(align) {\n  if (typeof align === 'undefined') {\n    return 0;\n  }\n  if (typeof align === 'number' && isFinite(align)) {\n    return align;\n  }\n  if (typeof align === 'string') {\n    switch (align) {\n      case 'center':\n      case 'middle':\n        return 0.5;\n      case 'bottom':\n      case 'right':\n        return 1;\n      case 'top':\n      case 'left':\n      default:\n        return 0;\n    }\n  }\n\n  return 0;\n}\n\n/**\n * Create line and label (if applicable)\n * Does not return anything, modifies \"items\" property instead (should be re-considered)\n *\n * @param {object} p - Current point\n * @param {object} style - Applicable line styling\n * @param {object} settings - Settings object derived from parent\n * @param {object[]} items - Array of all items (for collision detection)\n * @ignore\n */\nexport function createLineWithLabel({\n  chart, blueprint, renderer, p, settings, items\n}) {\n  let doesNotCollide = true;\n  let line = false;\n  let rect = false;\n  let label = false;\n  let value = false;\n  let style = extend(true, {}, settings.style.line, p.line || {});\n\n  // Use the transposer to handle actual positioning\n  line = blueprint.processItem({\n    type: 'line',\n    x1: p.position,\n    y1: 0,\n    x2: p.position,\n    y2: 1,\n    stroke: style.stroke || 'black',\n    strokeWidth: style.strokeWidth || 1,\n    flipXY: p.flipXY || false // This flips individual points (Y-lines)\n  });\n\n  if (p.label) {\n    const item = extend(true, refLabelDefaultSettings(), settings.style.label || {}, { fill: style.stroke }, p.label);\n    let formatter;\n    let measuredValue = {\n      width: 0,\n      height: 0\n    };\n    let valueString = '';\n\n    if (typeof p.formatter === 'string') {\n      formatter = chart.formatter(p.formatter);\n    } else if (typeof p.formatter === 'object') {\n      formatter = chart.formatter(p.formatter);\n    } else if (typeof p.scale !== 'undefined' && p.scale.data) {\n      // TODO - Add support for array as source into formatter\n      const scaleData = p.scale.data() && p.scale.data().fields;\n      formatter = scaleData && scaleData[0] ? scaleData[0].formatter() : null;\n    }\n\n    if (formatter) {\n      valueString = ` (${formatter(p.value)})`;\n    } else if (p.scale) {\n      valueString = ` (${p.value})`;\n    }\n\n    if (valueString) {\n      measuredValue = renderer.measureText({\n        text: valueString,\n        fontFamily: item.fontFamily,\n        fontSize: item.fontSize\n      });\n    }\n\n    // Measure the label text\n    let measuredLabel = renderer.measureText({\n      text: item.text || '',\n      fontFamily: item.fontFamily,\n      fontSize: item.fontSize\n    });\n\n    let measured = {\n      width: measuredLabel.width + measuredValue.width,\n      height: Math.max(measuredLabel.height, measuredValue.height)\n    };\n\n    let labelPadding = item.padding;\n\n    // let anchor = item.anchor === 'end' ? 'end' : 'start';\n\n    let align = alignmentToNumber(p.flipXY ? item.vAlign : item.align);\n    let vAlign = alignmentToNumber(p.flipXY ? item.align : item.vAlign);\n\n    let calcWidth = Math.min(1 + measured.width + (labelPadding * 2), item.maxWidth * blueprint.width, item.maxWidthPx);\n    let calcHeight = measured.height + (labelPadding * 2);\n\n    let rectWidth = (p.flipXY ? calcHeight : calcWidth);\n    let rectHeight = (p.flipXY ? calcWidth : calcHeight);\n\n    rect = blueprint.processItem({\n      fn: ({ width, height }) => {\n        let x = (p.position * width) - ((p.flipXY ? calcHeight : calcWidth) * (1 - align));\n        x = p.flipXY ? x : Math.max(x, 0);\n        const y = Math.max(Math.abs((vAlign * height) - (rectHeight * vAlign)), 0);\n        return {\n          type: 'rect',\n          x,\n          y,\n          width: p.flipXY ? rectWidth : Math.min(rectWidth, blueprint.width - x),\n          height: rectHeight,\n          stroke: item.background.stroke,\n          strokeWidth: item.background.strokeWidth,\n          fill: item.background.fill,\n          opacity: item.background.opacity\n        };\n      },\n      flipXY: p.flipXY || false // This flips individual points (Y-lines)\n    });\n\n    if (\n      rect.x < -1 || (rect.x + rect.width) > (blueprint.width + 1)\n      || rect.y < -1 || (rect.y + rect.height) > (blueprint.height + 1)\n    ) {\n      // do not create labels if out of bounds\n      rect = undefined;\n    } else {\n      // Labels are just basic objects attached to a corner of a rect,\n      // and this rect needs to already be processed\n      // so there is no blueprint.processItem required here\n      label = {\n        type: 'text',\n        text: item.text || '',\n        fill: item.fill,\n        opacity: item.opacity,\n        fontFamily: item.fontFamily,\n        fontSize: item.fontSize,\n        x: rect.x + labelPadding,\n        y: rect.y + (rect.height / 2) + (measured.height / 3),\n        maxWidth: rect.width - (labelPadding * 2) - measuredValue.width,\n        anchor: 'start'\n      };\n\n      if (valueString) {\n        value = {\n          type: 'text',\n          text: valueString || '',\n          fill: item.fill,\n          opacity: item.opacity,\n          fontFamily: item.fontFamily,\n          fontSize: item.fontSize,\n          x: label.x + 3 + (rect.width - (measuredValue.width + (labelPadding * 2))),\n          y: label.y\n        };\n      }\n\n      // Detect collisions with other labels/rects or lines\n      for (let i = 0, len = items.length; i < len; i++) {\n        let curItem = items[i];\n\n        if (curItem.type === 'rect') {\n          // We only detect rects here, since rects are always behind labels,\n          // and we wouldn't want to measure text one more time\n          if (testRectRect(rect, curItem)) {\n            doesNotCollide = false;\n          }\n        } else if (curItem.type === 'line') {\n          // This will only collide when flipXY are the same for both objects,\n          // So it only collides on objects on the same \"axis\"\n          if (p.flipXY === curItem.flipXY && testRectLine(rect, curItem)) {\n            doesNotCollide = false;\n          }\n        }\n      }\n    }\n  }\n\n  // Always push the line,\n  // but this is done after collision detection,\n  // because otherwise it would collide with it's own line\n  items.push(line);\n\n  // Only push rect & label if we haven't collided and both are defined\n  if (doesNotCollide && rect && label) {\n    items.push(rect, label);\n    if (value) {\n      items.push(value);\n    }\n  }\n}\n","import extend from 'extend';\nimport { transposer } from '../../transposer/transposer';\nimport { oobManager } from './oob';\nimport { createLineWithLabel } from './lines-and-labels';\n\nfunction createOobData(line) {\n  const data = {\n    value: line.value\n  };\n\n  if (line.label) {\n    data.label = line.label.text;\n  }\n\n  return data;\n}\n\nfunction filterUndefinedValue(line) {\n  return typeof line.value !== 'undefined';\n}\n\n/**\n * @typedef {object} component--ref-line\n * @experimental\n * @property {refline-generic-style} [style=refline-generic-style] - x coordinate\n * @property {object} lines - X & Y Lines\n * @property {reflines-x[]} [lines.x=refline-line[]] - lines along X\n * @property {reflines-y[]} [lines.y=refline-line[]] - lines along Y\n */\n\n/**\n * @typedef {object} component--ref-line.style\n * @property {refline-oob-style} [oob=component--ref-line.style.oob] - Style for out of bounds object (oob)\n * @property {refline-line} [line=refline-line] - Generic style for lines\n * @property {refline-line-label} [label=refline-line-label] - Generic style for labels\n */\n\n/**\n * @typedef {object} component--ref-line.style.oob\n * @property {boolean} [show=true] - Show out of bounds items\n * @property {string} [type=undefined] - EXPERIMENTAL:  Set this to 'arc' for an experimental out of bounds shape (only works with SVG)\n * @property {number} [width=10] - Width of the out of bounds object\n * @property {string} [fill='#1A1A1A'] - Fill color of the OOB object\n * @property {string} [stroke='transparent'] - Stroke of the OOB object\n * @property {number} [strokeWidth=0] - Stroke width of the OOB object\n * @property {number} [opacity=1] - Opacity of the OOB object\n * @property {refline-generic-text} [text=refline-generic-text] - Text configuration for out of bounds\n * @property {refline-generic-object} [triangle=refline-generic-object] - The triangle in OOB\n * @property {object} [padding] - Padding on X\n * @property {number} [padding.x=28] - Padding on X\n * @property {number} [padding.y=5] - Padding on X\n */\n\n/**\n * @typedef {object} component--ref-line.generic-text\n * @property {string} [text=''] - Text (if applicable)\n * @property {string} [fontSize='12px'] - Font size (if applicable)\n * @property {string} [fontFamily='Arial'] - Font family\n * @property {string} [fill='#fff'] - Fill color\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=1] - Opacity\n */\n\n/**\n * @typedef {object} component--ref-line.line\n * @property {number} value - The value of the reference line. If a scale is specified, it is applied.\n * @property {Scale} [scale=undefined] - Scale to use (if undefined will use normalized value 0-1)\n * @property {refline-generic-object} [line=refline-generic-object] - The style of the line\n * @property {refline-line-label} [label=refline-line-label] - The label style of the line\n */\n\n/**\n * @typedef {object} component--ref-line.line-label\n * @property {number} padding=5 - Padding inside the label\n * @property {string} [text=''] - Text\n * @property {string} [fontSize='12px'] - Font size\n * @property {string} [fontFamily='Arial'] - Font family\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=1] - Opacity\n * @property {number|string} [align=0] - Alignment property left to right (0 = left, 1 = right). Also supports string ('left', 'center', 'middle', 'right')\n * @property {number|string} [vAlign=0] - Alignment property top to bottom (0 = top, 1 = bottom). Also supports string ('top', 'center', 'middle', 'bottom')\n * @property {number} [maxWidth=1] - The maximum relative width to the width of the rendering area (see maxWidthPx below aswell)\n * @property {number} [maxWidthPx=9999] - The maximum width in pixels.\n * @property {refline-line-label-background} [background=refline-line-label-background] - The background style (rect behind text)\n */\n\n/**\n * @example\n * // Labels will be rendered with the maximum size of the smallest value of maxWidth and maxWidthPx size, so you may specify maxWidth 0.8 but maxWidthPx 100 and will never be over 100px and never over 80% of the renderable area.\n */\n\n/**\n * @typedef {object} component--ref-line.line-label-background\n * @property {string} [fill='#fff'] - Fill color\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=0.5] - Opacity\n */\n\n/**\n * @typedef {object} component--ref-line.generic-object\n * @property {string} [fill='#fff'] - Fill color\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=1] - Opacity\n */\n\nconst refLineComponent = {\n  require: ['chart', 'renderer', 'dockConfig'],\n  defaultSettings: {\n    displayOrder: 0,\n    style: {\n      oob: {\n        show: true,\n        width: 10,\n        fill: '#1A1A1A',\n        stroke: 'transparent',\n        strokeWidth: 0,\n        opacity: 1,\n        text: {\n          fontFamily: 'Arial',\n          stroke: 'transparent',\n          fill: '#fff',\n          strokeWidth: 0,\n          opacity: 1\n        },\n        triangle: {\n          fill: '#4D4D4D',\n          stroke: 'transparent',\n          strokeWidth: 0,\n          opacity: 1\n        },\n        padding: {\n          x: 28,\n          y: 5\n        }\n      },\n      line: {\n        stroke: '#000'\n      },\n      label: {\n        strokeWidth: 0\n      }\n    }\n  },\n\n  preferredSize() {\n    return 30;\n  },\n\n  beforeRender(opts) {\n    this.rect = opts.size;\n\n    this.blueprint = transposer();\n\n    this.blueprint.width = this.rect.width;\n    this.blueprint.height = this.rect.height;\n    this.blueprint.x = this.rect.x;\n    this.blueprint.y = this.rect.y;\n    this.blueprint.crisp = true;\n  },\n\n  render() {\n    let settings = this.settings;\n\n    // Setup lines for X and Y\n    this.lines = {\n      x: [],\n      y: []\n    };\n\n    this.lines.x = (settings.lines && settings.lines.x) || [];\n    this.lines.y = (settings.lines && settings.lines.y) || [];\n\n    if (this.lines.x.length === 0 && this.lines.y.length === 0) {\n      return [];\n    }\n\n    const oob = {\n      x0: [],\n      x1: [],\n      y0: [],\n      y1: []\n    };\n\n    // Convert a value to an actual position using the scale\n    this.lines.x = this.lines.x.filter(filterUndefinedValue).map((line) => {\n      if (line.scale) {\n        let scale = this.chart.scale(line.scale);\n        return extend(line, { scale, position: scale(line.value) });\n      }\n\n      return extend(line, { position: line.value });\n    });\n    // Set all Y lines to flipXY by default\n    // This makes the transposer flip them individually\n    this.lines.y = this.lines.y.filter(filterUndefinedValue).map((line) => {\n      if (line.scale) {\n        let scale = this.chart.scale(line.scale);\n        return extend(line, { scale, position: scale(line.value), flipXY: true });\n      }\n\n      return extend(line, { position: line.value, flipXY: true });\n    });\n\n    // Move out of bounds lines (OOB) to separate rendering\n    this.lines.x = this.lines.x.filter((line) => {\n      if (line.position < 0 || line.position > 1) {\n        oob[`x${line.position > 1 ? 1 : 0}`].push(createOobData(line));\n        return false;\n      }\n      return true;\n    });\n\n    this.lines.y = this.lines.y.filter((line) => {\n      if (line.position < 0 || line.position > 1) {\n        oob[`y${line.position > 1 ? 1 : 0}`].push(createOobData(line));\n        return false;\n      }\n      return true;\n    });\n\n    let items = [];\n\n    // Loop through all X and Y lines\n    [...this.lines.x, ...this.lines.y].forEach((p) => {\n      let show = p.show === true || typeof p.show === 'undefined';\n\n      if (show) {\n        // Create line with labels\n        createLineWithLabel({\n          chart: this.chart, blueprint: this.blueprint, renderer: this.renderer, p, settings, items\n        });\n      }\n    });\n\n    // Handle out of bounds\n    if (settings.style.oob.show) {\n      oobManager({\n        blueprint: this.blueprint, oob, settings, items\n      });\n    }\n\n    return items;\n  }\n};\n\nexport default refLineComponent;\n","import refLineComponent from './refline';\n\nexport default function refLine(picasso) {\n  picasso.component('ref-line', refLineComponent);\n}\n","import extend from 'extend';\n\nfunction appendStyle(struct, buildOpts) {\n  extend(struct, buildOpts.style);\n  const halfWidth = struct.strokeWidth / 2;\n\n  if (buildOpts.align === 'top') {\n    struct.y1 -= halfWidth;\n    struct.y2 -= halfWidth;\n  } else if (buildOpts.align === 'bottom') {\n    struct.y1 += halfWidth;\n    struct.y2 += halfWidth;\n  } else if (buildOpts.align === 'left') {\n    struct.x1 -= halfWidth;\n    struct.x2 -= halfWidth;\n  } else if (buildOpts.align === 'right') {\n    struct.x1 += halfWidth;\n    struct.x2 += halfWidth;\n  }\n}\n\nexport default function buildLine(buildOpts) {\n  const struct = {\n    type: 'line',\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: 0,\n    collider: {\n      type: null\n    }\n  };\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    struct.x1 = buildOpts.innerRect.x - buildOpts.outerRect.x;\n    struct.x2 = buildOpts.innerRect.width + buildOpts.innerRect.x;\n    struct.y1 = struct.y2 = buildOpts.align === 'top' ? buildOpts.innerRect.height - buildOpts.padding : buildOpts.padding;\n  } else {\n    struct.x1 = struct.x2 = buildOpts.align === 'left' ? buildOpts.innerRect.width - buildOpts.padding : buildOpts.padding;\n    struct.y1 = buildOpts.innerRect.y - buildOpts.outerRect.y;\n    struct.y2 = buildOpts.innerRect.height + buildOpts.innerRect.y;\n  }\n\n  appendStyle(struct, buildOpts);\n\n  return struct;\n}\n","import { rotate as rotateVector } from '../../math/vector';\n\nfunction checkText(text) {\n  return typeof text === 'string' || typeof text === 'number' ? text : '-';\n}\n\nfunction appendStyle(struct, buildOpts) {\n  ['fill', 'fontSize', 'fontFamily'].forEach((style) => {\n    struct[style] = buildOpts.style[style];\n  });\n}\n\nfunction clampEnds(struct, buildOpts) {\n  if (buildOpts.tilted || buildOpts.stepSize) {\n    return;\n  }\n\n  const outerBoundaryMultipler = 0.75;\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    const leftBoundary = 0;\n    const rightBoundary = buildOpts.outerRect.width;\n    const textWidth = Math.min((buildOpts.maxWidth * outerBoundaryMultipler) / 2, buildOpts.textRect.width / 2);\n    const leftTextBoundary = struct.x - textWidth;\n    const rightTextBoundary = struct.x + textWidth;\n    if (leftTextBoundary < leftBoundary) {\n      struct.anchor = 'start';\n      struct.x = buildOpts.innerRect.x - buildOpts.outerRect.x;\n      struct.maxWidth *= outerBoundaryMultipler;\n    } else if (rightTextBoundary > rightBoundary) {\n      struct.anchor = 'end';\n      struct.x = buildOpts.innerRect.width + buildOpts.innerRect.x;\n      struct.maxWidth *= outerBoundaryMultipler;\n    }\n  } else {\n    const topBoundary = 0;\n    const bottomBoundary = buildOpts.outerRect.height;\n    const textHeight = buildOpts.maxHeight / 2;\n    const topTextBoundary = struct.y - textHeight;\n    const bottomTextBoundary = struct.y + textHeight;\n    if (topTextBoundary < topBoundary) {\n      struct.y = buildOpts.innerRect.y - buildOpts.outerRect.y;\n      struct.baseline = 'text-before-edge';\n    } else if (bottomTextBoundary > bottomBoundary) {\n      struct.y = buildOpts.innerRect.height + (buildOpts.innerRect.y - buildOpts.outerRect.y);\n      struct.baseline = 'text-after-edge';\n    }\n  }\n}\n\nfunction appendPadding(struct, buildOpts) {\n  if (buildOpts.align === 'top') {\n    struct.y -= buildOpts.padding;\n  } else if (buildOpts.align === 'bottom') {\n    struct.y += buildOpts.padding + buildOpts.maxHeight;\n  } else if (buildOpts.align === 'left') {\n    struct.x -= buildOpts.padding;\n  } else if (buildOpts.align === 'right') {\n    struct.x += buildOpts.padding;\n  }\n}\n\nfunction appendTilting(struct, buildOpts) {\n  if (buildOpts.tilted) {\n    const r = -buildOpts.angle;\n    const radians = r * (Math.PI / 180);\n\n    if (buildOpts.align === 'bottom') {\n      struct.x -= (buildOpts.maxHeight * Math.sin(radians)) / 2;\n      struct.y -= buildOpts.maxHeight;\n      struct.y += (buildOpts.maxHeight * Math.cos(radians)) / 2;\n    } else {\n      struct.x -= (buildOpts.maxHeight * Math.sin(radians)) / 3;\n    }\n\n    struct.transform = `rotate(${r}, ${struct.x}, ${struct.y})`;\n    struct.anchor = (buildOpts.align === 'bottom') === (buildOpts.angle < 0) ? 'start' : 'end';\n\n    // adjustForEnds\n    const textWidth = Math.cos(radians) * buildOpts.maxWidth;\n    if ((buildOpts.align === 'bottom') === (buildOpts.angle < 0)) {\n      // right\n      const rightBoundary = buildOpts.outerRect.width - buildOpts.paddingEnd;\n      const rightTextBoundary = struct.x + textWidth;\n      if (rightTextBoundary > rightBoundary) {\n        struct.maxWidth = (rightBoundary - struct.x - 10) / Math.cos(radians);\n      }\n    } else {\n      // left\n      const leftBoundary = buildOpts.paddingEnd;\n      const leftTextBoundary = struct.x - textWidth;\n      if (leftTextBoundary < leftBoundary) {\n        struct.maxWidth = (struct.x - leftBoundary - 10) / Math.cos(radians);\n      }\n    }\n  }\n}\n\nfunction bandwidthCollider(tick, struct, buildOpts) {\n  if (buildOpts.align === 'bottom' || buildOpts.align === 'top') {\n    const tickCenter = tick.position * buildOpts.innerRect.width;\n    const leftBoundary = tickCenter + (buildOpts.innerRect.x - buildOpts.outerRect.x - (buildOpts.stepSize / 2));\n    struct.collider = {\n      type: 'rect',\n      x: leftBoundary,\n      y: 0,\n      width: leftBoundary < 0 ? buildOpts.stepSize + leftBoundary : buildOpts.stepSize, // Adjust collider so that it doesnt extend onto neighbor collider\n      height: buildOpts.innerRect.height\n    };\n  } else {\n    const tickCenter = tick.position * buildOpts.innerRect.height;\n    const topBoundary = tickCenter + (buildOpts.innerRect.y - buildOpts.outerRect.y - (buildOpts.stepSize / 2));\n    struct.collider = {\n      type: 'rect',\n      x: 0,\n      y: topBoundary,\n      width: buildOpts.innerRect.width,\n      height: topBoundary < 0 ? buildOpts.stepSize + topBoundary : buildOpts.stepSize // Adjust collider so that it doesnt extend onto neighbor collider\n    };\n  }\n\n  // Clip edges of the collider, should not extend beyoned the outerRect\n  const collider = struct.collider;\n  collider.x = Math.max(collider.x, 0);\n  collider.y = Math.max(collider.y, 0);\n  const widthClip = (collider.x + collider.width) - (buildOpts.outerRect.x + buildOpts.outerRect.width);\n  collider.width = widthClip > 0 ? collider.width - widthClip : collider.width;\n  const heightClip = (collider.y + collider.height) - (buildOpts.outerRect.y + buildOpts.outerRect.height);\n  collider.height = heightClip > 0 ? collider.height - heightClip : collider.height;\n}\n\nfunction boundsCollider(tick, struct) {\n  struct.collider = {\n    type: 'polygon',\n    vertices: [\n      { x: struct.boundingRect.x, y: struct.boundingRect.y },\n      { x: struct.boundingRect.x + struct.boundingRect.width, y: struct.boundingRect.y },\n      { x: struct.boundingRect.x + struct.boundingRect.width, y: struct.boundingRect.y + struct.boundingRect.height },\n      { x: struct.boundingRect.x, y: struct.boundingRect.y + struct.boundingRect.height }\n    ]\n  };\n}\n\nfunction tiltedCollider(tick, struct, buildOpts) {\n  const radians = buildOpts.angle * (Math.PI / 180);\n  const halfWidth = Math.max(buildOpts.stepSize / 2, struct.boundingRect.height / 2); // Handle if bandwidth is zero\n  const startAnchor = struct.anchor === 'start';\n  const em = struct.anchor === 'end' && radians < 0;\n  const sp = struct.anchor === 'start' && radians >= 0;\n  const y = struct.boundingRect.y + (sp || em ? struct.boundingRect.height : 0);\n  // Generate starting points at bandwidth boundaries\n  const points = [\n    { x: struct.x - halfWidth, y },\n    { x: struct.x + halfWidth, y }\n  ].map(p => rotateVector(p, radians, { x: struct.x, y: struct.y })); // Rotate around center point to counteract labels rotation\n\n  // Append points to wrap polygon around label\n  const margin = 10; // extend slightly to handle single char labels better\n  const leftPoint = {\n    x: startAnchor ? struct.boundingRect.x + struct.boundingRect.width + margin : struct.boundingRect.x - margin,\n    y: struct.boundingRect.y + struct.boundingRect.height\n  };\n\n  const rightPoint = {\n    x: startAnchor ? struct.boundingRect.x + struct.boundingRect.width + margin : struct.boundingRect.x - margin,\n    y: struct.boundingRect.y\n  };\n\n  const orderedPoints = radians >= 0 ? [leftPoint, rightPoint] : [rightPoint, leftPoint];\n  points.push(...orderedPoints);\n\n  struct.collider = {\n    type: 'polygon',\n    vertices: points\n  };\n}\n\nfunction appendCollider(tick, struct, buildOpts) {\n  if (buildOpts.layered || !buildOpts.stepSize) {\n    boundsCollider(tick, struct);\n  } else if (buildOpts.tilted) {\n    tiltedCollider(tick, struct, buildOpts);\n  } else {\n    bandwidthCollider(tick, struct, buildOpts);\n  }\n}\n\nfunction appendBounds(struct, buildOpts) {\n  struct.boundingRect = buildOpts.textBounds(struct);\n}\n\nfunction wiggle(buildOpts, isVertical) {\n  const a = isNaN(buildOpts.style.align) ? 0.5 : Math.min(Math.max(buildOpts.style.align, 0), 1);\n  let w = 0;\n  if (buildOpts.tilted) {\n    w = (buildOpts.stepSize * a);\n  } else {\n    const size = isVertical ? buildOpts.textRect.height : buildOpts.textRect.width;\n    w = Math.max(0, buildOpts.stepSize - size) * a;\n  }\n\n  return w;\n}\n\nexport default function buildNode(tick, buildOpts) {\n  const struct = {\n    type: 'text',\n    text: checkText(tick.label),\n    x: 0,\n    y: 0,\n    maxWidth: buildOpts.maxWidth,\n    maxHeight: buildOpts.maxHeight\n  };\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    struct.x = (tick.start * buildOpts.innerRect.width) + (buildOpts.innerRect.x - buildOpts.outerRect.x) + wiggle(buildOpts, false);\n    struct.y = buildOpts.align === 'top' ? buildOpts.innerRect.height : 0;\n    struct.anchor = buildOpts.stepSize ? 'start' : 'middle';\n\n    struct.x += isNaN(buildOpts.style.offset) ? 0 : +buildOpts.style.offset;\n  } else {\n    struct.y = (tick.start * buildOpts.innerRect.height) + (buildOpts.innerRect.y - buildOpts.outerRect.y) + wiggle(buildOpts, true);\n    struct.x = buildOpts.align === 'left' ? buildOpts.innerRect.width : 0;\n    struct.anchor = buildOpts.align === 'left' ? 'end' : 'start';\n    struct.baseline = buildOpts.stepSize ? 'text-before-edge' : 'central';\n\n    struct.y += isNaN(buildOpts.style.offset) ? 0 : +buildOpts.style.offset;\n  }\n\n  appendStyle(struct, buildOpts);\n  clampEnds(struct, buildOpts);\n  appendPadding(struct, buildOpts);\n  appendTilting(struct, buildOpts);\n  appendBounds(struct, buildOpts);\n  appendCollider(tick, struct, buildOpts);\n\n  return struct;\n}\n","import extend from 'extend';\n\nfunction appendStyle(struct, buildOpts) {\n  extend(struct, buildOpts.style);\n}\n\nfunction appendPadding(struct, buildOpts) {\n  if (buildOpts.align === 'top') {\n    struct.y1 -= buildOpts.padding;\n    struct.y2 -= buildOpts.padding;\n  } else if (buildOpts.align === 'bottom') {\n    struct.y1 += buildOpts.padding;\n    struct.y2 += buildOpts.padding;\n  } else if (buildOpts.align === 'left') {\n    struct.x1 -= buildOpts.padding;\n    struct.x2 -= buildOpts.padding;\n  } else if (buildOpts.align === 'right') {\n    struct.x1 += buildOpts.padding;\n    struct.x2 += buildOpts.padding;\n  }\n}\n\nfunction adjustForEnds(struct, buildOpts) {\n  const halfWidth = struct.strokeWidth / 2;\n\n  if (struct.x1 === buildOpts.innerRect.width) { // outer end tick\n    struct.x1 -= halfWidth;\n    struct.x2 -= halfWidth;\n  } else if (struct.x1 === 0) { // outer start tick\n    struct.x1 += halfWidth;\n    struct.x2 += halfWidth;\n  } else if (struct.y1 === buildOpts.innerRect.height) {\n    struct.y1 -= halfWidth;\n    struct.y2 -= halfWidth;\n  } else if (struct.y1 === 0) {\n    struct.y1 += halfWidth;\n    struct.y2 += halfWidth;\n  }\n}\n\nexport default function buildNode(tick, buildOpts) {\n  const struct = {\n    type: 'line',\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: 0,\n    collider: {\n      type: null\n    }\n  };\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    struct.x1 = struct.x2 = (tick.position * buildOpts.innerRect.width) + (buildOpts.innerRect.x - buildOpts.outerRect.x);\n    struct.y1 = buildOpts.align === 'top' ? buildOpts.innerRect.height : 0;\n    struct.y2 = buildOpts.align === 'top' ? struct.y1 - buildOpts.tickSize : struct.y1 + buildOpts.tickSize;\n  } else {\n    struct.y1 = struct.y2 = (tick.position * (buildOpts.innerRect.height)) + (buildOpts.innerRect.y - buildOpts.outerRect.y);\n    struct.x1 = buildOpts.align === 'left' ? buildOpts.innerRect.width : 0;\n    struct.x2 = buildOpts.align === 'left' ? struct.x1 - buildOpts.tickSize : struct.x1 + buildOpts.tickSize;\n  }\n\n  appendStyle(struct, buildOpts);\n  appendPadding(struct, buildOpts);\n  adjustForEnds(struct, buildOpts);\n  return struct;\n}\n","function isMajorTick(tick) {\n  return !tick.isMinor;\n}\n\nfunction isVerticalLabelOverlapping({\n  majorTicks,\n  measureText,\n  rect\n}) {\n  const size = rect.height;\n  const textHeight = measureText('M').height;\n  if (majorTicks.length < 2) {\n    return false;\n  }\n\n  const d = size * Math.abs(majorTicks[0].position - majorTicks[1].position);\n  if (d < textHeight) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isHorizontalLabelOverlapping({\n  majorTicks,\n  measureText,\n  rect,\n  state\n}) {\n  /*\n   * Currently isn't any good way of doing a accurate measurement on size available (bandWidth * width) for labels.\n   * It's a lifecycle limitation as components docked either left or right can affect the width available after the calculation is done.\n   * <number of components docked left/right> * <width of components> => Less accurate ===> Can result in only ellips char rendered as labels.\n   */\n  const m = state.labels.activeMode === 'layered' ? 2 : 1;\n  const size = rect.width;\n  const tickSize = majorTicks\n    .map(tick => tick.label)\n    .map(l => `${l.slice(0, 1)}${l.length > 1 ? '…' : ''}`) // Measure the size of 1 chars + the ellips char.\n    .map(measureText)\n    .map(r => r.width);\n  for (let i = 0; i < majorTicks.length; ++i) {\n    const tick = majorTicks[i];\n    const d1 = m * size * Math.abs(tick.start - tick.end);\n    const d2 = tickSize[i];\n    if (d1 < d2) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction shouldAutoTilt({\n  majorTicks,\n  measure,\n  rect,\n  state,\n  settings\n}) {\n  const glyphCount = settings.labels.maxGlyphCount;\n  const m = state.labels.activeMode === 'layered' ? 2 : 1;\n  const magicSizeRatioMultipler = 0.7; // So that if less the 70% of labels are visible, toggle on tilt\n  const ellipsCharSize = measure('…').width; // include ellipsed char in calc as it's generally large then the char it replaces\n  const size = rect.width;\n  let maxLabelWidth = 0;\n  let d1 = 0;\n\n  if (!isNaN(glyphCount)) {\n    const minBandwidth = majorTicks.reduce((prev, curr) => Math.min(Math.abs(curr.start - curr.end), prev), Infinity);\n    d1 = m * size * minBandwidth;\n    maxLabelWidth = measure('M').width * magicSizeRatioMultipler * glyphCount;\n    if (maxLabelWidth + ellipsCharSize > d1) {\n      return true;\n    }\n  } else {\n    for (let i = 0; i < majorTicks.length; i++) {\n      const tick = majorTicks[i];\n      const label = tick.label;\n      const width = measure(label).width * (label.length > 1 ? magicSizeRatioMultipler : 1);\n      d1 = m * size * Math.abs(tick.start - tick.end);\n      if (width + ellipsCharSize > d1) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction isTiltedLabelOverlapping({\n  majorTicks,\n  measureText,\n  rect,\n  bleedSize,\n  angle\n}) {\n  if (majorTicks.length < 2) {\n    return false;\n  }\n  if (angle === 0) {\n    return true; // TODO 0 angle should be considered non-tilted\n  }\n  const absAngle = Math.abs(angle);\n  const size = rect.width - bleedSize;\n  const stepSize = size * Math.abs(majorTicks[0].position - majorTicks[1].position);\n  const textHeight = measureText('M').height;\n  const reciprocal = 1 / stepSize; // 1 === Math.sin(90 * (Math.PI / 180))\n  const distanceBetweenLabels = Math.sin(absAngle * (Math.PI / 180)) / reciprocal;\n\n  return textHeight > distanceBetweenLabels;\n}\n\nfunction isToLarge({\n  rect,\n  state,\n  majorTicks,\n  measure,\n  horizontal\n}) {\n  if (horizontal) {\n    return isHorizontalLabelOverlapping({\n      majorTicks,\n      measureText: measure,\n      rect,\n      state\n    });\n  }\n\n  return isVerticalLabelOverlapping({\n    majorTicks,\n    measureText: measure,\n    rect,\n    state\n  });\n}\n\nexport function getClampedValue({\n  value, maxValue, minValue, range, modifier\n}) {\n  if (!isNaN(range) && !isNaN(modifier)) {\n    value = range * modifier;\n  }\n\n  if (value > maxValue) {\n    value = maxValue;\n  }\n\n  if (value < minValue) {\n    value = minValue;\n  }\n\n  return value;\n}\n\nexport default function getSize({\n  isDiscrete,\n  rect,\n  formatter,\n  measureText,\n  scale,\n  settings,\n  state\n}) {\n  let size = 0;\n  const edgeBleed = {\n    left: 0, top: 0, right: 0, bottom: 0\n  };\n  const {\n    maxLengthPx: maxValue,\n    minLengthPx: minValue\n  } = settings.labels;\n\n  if (settings.labels.show) {\n    const align = settings.align;\n    const horizontal = align === 'top' || align === 'bottom';\n    const distance = horizontal ? rect.width : rect.height;\n    const majorTicks = scale.ticks({\n      settings,\n      distance,\n      formatter\n    }).filter(isMajorTick);\n\n    const measure = (text) => {\n      const m = measureText({\n        text,\n        fontSize: settings.labels.fontSize,\n        fontFamily: settings.labels.fontFamily\n      });\n      m.width = getClampedValue({ value: m.width, maxValue, minValue });\n      return m;\n    };\n\n    if (isDiscrete && horizontal && settings.labels.mode === 'auto') {\n      if (shouldAutoTilt({\n        majorTicks, measure, rect, state, settings\n      })) {\n        state.labels.activeMode = 'tilted';\n      } else {\n        state.labels.activeMode = 'horizontal';\n      }\n    }\n\n    if (isDiscrete && state.labels.activeMode !== 'tilted' && isToLarge({\n      rect, state, majorTicks, measure, horizontal\n    })) {\n      const toLargeSize = Math.max(rect.width, rect.height); // used to hide the axis\n      return { size: toLargeSize, isToLarge: true };\n    }\n\n    let sizeFromTextRect;\n    if (state.labels.activeMode === 'tilted') {\n      const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180); // angle in radians\n      sizeFromTextRect = r => (getClampedValue({ value: r.width, maxValue, minValue }) * Math.sin(radians)) + (r.height * Math.cos(radians));\n    } else if (horizontal) {\n      sizeFromTextRect = r => r.height;\n    } else {\n      sizeFromTextRect = r => getClampedValue({ value: r.width, maxValue, minValue });\n    }\n\n    let labels;\n    if (horizontal && state.labels.activeMode !== 'tilted') {\n      labels = ['M'];\n    } else if (!isNaN(settings.labels.maxGlyphCount)) {\n      let label = '';\n      for (let i = 0; i < settings.labels.maxGlyphCount; i++) {\n        label += 'M';\n      }\n      labels = [label];\n    } else {\n      labels = majorTicks.map(tick => tick.label);\n    }\n    const tickMeasures = labels.map(measure);\n    const labelSizes = tickMeasures.map(sizeFromTextRect);\n    const textSize = Math.max(...labelSizes, 0);\n    size += textSize;\n    size += settings.labels.margin;\n\n    if (state.labels.activeMode === 'layered') {\n      size *= 2;\n    }\n\n    if (state.labels.activeMode === 'tilted') {\n      const extendLeft = (settings.align === 'bottom') === (settings.labels.tiltAngle >= 0);\n      const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180); // angle in radians\n      const h = measureText('M').height;\n      const maxWidth = (textSize - (h * Math.cos(radians))) / Math.sin(radians);\n      const labelWidth = r => (Math.min(maxWidth, r.width) * Math.cos(radians)) + r.height;\n      const adjustByPosition = (s, i) => {\n        const pos = majorTicks[i] ? majorTicks[i].position : 0;\n        if (extendLeft) {\n          return s - (pos * rect.width);\n        }\n        return s - ((1 - pos) * rect.width);\n      };\n      const bleedSize = Math.min(settings.labels.maxEdgeBleed, Math.max(...tickMeasures.map(labelWidth).map(adjustByPosition), 0)) + settings.paddingEnd;\n      const bleedDir = extendLeft ? 'left' : 'right';\n      edgeBleed[bleedDir] = bleedSize;\n\n      if (isDiscrete && isTiltedLabelOverlapping({\n        majorTicks, measureText, rect, bleedSize, angle: settings.labels.tiltAngle\n      })) {\n        return { size: Math.max(rect.width, rect.height), isToLarge: true };\n      }\n    }\n  }\n\n  return { size, edgeBleed };\n}\n","import buildLine from './axis-line-node';\nimport buildLabel from './axis-label-node';\nimport buildTick from './axis-tick-node';\nimport {\n  testRectRect\n} from '../../math/narrow-phase-collision';\nimport { getClampedValue } from './axis-label-size';\n\nfunction tickSpacing(settings) {\n  let spacing = 0;\n  spacing += settings.paddingStart;\n  spacing += settings.line.show ? settings.line.strokeWidth : 0;\n  spacing += settings.ticks.show ? settings.ticks.margin : 0;\n  return spacing;\n}\n\nfunction tickMinorSpacing(settings) {\n  return settings.line.strokeWidth + settings.minorTicks.margin;\n}\n\nfunction labelsSpacing(settings) {\n  let spacing = 0;\n  spacing += settings.ticks.show ? settings.ticks.tickSize : 0;\n  spacing += tickSpacing(settings) + settings.labels.margin;\n  return spacing;\n}\n\nfunction calcActualTextRect({ style, measureText, tick }) {\n  return measureText({\n    text: tick.label,\n    fontSize: style.fontSize,\n    fontFamily: style.fontFamily\n  });\n}\n\nfunction majorTicks(ticks) {\n  return ticks.filter(t => !t.isMinor);\n}\n\nfunction minorTicks(ticks) {\n  return ticks.filter(t => t.isMinor);\n}\n\nfunction tickBuilder(ticks, buildOpts) {\n  return ticks.map(tick => buildTick(tick, buildOpts));\n}\n\nfunction tickBandwidth(scale, tick) {\n  return tick ? Math.abs(tick.end - tick.start) : scale.bandwidth();\n}\n\nfunction labelBuilder(ticks, buildOpts, tickFn) {\n  return ticks.map((tick) => {\n    tickFn(tick);\n    const label = buildLabel(tick, buildOpts);\n    label.data = tick.data;\n    return label;\n  });\n}\n\nfunction layeredLabelBuilder(ticks, buildOpts, settings, tickFn) {\n  const padding = buildOpts.padding;\n  const spacing = labelsSpacing(settings);\n  return ticks.map((tick, i) => {\n    tickFn(tick);\n    const padding2 = spacing + buildOpts.maxHeight + settings.labels.margin;\n    buildOpts.layer = i % 2;\n    buildOpts.padding = i % 2 === 0 ? padding : padding2;\n    const label = buildLabel(tick, buildOpts);\n    label.data = tick.data;\n    return label;\n  });\n}\n\nexport function filterOverlappingLabels(labels, ticks) {\n  const isOverlapping = (l1, l2) => { // eslint-disable-line arrow-body-style\n    const rect1 = l1.boundingRect;\n    const rect2 = l2.boundingRect;\n\n    return testRectRect(rect1, rect2);\n  };\n\n  for (let i = 0; i <= labels.length - 1; i++) {\n    for (let k = i + 1; k <= Math.min(i + 5, i + (labels.length - 1)); k++) { // TODO Find a better way to handle exteme/layered labels then to iterare over ~5 next labels\n      if (labels[i] && labels[k] && isOverlapping(labels[i], labels[k])) {\n        if (k === labels.length - 1) { // On collition with last label, remove current label instead\n          labels.splice(i, 1);\n          if (ticks) { ticks.splice(i, 1); }\n        } else {\n          labels.splice(k, 1);\n          if (ticks) { ticks.splice(k, 1); }\n        }\n        k--;\n        i--;\n      }\n    }\n  }\n}\n\nfunction discreteCalcMaxTextRect({\n  measureText, settings, innerRect, scale, tilted, layered, tick\n}) {\n  const h = measureText({\n    text: 'M',\n    fontSize: settings.labels.fontSize,\n    fontFamily: settings.labels.fontFamily\n  }).height;\n\n  const bandwidth = tickBandwidth(scale, tick);\n\n  const textRect = { width: 0, height: h };\n  if (settings.align === 'left' || settings.align === 'right') {\n    textRect.width = innerRect.width - labelsSpacing(settings) - settings.paddingEnd;\n  } else if (layered) {\n    textRect.width = (bandwidth * innerRect.width) * 2;\n  } else if (tilted) {\n    const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180);\n    textRect.width = (innerRect.height - labelsSpacing(settings) - settings.paddingEnd - (h * Math.cos(radians))) / Math.sin(radians);\n  } else {\n    textRect.width = bandwidth * innerRect.width;\n  }\n\n  textRect.width = getClampedValue({ value: textRect.width, maxValue: settings.labels.maxLengthPx, minValue: settings.labels.minLengthPx });\n\n  return textRect;\n}\n\nfunction continuousCalcMaxTextRect({\n  measureText, settings, innerRect, ticks, tilted, layered\n}) {\n  const h = measureText({\n    text: 'M',\n    fontSize: settings.labels.fontSize,\n    fontFamily: settings.labels.fontFamily\n  }).height;\n\n  const textRect = { width: 0, height: h };\n  if (settings.align === 'left' || settings.align === 'right') {\n    textRect.width = innerRect.width - labelsSpacing(settings) - settings.paddingEnd;\n  } else if (layered) {\n    textRect.width = (innerRect.width / majorTicks(ticks).length) * 0.75 * 2;\n  } else if (tilted) {\n    const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180);\n    textRect.width = (innerRect.height - labelsSpacing(settings) - settings.paddingEnd - (h * Math.cos(radians))) / Math.sin(radians);\n  } else {\n    textRect.width = (innerRect.width / majorTicks(ticks).length) * 0.75;\n  }\n\n  textRect.width = getClampedValue({ value: textRect.width, maxValue: settings.labels.maxLengthPx, minValue: settings.labels.minLengthPx });\n\n  return textRect;\n}\n\nfunction getStepSizeFn({\n  innerRect, scale, settings, tick\n}) {\n  const size = settings.align === 'top' || settings.align === 'bottom' ? innerRect.width : innerRect.height;\n  const bandwidth = tickBandwidth(scale, tick);\n  return size * bandwidth;\n}\n\nexport default function nodeBuilder(isDiscrete) {\n  let calcMaxTextRectFn;\n  let filterLabels = false;\n\n  function continuous() {\n    calcMaxTextRectFn = continuousCalcMaxTextRect;\n    filterLabels = true;\n    return continuous;\n  }\n\n  function discrete() {\n    calcMaxTextRectFn = discreteCalcMaxTextRect;\n    return discrete;\n  }\n\n  function build({\n    settings, scale, innerRect, outerRect, measureText, ticks, state, textBounds\n  }) {\n    const nodes = [];\n    const major = majorTicks(ticks);\n    const minor = minorTicks(ticks);\n    const buildOpts = {\n      innerRect,\n      align: settings.align,\n      outerRect\n    };\n    const tilted = state.labels.activeMode === 'tilted';\n    const layered = state.labels.activeMode === 'layered';\n    let majorTickNodes;\n\n    if (settings.line.show) {\n      buildOpts.style = settings.line;\n      buildOpts.padding = settings.paddingStart;\n\n      nodes.push(buildLine(buildOpts));\n    }\n    if (settings.ticks.show) {\n      buildOpts.style = settings.ticks;\n      buildOpts.tickSize = settings.ticks.tickSize;\n      buildOpts.padding = tickSpacing(settings);\n\n      majorTickNodes = tickBuilder(major, buildOpts);\n    }\n    if (settings.labels.show) {\n      const padding = labelsSpacing(settings);\n      buildOpts.style = settings.labels;\n      buildOpts.padding = padding;\n      buildOpts.tilted = tilted;\n      buildOpts.layered = layered;\n      buildOpts.angle = settings.labels.tiltAngle;\n      buildOpts.paddingEnd = settings.paddingEnd;\n      buildOpts.textBounds = textBounds;\n      const tickFn = (tick) => {\n        const maxSize = calcMaxTextRectFn({\n          measureText, settings, innerRect, ticks, scale, tilted, layered, tick\n        });\n        buildOpts.maxWidth = maxSize.width;\n        buildOpts.maxHeight = maxSize.height;\n        buildOpts.textRect = calcActualTextRect({ tick, measureText, style: buildOpts.style });\n        buildOpts.stepSize = getStepSizeFn({\n          innerRect, scale, ticks, settings, tick\n        });\n      };\n\n      let labelNodes = [];\n      if (layered && (settings.align === 'top' || settings.align === 'bottom')) {\n        labelNodes = layeredLabelBuilder(major, buildOpts, settings, tickFn);\n      } else {\n        labelNodes = labelBuilder(major, buildOpts, tickFn);\n      }\n\n      // Remove labels (and paired tick) that are overlapping\n      if (filterLabels && !buildOpts.tilted) {\n        filterOverlappingLabels(labelNodes, majorTickNodes);\n      }\n\n      nodes.push(...labelNodes);\n    }\n\n    if (settings.minorTicks && settings.minorTicks.show && minor.length > 0) {\n      buildOpts.style = settings.minorTicks;\n      buildOpts.tickSize = settings.minorTicks.tickSize;\n      buildOpts.padding = tickMinorSpacing(settings);\n\n      nodes.push(...tickBuilder(minor, buildOpts));\n    }\n\n    if (majorTickNodes) {\n      nodes.push(...majorTickNodes);\n    }\n\n    return nodes;\n  }\n\n  continuous.build = build;\n  discrete.build = build;\n\n  return isDiscrete ? discrete() : continuous();\n}\n","// const DEFAULT_LAYOUT_SETTINGS = { // TODO create dis and con specific settings\n//   anchor: 'auto', // TODO re-name from align..\n//   // orientation: 'auto', // TODO impl. v/h/auto\n//   // direction: 'auto', // TODO impl. left/right/top/bottom/auto\n//   padding: { // TODO use dock layout margin instead..\n//     start: 0,\n//     end: 10\n//   },\n//   maxGlyphCount: NaN,\n//   maxEdgeBleed: Infinity\n//   // labelMode: 'auto' // TODO move here? auto, horizontal, layered\n// };\n\n/**\n * Discrete axis settings\n * @typedef {object}\n * @alias component--axis-discrete\n */\nconst DEFAULT_DISCRETE_SETTINGS = {\n  /**\n   * @typedef {object}\n   */\n  labels: {\n    /** Toggle labels on/off\n    * @type {boolean=} */\n    show: true,\n    /** Tilting angle in degrees. Capped between -90 and 90. Only applicable when labels are in `tilted` mode.\n    * @type {number=} */\n    tiltAngle: 40,\n    /** Control the amount of space (in pixels) that labes can occupy outside their docking area. Only applicable when labels are in `tilted` mode.\n    * @type {number=} */\n    maxEdgeBleed: Infinity,\n    /** Space in pixels between the tick and label.\n    * @type {number=} */\n    margin: 4,\n    /** Max length of labels in pixels\n    * @type {number=} */\n    maxLengthPx: 150,\n    /** Min length of labels in pixels. Labels will always at least require this much space\n    * @type {number=} */\n    minLengthPx: 0,\n    /** Control how labels arrange themself. Availabe modes are `auto`, `horizontal`, `layered` and `tilted`. When set to `auto` the axis determines the best possible layout in the current context.\n    * @type {string=} */\n    mode: 'auto',\n    /** When only a sub-set of data is available, ex. when paging. This property can be used to let the axis estimate how much space the labels will consume, allowing it to give a consistent space estimate over the entire dataset when paging.\n    * @type {number=} */\n    maxGlyphCount: NaN,\n    /** Align act as a slider for the text bounding rect over the item bandwidth, given that the item have a bandwidth. Except when labels are tilted, then the align is a pure align that shifts the position of the label anchoring point.\n    * @type {number=} */\n    align: 0.5,\n    /** Offset in pixels along the axis direction.\n    * @type {number=} */\n    offset: 0\n  },\n  /**\n   * @typedef {object}\n   */\n  ticks: {\n    /** Toggle ticks on/off\n    * @type {boolean=} */\n    show: false,\n    /** Space in pixels between the ticks and the line.\n    * @type {number=} */\n    margin: 0,\n    /** Size of the ticks in pixels.\n    * @type {number=} */\n    tickSize: 4\n  },\n  /**\n   * @typedef {object}\n   */\n  line: {\n    /** Toggle line on/off\n    * @type {boolean=} */\n    show: false\n  },\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingStart: 0,\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingEnd: 10,\n  /** Set the anchoring point of the axis. Avaialable options are `auto/left/right/bottom/top`. In `auto` the axis determines the best option. The options are restricted based on the axis orientation, a vertical axis may only anchor on `left` or `right`\n    * @type {string=} */\n  align: 'auto'\n};\n\n/**\n * Continuous axis settings\n * @typedef {object}\n * @alias component--axis-continuous\n */\nconst DEFAULT_CONTINUOUS_SETTINGS = {\n  /**\n   * @typedef {object}\n   */\n  labels: {\n    /** Toggle labels on/off\n    * @type {boolean=} */\n    show: true,\n    /** Space in pixels between the tick and label.\n    * @type {number=} */\n    margin: 4,\n    /** Max length of labels in pixels\n    * @type {number=} */\n    maxLengthPx: 150,\n    /** Min length of labels in pixels. Labels will always at least require this much space\n    * @type {number=} */\n    minLengthPx: 0,\n    /** Align act as a slider for the text bounding rect over the item bandwidth, given that the item have a bandwidth.\n    * @type {number=} */\n    align: 0.5,\n    /** Offset in pixels along the axis direction.\n    * @type {number=} */\n    offset: 0\n  },\n  /**\n   * @typedef {object}\n   */\n  ticks: {\n    /** Toggle ticks on/off\n    * @type {boolean=} */\n    show: true,\n    /** Space in pixels between the ticks and the line.\n    * @type {number=} */\n    margin: 0,\n    /** Size of the ticks in pixels.\n    * @type {number=} */\n    tickSize: 8\n  },\n  /**\n   * @typedef {object}\n   */\n  minorTicks: {\n    /** Toggle minor-ticks on/off\n    * @type {boolean=} */\n    show: false,\n    /** Size of the ticks in pixels.\n    * @type {number=} */\n    tickSize: 3,\n    /** Space in pixels between the ticks and the line.\n    * @type {number=} */\n    margin: 0\n  },\n  /**\n   * @typedef {object}\n   */\n  line: {\n    /** Toggle line on/off\n    * @type {boolean=} */\n    show: true\n  },\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingStart: 0,\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingEnd: 10,\n  /** Set the anchoring point of the axis. Avaialable options are `auto/left/right/bottom/top`. In `auto` the axis determines the best option. The options are restricted based on the axis orientation, a vertical axis may only anchor on `left` or `right`\n    * @type {string=} */\n  align: 'auto'\n};\n\nexport {\n  DEFAULT_DISCRETE_SETTINGS,\n  DEFAULT_CONTINUOUS_SETTINGS\n};\n","import getLabelSize from './axis-label-size';\n\nexport default function calcRequiredSize({\n  isDiscrete,\n  rect,\n  formatter,\n  measureText,\n  scale,\n  settings,\n  state\n}) {\n  let size = 0;\n\n  const { size: labelSize, edgeBleed, isToLarge } = getLabelSize({\n    isDiscrete,\n    rect,\n    formatter,\n    measureText,\n    scale,\n    settings,\n    state\n  });\n\n  size += labelSize;\n\n  if (isToLarge) {\n    return { size };\n  }\n\n  if (settings.ticks.show) {\n    size += settings.ticks.margin;\n    size += settings.ticks.tickSize;\n  }\n  if (settings.minorTicks && settings.minorTicks.show) {\n    const minorTicksSize = settings.minorTicks.margin + settings.minorTicks.tickSize;\n    if (minorTicksSize > size) {\n      size = minorTicksSize;\n    }\n  }\n  if (settings.line.show) {\n    size += settings.line.strokeWidth;\n  }\n  size += settings.paddingStart;\n  size += settings.paddingEnd;\n\n  return { size, edgeBleed };\n}\n","import extend from 'extend';\n\nimport nodeBuilder from './axis-node-builder';\nimport {\n  DEFAULT_CONTINUOUS_SETTINGS,\n  DEFAULT_DISCRETE_SETTINGS\n} from './axis-default-settings';\nimport calcRequiredSize from './axis-size-calculator';\nimport crispify from '../../transposer/crispifier';\nimport { scaleWithSize } from '../../scales';\n\nfunction alignTransform({ align, inner }) {\n  if (align === 'left') {\n    return { x: inner.width + inner.x };\n  }\n  if (align === 'right' || align === 'bottom') {\n    return inner;\n  }\n  return { y: inner.y + inner.height };\n}\n\nfunction resolveAlign(align, dock) {\n  const horizontal = ['top', 'bottom'];\n  const vertical = ['left', 'right'];\n  if (horizontal.indexOf(align) !== -1 && vertical.indexOf(dock) === -1) {\n    return align;\n  }\n  if (vertical.indexOf(align) !== -1 && horizontal.indexOf(dock) === -1) {\n    return align;\n  }\n  return dock; // Invalid align, return current dock as default\n}\n\n/**\n * @ignore\n * @param {object} context - The component context\n */\nfunction resolveLocalSettings({\n  state,\n  style,\n  settings\n}) {\n  const defaultStgns = extend(true, {}, state.isDiscrete ? DEFAULT_DISCRETE_SETTINGS : DEFAULT_CONTINUOUS_SETTINGS, style);\n  const localStgns = extend(true, {}, defaultStgns, settings.settings);\n\n  const dock = settings.dock || state.defaultDock;\n  localStgns.dock = dock;\n  localStgns.align = resolveAlign(settings.settings.align, dock);\n  localStgns.labels.tiltAngle = Math.max(-90, Math.min(localStgns.labels.tiltAngle, 90));\n\n  return localStgns;\n}\n\nfunction updateActiveMode(state, settings, isDiscrete) {\n  const mode = settings.labels.mode;\n\n  if (!isDiscrete || !state.isHorizontal) {\n    return 'horizontal';\n  }\n\n  if (mode === 'auto') {\n    return state.labels.activeMode;\n  }\n  if (['layered', 'tilted'].indexOf(settings.labels.mode) !== -1 && ['top', 'bottom'].indexOf(settings.dock) !== -1) {\n    return mode;\n  }\n  return 'horizontal';\n}\n\nconst axisComponent = {\n  require: ['chart', 'renderer', 'dockConfig'],\n  defaultSettings: {\n    displayOrder: 0,\n    prioOrder: 0,\n    settings: {},\n    style: {\n      labels: '$label',\n      ticks: '$guide-line',\n      minorTicks: '$guide-line--minor',\n      line: '$guide-line'\n    }\n  },\n  created() {\n    // State is a representation of properties that are private to this component defintion and may be modified by only in this context.\n    this.state = {\n      isDiscrete: !!this.scale.bandwidth,\n      isHorizontal: false,\n      labels: {\n        activeMode: 'horizontal'\n      },\n      ticks: [],\n      innerRect: {\n        width: 0, height: 0, x: 0, y: 0\n      },\n      outerRect: {\n        width: 0, height: 0, x: 0, y: 0\n      },\n      defaultDock: undefined,\n      concreteNodeBuilder: undefined,\n      settings: undefined\n    };\n\n    if (this.state.isDiscrete) {\n      this.state.defaultDock = 'bottom';\n    } else {\n      this.state.defaultDock = 'left';\n    }\n\n    this.setState(this.settings);\n  },\n  setState() {\n    this.state.isDiscrete = !!this.scale.bandwidth;\n    this.state.settings = resolveLocalSettings(this);\n\n    this.state.concreteNodeBuilder = nodeBuilder(this.state.isDiscrete);\n\n    this.dockConfig.dock = this.state.settings.dock; // Override the dock setting (TODO should be removed)\n\n    this.state.isHorizontal = this.state.settings.align === 'top' || this.state.settings.align === 'bottom';\n    this.state.labels.activeMode = updateActiveMode(this.state, this.state.settings, this.state.isDiscrete);\n  },\n  preferredSize(opts) {\n    const {\n      formatter,\n      state,\n      scale\n    } = this;\n\n    const distance = this.state.isHorizontal ? opts.inner.width : opts.inner.height;\n\n    this.state.pxScale = scaleWithSize(scale, distance);\n\n    const reqSize = calcRequiredSize({\n      isDiscrete: this.state.isDiscrete,\n      rect: opts.inner,\n      formatter,\n      measureText: this.renderer.measureText,\n      scale: this.state.pxScale,\n      settings: this.state.settings,\n      state\n    });\n\n    return reqSize;\n  },\n  beforeUpdate(opts = {}) {\n    const {\n      settings\n    } = opts;\n    this.setState(settings);\n  },\n  resize(opts) {\n    const {\n      inner,\n      outer\n    } = opts;\n\n    const extendedInner = extend({}, inner, alignTransform({\n      align: this.state.settings.align,\n      inner\n    }));\n\n    const finalOuter = outer || extendedInner;\n    extend(this.state.innerRect, extendedInner);\n    extend(this.state.outerRect, finalOuter);\n\n    return outer;\n  },\n  beforeRender() {\n    const {\n      scale,\n      formatter\n    } = this;\n\n    const distance = this.state.isHorizontal ? this.state.innerRect.width : this.state.innerRect.height;\n\n    this.state.pxScale = scaleWithSize(scale, distance);\n    this.state.ticks = this.state.pxScale.ticks({\n      distance,\n      formatter\n    });\n  },\n  render() {\n    const {\n      state\n    } = this;\n\n    const nodes = [];\n    nodes.push(...this.state.concreteNodeBuilder.build({\n      settings: this.state.settings,\n      scale: this.state.pxScale,\n      innerRect: this.state.innerRect,\n      outerRect: this.state.outerRect,\n      measureText: this.renderer.measureText,\n      textBounds: this.renderer.textBounds,\n      ticks: this.state.ticks,\n      state\n    }));\n\n    crispify.multiple(nodes);\n\n    return nodes;\n  }\n};\n\nexport default axisComponent;\n","import axisComponent from './axis';\n\n/**\n * @typedef {object} component--axis\n */\n\n/**\n * @type {string}\n * @memberof component--axis\n */\n\nconst type = 'axis';\n\nexport default function axis(picasso) {\n  picasso.component(type, axisComponent);\n}\n","import extend from 'extend';\n\nfunction parseTitle(text, join, scale) {\n  let title = '';\n  if (typeof text === 'function') {\n    title = text();\n  } else if (typeof text === 'string') {\n    title = text;\n  } else if (scale) {\n    let data = scale.data();\n    const titles = (data.fields || []).map(field => field.title());\n    title = titles.join(join);\n  }\n\n  return title;\n}\n\nfunction getTextAnchor(dock, anchor) {\n  let val = 'middle';\n  if (dock === 'left') {\n    if (anchor === 'top') {\n      val = 'end';\n    } else if (anchor === 'bottom') {\n      val = 'start';\n    }\n  } else if (dock === 'right') {\n    if (anchor === 'top') {\n      val = 'start';\n    } else if (anchor === 'bottom') {\n      val = 'end';\n    }\n  } else if (anchor === 'left') {\n    val = 'start';\n  } else if (anchor === 'right') {\n    val = 'end';\n  }\n  return val;\n}\n\nfunction generateTitle({\n  title,\n  definitionSettings,\n  dock,\n  rect,\n  measureText,\n  style\n}) {\n  const struct = {\n    type: 'text',\n    text: title,\n    x: 0,\n    y: 0,\n    dx: 0,\n    dy: 0,\n    anchor: getTextAnchor(dock, definitionSettings.anchor),\n    baseline: 'alphabetical'\n  };\n\n  extend(struct, style.text);\n  const textRect = measureText(struct);\n\n  if (dock === 'top' || dock === 'bottom') {\n    let x = rect.width / 2;\n    if (definitionSettings.anchor === 'left') {\n      x = definitionSettings.paddingLeft || 0;\n    } else if (definitionSettings.anchor === 'right') {\n      x = rect.width - (definitionSettings.paddingRight || 0);\n    }\n\n    struct.x = x;\n    struct.y = dock === 'top' ? rect.height - definitionSettings.paddingStart : definitionSettings.paddingStart + textRect.height;\n    struct.dy = dock === 'top' ? -(textRect.height / 6) : -(textRect.height / 3);\n    struct.maxWidth = rect.width * 0.8;\n  } else {\n    let y = rect.height / 2;\n    if (definitionSettings.anchor === 'top') {\n      y = definitionSettings.paddingStart;\n    } else if (definitionSettings.anchor === 'bottom') {\n      y = rect.height - definitionSettings.paddingStart;\n    }\n\n    struct.y = y;\n    struct.x = dock === 'left' ? rect.width - definitionSettings.paddingStart : definitionSettings.paddingStart;\n    struct.dx = dock === 'left' ? -(textRect.height / 3) : (textRect.height / 3);\n    const rotation = dock === 'left' ? 270 : 90;\n    struct.transform = `rotate(${rotation}, ${struct.x + struct.dx}, ${struct.y + struct.dy})`;\n    struct.maxWidth = rect.height * 0.8;\n  }\n\n  if (!isNaN(definitionSettings.maxLengthPx)) {\n    struct.maxWidth = Math.min(struct.maxWidth, definitionSettings.maxLengthPx);\n  }\n\n  return struct;\n}\n\n/**\n * @typedef {object} component--text\n * @property {string} [type='text']\n * @property {string|function} text\n * @property {component--text-settings} settings - Text settings\n * @example\n * {\n *  type: 'text',\n *  text: 'my title',\n *  dock: 'left',\n *  settings: {\n *    anchor: 'left',\n *    style: {\n *      fill: 'red'\n *    }\n *  }\n * }\n */\n\n/**\n * @typedef {object} component--text-settings\n * @property {number} [paddingStart=5]\n * @property {number} [paddingEnd=5]\n * @property {number} [paddingLeft=0]\n * @property {number} [paddingRight=0]\n * @property {string} [anchor='center'] - Where to v- or h-align the text. Supports `left`, `right`, `top`, `bottom` and `center`\n * @property {string} [join=', '] - String to add when joining titles from multiple sources\n * @property {number} [maxLengthPx] - Limit the text length to this value in pixels\n */\nconst textComponent = {\n  require: ['renderer', 'chart'],\n  defaultSettings: {\n    dock: 'bottom',\n    displayOrder: 0,\n    prioOrder: 0,\n    settings: {\n      paddingStart: 5,\n      paddingEnd: 5,\n      paddingLeft: 0,\n      paddingRight: 0,\n      anchor: 'center',\n      join: ', ',\n      maxLengthPx: NaN\n    },\n    style: {\n      text: '$title'\n    }\n  },\n\n  created() {\n    this.rect = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n\n    this.definitionSettings = this.settings.settings;\n\n    const text = this.settings.text;\n    const join = this.definitionSettings.join;\n    this.title = parseTitle(text, join, this.scale);\n  },\n\n  preferredSize() {\n    const height = this.renderer.measureText({\n      text: this.title,\n      fontSize: this.style.text.fontSize,\n      fontFamily: this.style.text.fontFamily\n    }).height;\n    return height + this.definitionSettings.paddingStart + this.definitionSettings.paddingEnd;\n  },\n\n  beforeRender(opts) {\n    extend(this.rect, opts.size);\n  },\n\n  render() {\n    const {\n      title,\n      definitionSettings,\n      rect\n    } = this;\n    const nodes = [];\n    nodes.push(generateTitle({\n      title,\n      dock: this.settings.dock,\n      definitionSettings,\n      rect,\n      measureText: this.renderer.measureText,\n      style: this.style\n    }));\n    return nodes;\n  },\n\n  beforeUpdate(opts) {\n    if (opts.settings) {\n      extend(this.settings, opts.settings);\n      this.definitionSettings = opts.settings.settings;\n    }\n    const text = this.settings.text;\n    const join = this.definitionSettings.join;\n    this.title = parseTitle(text, join, this.scale);\n  }\n};\n\nexport default textComponent;\n","import textComponent from './text';\n\nexport default function text(picasso) {\n  picasso.component('text', textComponent);\n}\n","/**\n * @typedef {object} component--scrollbar\n * @private\n */\n\n/**\n * @typedef {object} component--scrollbar.settings\n * @property {boolean} [backgroundColor = '#eee']\n * @property {boolean} [thumbColor = '#ccc']\n * @property {boolean} [width = 16]\n */\n\nfunction start(_scrollbar, pos) {\n  const dock = _scrollbar.settings.dock;\n  const invert = _scrollbar.settings.settings.invert;\n  const horizontal = dock === 'top' || dock === 'bottom';\n  const lengthAttr = horizontal ? 'width' : 'height';\n  const length = _scrollbar.rect[lengthAttr];\n  const scroll = _scrollbar.chart.scroll(_scrollbar.settings.scroll);\n  let currentMove;\n\n  { // local scope to allow reuse of variable names later\n    let offset = pos[horizontal ? 'x' : 'y'];\n    if (invert) {\n      offset = length - offset;\n    }\n    const scrollState = scroll.getState();\n\n    currentMove = {\n      startOffset: offset,\n      startScroll: scrollState.start,\n      swipe: false\n    };\n\n    // Detect swipe start outsize the thumb & change startScroll to jump the scroll there.\n    const scrollPoint = ((offset / length) * (scrollState.max - scrollState.min)) + scrollState.min;\n    if (scrollPoint < scrollState.start) {\n      currentMove.startScroll = scrollPoint;\n    } else if (scrollPoint > scrollState.start + scrollState.viewSize) {\n      currentMove.startScroll = scrollPoint - scrollState.viewSize;\n    }\n  }\n\n  const update = (p) => {\n    let offset = p[horizontal ? 'x' : 'y'];\n    if (invert) {\n      offset = length - offset;\n    }\n    if (!currentMove.swipe) {\n      if (Math.abs(currentMove.startOffset - offset) <= 1) {\n        return;\n      }\n      currentMove.swipe = true;\n    }\n\n    const scrollState = scroll.getState();\n    const scrollMove = ((offset - currentMove.startOffset) / length) * (scrollState.max - scrollState.min);\n    const scrollStart = currentMove.startScroll + scrollMove;\n    scroll.moveTo(scrollStart);\n  };\n  const end = (p) => {\n    let offset = p[horizontal ? 'x' : 'y'];\n    if (invert) {\n      offset = length - offset;\n    }\n    const scrollState = scroll.getState();\n    if (currentMove.swipe) {\n      const scrollMove = ((offset - currentMove.startOffset) / length) * (scrollState.max - scrollState.min);\n      const scrollStart = currentMove.startScroll + scrollMove;\n      scroll.moveTo(scrollStart);\n    } else {\n      const scrollCenter = ((offset / length) * (scrollState.max - scrollState.min)) + scrollState.min;\n      const scrollStart = scrollCenter - (scrollState.viewSize / 2);\n      scroll.moveTo(scrollStart);\n    }\n  };\n\n  return {\n    update,\n    end\n  };\n}\n\nfunction getLocalPos(event, renderer) {\n  const containerRect = renderer.element().getBoundingClientRect();\n  return {\n    x: event.center.x - containerRect.left,\n    y: event.center.y - containerRect.top\n  };\n}\n\nconst scrollbarComponent = {\n  require: ['chart', 'renderer'],\n  on: {\n    panStart(event) {\n      const pos = getLocalPos(event, this.renderer);\n      const startPos = {\n        x: pos.x - event.deltaX,\n        y: pos.y - event.deltaY\n      };\n      this.currentMove = start(this, startPos);\n      this.currentMove.update(pos);\n    },\n    panMove(event) {\n      if (!this.currentMove) { return; }\n      const pos = getLocalPos(event, this.renderer);\n      this.currentMove.update(pos);\n    },\n    panEnd(event) {\n      if (!this.currentMove) { return; }\n      const pos = getLocalPos(event, this.renderer);\n      this.currentMove.end(pos);\n      this.currentMove = null;\n    },\n    panCancel() {\n      this.currentMove = null;\n    },\n    tap(event) {\n      const pos = getLocalPos(event, this.renderer);\n      const move = start(this, pos);\n      move.end(pos);\n    }\n  },\n  defaultSettings: {\n    settings: {\n      backgroundColor: '#eee',\n      thumbColor: '#ccc',\n      width: 16 // 32 for touch\n    }\n  },\n  created: function created() {\n    this.rect = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n  },\n\n  preferredSize: function preferredSize(rect) {\n    const scrollState = this.chart.scroll(this.settings.scroll).getState();\n    // hide the scrollbar if it is not possible to scroll\n    if (scrollState.viewSize >= scrollState.max - scrollState.min) {\n      const toLargeSize = Math.max(rect.width, rect.height);\n      return toLargeSize;\n    }\n    return this.settings.settings.width;\n  },\n\n  resize: function resize(opts) {\n    const inner = opts.inner;\n    this.rect = inner;\n    return inner;\n  },\n\n  render: function render(h) {\n    const dock = this.settings.dock;\n    const invert = this.settings.settings.invert;\n    const horizontal = dock === 'top' || dock === 'bottom';\n    const lengthAttr = horizontal ? 'width' : 'height';\n\n    const _rect = this.rect;\n    const length = _rect[lengthAttr];\n\n    const scrollState = this.chart.scroll(this.settings.scroll).getState();\n    let thumbStart = (length * (scrollState.start - scrollState.min)) / (scrollState.max - scrollState.min);\n    const thumbRange = (length * scrollState.viewSize) / (scrollState.max - scrollState.min);\n\n    if (invert) {\n      thumbStart = length - thumbStart - thumbRange;\n    }\n\n    return h(\n      'div',\n      {\n        style: {\n          position: 'relative',\n          width: '100%',\n          height: '100%',\n          background: this.settings.settings.backgroundColor,\n          pointerEvents: 'auto'\n        }\n      },\n      [].concat(h('div', {\n        class: 'scroller',\n        style: {\n          position: 'absolute',\n          [horizontal ? 'left' : 'top']: `${thumbStart}px`,\n          [horizontal ? 'top' : 'left']: '25%',\n          [horizontal ? 'height' : 'width']: '50%', // ${width}px\n          [lengthAttr]: `${Math.max(1, thumbRange)}px`,\n          background: this.settings.settings.thumbColor\n        }\n      }))\n    );\n  },\n\n  renderer: 'dom'\n};\n\nexport default function scrollbar(picasso) {\n  picasso.component('scrollbar', scrollbarComponent);\n}\n","const TARGET_SIZE = 5;\nconst VERTICAL = 0;\nconst HORIZONTAL = 1;\n\nexport {\n  TARGET_SIZE,\n  VERTICAL,\n  HORIZONTAL\n};\n","import extend from 'extend';\n\nimport {\n  TARGET_SIZE,\n  VERTICAL\n} from './brush-range-const';\n\nfunction buildLine({\n  h, isVertical, value, pos, align, borderHit, state, idx\n}) {\n  const isAlignStart = align !== 'end';\n  const alignStart = { left: '0', top: '0' };\n  const alignEnd = { right: '0', bottom: '0' };\n  const alignStyle = isAlignStart ? alignStart : alignEnd;\n  let start = 0;\n  let width = '100%';\n  let height = '100%';\n\n  if (state.targetRect && state.settings.bubbles.align === 'start') {\n    width = `${state.targetRect.x + state.targetRect.width}px`;\n    height = `${state.targetRect.y + state.targetRect.height}px`;\n  } else if (state.targetRect && state.settings.bubbles.align === 'end') {\n    start = isVertical ? state.targetRect.x : state.targetRect.y;\n    width = `${state.rect.width - start}px`;\n    height = `${state.rect.height - start}px`;\n  }\n\n  if (!isAlignStart) {\n    pos -= borderHit;\n  }\n\n  // edge\n  return h('div', {\n    onmouseover(e) {\n      e.srcElement.children[0].style.backgroundColor = '#000';\n      e.srcElement.children[0].style[isVertical ? 'height' : 'width'] = '2px';\n    },\n    onmouseout(e) {\n      e.srcElement.children[0].style.backgroundColor = state.style.line.stroke;\n      e.srcElement.children[0].style[isVertical ? 'height' : 'width'] = '1px';\n    },\n    'data-value': value,\n    'data-key': [state.key, 'edge', idx].join('-'),\n    style: {\n      cursor: isVertical ? 'ns-resize' : 'ew-resize',\n      position: 'absolute',\n      left: isVertical ? `${start}px` : `${pos}px`,\n      top: isVertical ? `${pos}px` : `${start}px`,\n      height: isVertical ? `${borderHit}px` : height,\n      width: isVertical ? width : `${borderHit}px`,\n      pointerEvents: 'auto'\n    }\n  }, [\n    // line\n    h('div', {\n      style: extend(\n        {\n          backgroundColor: state.style.line.stroke,\n          position: 'absolute',\n          height: isVertical ? `${1}px` : '100%',\n          width: isVertical ? '100%' : `${1}px`,\n          pointerEvents: 'none'\n        },\n        alignStyle\n      )\n    })\n  ]);\n}\n\nfunction buildBubble({\n  h, isVertical, label, otherValue, idx, pos, align, state\n}) {\n  const isAlignStart = align !== 'end';\n  const isOutside = state.settings.bubbles.placement === 'outside';\n  let outside = 'none';\n  let bubbleDock;\n  if (isVertical) {\n    bubbleDock = isAlignStart ? 'left' : 'right';\n    if (isOutside) {\n      outside = isAlignStart ? 'translate(-100%,  0px)' : 'translate(100%,  0px)';\n    }\n  } else {\n    bubbleDock = isAlignStart ? 'top' : 'bottom';\n    if (isOutside) {\n      outside = isAlignStart ? 'translate(0px, -100%)' : 'translate(0px,  100%)';\n    }\n  }\n\n  // bubble wrapper\n  return h('div', {\n    style: {\n      position: 'absolute',\n      [bubbleDock]: '0',\n      [isVertical ? 'top' : 'left']: `${pos}px`,\n      transform: outside\n    }\n  }, [\n    // bubble\n    h('div', {\n      'data-key': [state.key, 'bubble', idx].join('-'),\n      'data-other-value': otherValue,\n      'data-idx': idx,\n      style: extend({\n        position: 'relative',\n        borderRadius: `${state.style.bubble.borderRadius}px`,\n        border: `${state.style.bubble.strokeWidth}px solid ${state.style.bubble.stroke}`,\n        backgroundColor: state.style.bubble.fill,\n        color: state.style.bubble.color,\n        fontFamily: state.style.bubble.fontFamily,\n        fontSize: state.style.bubble.fontSize,\n        padding: '4px 8px',\n        textAlign: 'center',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        maxWidth: '150px',\n        minWidth: '50px',\n        minHeight: '1em',\n        pointerEvents: 'auto',\n        transform: isVertical ? 'translate(0,-50%)' : 'translate(-50%,0)'\n      })\n    }, [label])\n  ]);\n}\n\nfunction buildArea({\n  h, isVertical, top, height, color, on, opacity\n}) {\n  return h('div', extend({\n    style: {\n      backgroundColor: color,\n      opacity,\n      position: 'absolute',\n      left: isVertical ? 0 : `${top}px`,\n      top: isVertical ? `${top}px` : 0,\n      height: isVertical ? `${height}px` : '100%',\n      width: isVertical ? '100%' : `${height}px`,\n      pointerEvents: 'auto'\n    }\n  }, on), []);\n}\n\nexport default function buildRange({\n  borderHit, els, isVertical, state, vStart, vEnd, idx\n}) {\n  let targetOffset = 0;\n  if (state.targetRect) {\n    targetOffset = isVertical ? state.targetRect.y : state.targetRect.x;\n  }\n  const hasScale = !!state.scale;\n  const start = hasScale ? state.scale.norm(vStart) * state.size : vStart;\n  const end = hasScale ? state.scale.norm(vEnd) * state.size : vEnd;\n  const height = Math.abs(start - end);\n  const top = Math.min(start, end) + targetOffset;\n  const bottom = top + height;\n\n  if (state.targetRect) {\n    const target = state.targetFillRect || state.targetRect;\n    const targetSize = isVertical ? target.height : target.width;\n    const targetStart = hasScale ? state.scale.norm(vStart) * targetSize : vStart;\n    const targetEnd = hasScale ? state.scale.norm(vEnd) * targetSize : vEnd;\n    const targetHeight = Math.abs(targetStart - targetEnd);\n    const targetTop = Math.min(targetStart, targetEnd);\n    const targetArea = {\n      h: state.h,\n      isVertical,\n      top: targetTop,\n      height: targetHeight,\n      color: state.style.target.fill,\n      opacity: state.style.target.opacity\n    };\n    if (state.style.target.opacity < 0.8) {\n      targetArea.on = {\n        onmouseover(e) {\n          e.srcElement.style.opacity = state.style.target.opacity + 0.1;\n        },\n        onmouseout(e) {\n          e.srcElement.style.opacity = state.style.target.opacity;\n        }\n      };\n    }\n    els.push(state.h('div', {\n      style: {\n        position: 'absolute',\n        left: `${target.x}px`,\n        top: `${target.y}px`,\n        height: `${target.height}px`,\n        width: `${target.width}px`\n      }\n    }, [\n      buildArea(targetArea)\n    ]));\n  }\n\n  // active range area\n  // els.push(buildArea({\n  //   h: state.h,\n  //   isVertical,\n  //   top,\n  //   height,\n  //   color: state.settings.fill\n  // }));\n\n  els.push(buildLine({\n    h: state.h,\n    isVertical,\n    borderHit,\n    value: start < end ? vStart : vEnd,\n    pos: top,\n    align: 'start',\n    state,\n    idx\n  }));\n\n  els.push(buildLine({\n    h: state.h,\n    isVertical,\n    borderHit,\n    value: start < end ? vEnd : vStart,\n    pos: bottom,\n    align: 'end',\n    state,\n    idx\n  }));\n\n  const bubbles = state.settings.bubbles;\n  if (bubbles && bubbles.show) {\n    const fontSize = bubbles.fontSize;\n    const fontFamily = bubbles.fontFamily;\n    const fill = bubbles.fill;\n    const style = {\n      fontSize,\n      fontFamily,\n      color: fill\n    };\n\n    const range = [vStart, vEnd];\n    els.push(buildBubble({\n      h: state.h,\n      isVertical,\n      align: bubbles.align,\n      style,\n      idx,\n      otherValue: start < end ? vEnd : vStart,\n      label: `${state.format(start < end ? vStart : vEnd, range)}`,\n      pos: top,\n      state\n    }));\n\n    els.push(buildBubble({\n      h: state.h,\n      isVertical,\n      align: bubbles.align,\n      style,\n      idx,\n      otherValue: start < end ? vStart : vEnd,\n      label: `${state.format(start < end ? vEnd : vStart, range)}`,\n      pos: bottom,\n      state\n    }));\n  }\n}\n\nexport function getMoveDelta(state) {\n  const posDelta = state.active.limitHigh - state.active.end;\n  const negDelta = state.active.limitLow - state.active.start;\n  let delta = state.current - state.start;\n  if (delta < 0) {\n    delta = Math.max(delta, negDelta);\n  } else {\n    delta = Math.min(delta, posDelta);\n  }\n\n  return delta;\n}\n\nexport function nodes(state) {\n  if (!state.active) {\n    return [];\n  }\n  let vStart = state.start;\n  let vEnd = state.current;\n  if (state.active.idx !== -1) {\n    if (state.active.mode === 'foo') {\n      vStart = Math.min(state.active.start, state.active.end);\n      vEnd = Math.max(state.active.start, state.active.end);\n    } else if (state.active.mode === 'modify') {\n      vStart = Math.min(state.start, state.current);\n      vEnd = Math.max(state.start, state.current);\n    } else {\n      const delta = getMoveDelta(state);\n      vStart = state.active.start + delta;\n      vEnd = state.active.end + delta;\n    }\n  }\n\n  let els = [];\n\n  const isVertical = state.direction === VERTICAL;\n\n  // add all other ranges\n  state.ranges.forEach((r, i) => {\n    if (i !== state.active.idx) {\n      buildRange({\n        borderHit: TARGET_SIZE,\n        els,\n        isVertical,\n        state,\n        vStart: Math.min(r.min, r.max),\n        vEnd: Math.max(r.min, r.max),\n        idx: i\n      });\n    }\n  });\n\n  // add active range\n  buildRange({\n    borderHit: TARGET_SIZE,\n    els,\n    isVertical,\n    state,\n    vStart,\n    vEnd,\n    idx: state.active.idx\n  });\n\n  return els;\n}\n","import extend from 'extend';\nimport { testRectPoint } from '../../../core/math/narrow-phase-collision';\n\nfunction rangelimits(state) {\n  return {\n    min: state.scale.min(),\n    max: state.scale.max()\n  };\n}\n\nfunction areaLimits(state) {\n  return {\n    min: 0,\n    max: state.direction ? state.rect.width : state.rect.height\n  };\n}\n\nfunction findActive(state, value, limits) {\n  let rs = state.ranges;\n  let i;\n  let activeIdx = -1;\n  for (i = 0; i < rs.length; i++) {\n    if (rs[i].min <= value && value <= rs[i].max) {\n      activeIdx = i;\n      limits.min = i ? rs[i - 1].max : limits.min;\n      limits.max = i + 1 < rs.length ? rs[i + 1].min : limits.max;\n      break;\n    } else if (value < rs[i].min) {\n      limits.max = rs[i].min;\n      limits.min = i ? rs[i - 1].max : limits.min;\n      break;\n    }\n  }\n  if (activeIdx === -1 && rs.length && i >= rs.length) {\n    limits.min = rs[rs.length - 1].max;\n  }\n\n  let activeRange;\n\n  if (activeIdx !== -1) {\n    activeRange = {\n      idx: activeIdx,\n      start: rs[activeIdx].min,\n      end: rs[activeIdx].max,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'foo'\n    };\n  }\n  state.active = activeRange;\n}\n\nexport function startArea({\n  state, e, renderer, ranges, targetSize\n}) {\n  if (state.started) {\n    return;\n  }\n  const x = (e.center.x - e.deltaX);\n  const y = (e.center.y - e.deltaY);\n  let target = document.elementFromPoint(x, y);\n  if (!renderer.element().contains(target)) {\n    target = null;\n  }\n\n  const tempState = {\n    started: true\n  };\n\n  state.offset = renderer.element().getBoundingClientRect();\n  state.ranges = ranges(state);\n  const relX = x - state.offset.left; // coordinate relative renderer\n  const relY = y - state.offset.top;\n  const startPoint = (e.center[state.cssCoord.coord] - e[state.cssCoord.pos]) - state.offset[state.cssCoord.offset];\n  const relStart = (e.center[state.cssCoord.coord]) - state.offset[state.cssCoord.offset];\n  let v = relStart;\n  let vStart = startPoint;\n\n  tempState.start = startPoint;\n  tempState.current = relStart;\n\n  let rs = state.ranges;\n  const limits = areaLimits(state);\n  let i;\n  let activeIdx = -1;\n  if (target && target.hasAttribute('data-idx')) {\n    activeIdx = parseInt(target.getAttribute('data-idx'), 10);\n    limits.min = activeIdx > 0 ? rs[activeIdx - 1].max : limits.min;\n    limits.max = activeIdx + 1 < rs.length ? rs[activeIdx + 1].min : limits.max;\n  } else {\n    for (i = 0; i < rs.length; i++) {\n      if (rs[i].min <= vStart && vStart <= rs[i].max) {\n        activeIdx = i;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        limits.max = i + 1 < rs.length ? rs[i + 1].min : limits.max;\n        break;\n      } else if (vStart < rs[i].min) {\n        limits.max = rs[i].min;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        break;\n      }\n    }\n    if (activeIdx === -1 && rs.length && i >= rs.length) {\n      limits.min = rs[rs.length - 1].max;\n    }\n  }\n\n  if (activeIdx === -1 && !state.multi) {\n    tempState.ranges = [];\n    limits.min = 0;\n    limits.max = state.direction ? state.rect.width : state.rect.height;\n  }\n  let activeRange;\n\n  if (activeIdx !== -1) {\n    activeRange = {\n      idx: activeIdx,\n      start: rs[activeIdx].min,\n      end: rs[activeIdx].max,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'move'\n    };\n\n    if (target && target.hasAttribute('data-other-value')) {\n      tempState.start = parseFloat(target.getAttribute('data-other-value'));\n      activeRange.mode = 'modify';\n    } else {\n      let pxStart = activeRange.start;\n      let pxEnd = activeRange.end;\n      if (Math.abs(startPoint - pxStart) <= targetSize) {\n        tempState.start = activeRange.end;\n        activeRange.mode = 'modify';\n      } else if (Math.abs(startPoint - pxEnd) <= targetSize) {\n        tempState.start = activeRange.start;\n        activeRange.mode = 'modify';\n      }\n    }\n  } else {\n    activeRange = {\n      idx: -1,\n      start: vStart,\n      end: v,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'current'\n    };\n  }\n\n  tempState.active = activeRange;\n\n  if (activeRange.mode !== 'modify' && state.targetRect && !testRectPoint(state.targetRect, { x: relX, y: relY })) {\n    // do nothing\n  } else {\n    Object.keys(tempState).forEach(key => (state[key] = tempState[key]));\n  }\n}\n\nexport function start({\n  state, e, renderer, ranges, targetSize\n}) {\n  if (state.started) {\n    return;\n  }\n  const x = (e.center.x - e.deltaX);\n  const y = (e.center.y - e.deltaY);\n  let target = document.elementFromPoint(x, y);\n  if (!renderer.element().contains(target)) {\n    target = null;\n  }\n\n  const tempState = {\n    started: true\n  };\n\n  state.offset = extend({}, renderer.element().getBoundingClientRect());\n  const relX = x - state.offset.left; // coordinate relative renderer\n  const relY = y - state.offset.top;\n  state.offset.left += state.targetRect ? state.targetRect.x : 0; // make offset relative to targetRect\n  state.offset.top += state.targetRect ? state.targetRect.y : 0;\n  state.ranges = ranges(state, state.fauxBrushInstance || state.brushInstance);\n  const startPoint = (e.center[state.cssCoord.coord] - e[state.cssCoord.pos]) - state.offset[state.cssCoord.offset];\n  const relStart = (e.center[state.cssCoord.coord]) - state.offset[state.cssCoord.offset];\n  tempState.current = state.scale.normInvert(relStart / state.size);\n  tempState.start = state.scale.normInvert(startPoint / state.size);\n\n  let rs = state.ranges;\n  const limits = rangelimits(state);\n  let i;\n  let activeIdx = -1;\n  if (target && target.hasAttribute('data-idx')) {\n    activeIdx = parseInt(target.getAttribute('data-idx'), 10);\n    limits.min = activeIdx > 0 ? rs[activeIdx - 1].max : limits.min;\n    limits.max = activeIdx + 1 < rs.length ? rs[activeIdx + 1].min : limits.max;\n  } else {\n    for (i = 0; i < rs.length; i++) {\n      if (rs[i].min <= tempState.start && tempState.start <= rs[i].max) {\n        activeIdx = i;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        limits.max = i + 1 < rs.length ? rs[i + 1].min : limits.max;\n        break;\n      } else if (tempState.start < rs[i].min) {\n        limits.max = rs[i].min;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        break;\n      }\n    }\n    if (activeIdx === -1 && rs.length && i >= rs.length) {\n      limits.min = rs[rs.length - 1].max;\n    }\n  }\n\n  if (activeIdx === -1 && !state.multi) {\n    tempState.ranges = [];\n    limits.min = state.scale.min();\n    limits.max = state.scale.max();\n  }\n  let activeRange;\n\n  if (activeIdx !== -1) {\n    activeRange = {\n      idx: activeIdx,\n      start: rs[activeIdx].min,\n      end: rs[activeIdx].max,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'move'\n    };\n\n    if (target && target.hasAttribute('data-other-value')) {\n      tempState.start = parseFloat(target.getAttribute('data-other-value'));\n      activeRange.mode = 'modify';\n    } else {\n      let pxStart = state.scale.norm(activeRange.start) * state.size;\n      let pxEnd = state.scale.norm(activeRange.end) * state.size;\n      if (Math.abs(startPoint - pxStart) <= targetSize) {\n        tempState.start = activeRange.end;\n        activeRange.mode = 'modify';\n      } else if (Math.abs(startPoint - pxEnd) <= targetSize) {\n        tempState.start = activeRange.start;\n        activeRange.mode = 'modify';\n      }\n    }\n  } else {\n    activeRange = {\n      idx: -1,\n      start: tempState.start,\n      end: tempState.current,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'current'\n    };\n  }\n\n  tempState.active = activeRange;\n\n  if (activeRange.mode !== 'modify' && state.targetRect && !testRectPoint(state.targetRect, { x: relX, y: relY })) {\n    // do nothing\n  } else {\n    Object.keys(tempState).forEach(key => (state[key] = tempState[key]));\n  }\n}\nexport function end(state, ranges) {\n  state.started = false;\n  state.ranges = ranges(state, state.fauxBrushInstance || state.brushInstance);\n  const limits = rangelimits(state);\n  findActive(state, state.current, limits);\n}\n\nexport function endArea(state, ranges) {\n  state.started = false;\n  state.ranges = ranges(state);\n  const limits = areaLimits(state);\n  findActive(state, state.current, limits);\n}\n\nexport function move(state, e) {\n  const relY = e.center[state.cssCoord.coord] - state.offset[state.cssCoord.offset];\n  const rel = relY / state.size;\n  const v = state.scale.normInvert(rel);\n  state.current = Math.max(Math.min(v, state.active.limitHigh), state.active.limitLow);\n}\n\nexport function moveArea(state, e) {\n  const rel = e.center[state.cssCoord.coord] - state.offset[state.cssCoord.offset];\n\n  state.current = Math.max(Math.min(rel, state.active.limitHigh), state.active.limitLow);\n}\n","import {\n  nodes,\n  getMoveDelta\n} from './brush-range-node-builder';\nimport { start, end, move } from './brush-range-interaction';\nimport linear from '../../../core/scales/linear';\nimport { scaleWithSize } from '../../../core/scales';\nimport brushFactory from '../../../core/brush';\nimport {\n  TARGET_SIZE,\n  VERTICAL,\n  HORIZONTAL\n} from './brush-range-const';\nimport {\n  pointsToRect,\n  rectToPoints\n} from '../../../core/geometry/util';\n\nfunction render(state) {\n  state.renderer.render(nodes(state));\n}\n\nfunction ranges(state, brush) {\n  if (!brush || !brush.isActive()) {\n    return [];\n  }\n\n  const sourceData = state.scale.data();\n  const sourceFields = sourceData ? sourceData.fields || [] : [];\n  const sources = sourceFields.map(field => field.id());\n  const rangeBrush = brush.brushes().filter(f => f.type === 'range' && sources.indexOf(f.id) !== -1)[0];\n\n  if (!rangeBrush) {\n    return [];\n  }\n\n  return rangeBrush.brush.ranges();\n}\n\nfunction setRanges(state) {\n  let rs = state.ranges.map(r => ({ min: r.min, max: r.max }));\n  if (state.active.idx !== -1) {\n    if (state.active.mode === 'modify') {\n      rs[state.active.idx].min = Math.min(state.start, state.current);\n      rs[state.active.idx].max = Math.max(state.start, state.current);\n    } else {\n      const delta = getMoveDelta(state);\n      rs[state.active.idx].min += delta;\n      rs[state.active.idx].max += delta;\n    }\n  } else {\n    rs.push({\n      min: Math.min(state.start, state.current),\n      max: Math.max(state.start, state.current)\n    });\n  }\n\n  const scaleData = state.scale.data();\n  if (scaleData && scaleData.fields) {\n    scaleData.fields.forEach((field) => {\n      if (state.fauxBrushInstance) {\n        let ordRS = ranges(state, state.fauxBrushInstance);\n        let oldValues = state.findValues(ordRS);\n        let values = state.findValues(rs);\n\n        let addedValues = values.filter(v => oldValues.indexOf(v) === -1);\n        let removedValues = oldValues.filter(v => values.indexOf(v) === -1);\n\n        let addItems = addedValues.map(v => ({ key: field.id(), value: v }));\n        let removeItems = removedValues.map(v => ({ key: field.id(), value: v }));\n\n        state.brushInstance.addAndRemoveValues(addItems, removeItems);\n\n        state.fauxBrushInstance.setRange(field.id(), rs);\n      } else {\n        state.brushInstance.setRange(field.id(), rs);\n      }\n    });\n  }\n}\n\nfunction findClosest(value, scale) {\n  let name;\n  let minDist = Infinity;\n  const domain = scale.domain();\n  const halfBandwidth = scale.bandwidth() / 2;\n  for (let i = 0; i < domain.length; ++i) {\n    const d = Math.abs(value - halfBandwidth - scale(domain[i]));\n    if (d < minDist) {\n      minDist = d;\n      name = domain[i];\n    }\n  }\n  return name;\n}\n\nfunction findClosestLabel(value, scale) {\n  const ticks = scale.ticks();\n  const idx = scale.domain().indexOf(findClosest(value, scale));\n  return idx !== -1 ? ticks[idx].label : '-';\n}\n\nfunction rangesOverlap(r1, r2) {\n  return Math.min(...r1) <= Math.max(...r2) && Math.max(...r1) >= Math.min(...r2);\n}\n\nfunction findValues(rangesValues, scale) {\n  const domain = scale.domain();\n  const scaleRange = scale.range();\n  const values = [];\n  rangesValues.forEach((range) => {\n    if (!rangesOverlap(scaleRange, [range.min, range.max])) {\n      return;\n    }\n    const startIdx = domain.indexOf(findClosest(range.min, scale));\n    const endIdx = domain.indexOf(findClosest(range.max, scale));\n    values.push.apply(values, domain.slice(Math.min(startIdx, endIdx), Math.max(startIdx, endIdx) + 1)); /* eslint prefer-spread:0 */\n  });\n\n  return values;\n}\n\nfunction resolveNodeBounds(targetNodes) {\n  const points = targetNodes.reduce((ary, node) => {\n    ary.push(...rectToPoints(node.bounds));\n    return ary;\n  }, []);\n  return pointsToRect(points);\n}\n\nfunction resolveTarget(ctx) {\n  const resolved = {\n    targetRect: null,\n    targetFillRect: null,\n    scale: null,\n    size: null\n  };\n  const stngs = ctx.settings.settings;\n  const target = stngs.target ? ctx.chart.component(stngs.target.component) : null;\n  const targetNodes = stngs.target && stngs.target.selector ? ctx.chart.findShapes(stngs.target.selector) : [];\n  const targetFillNodes = stngs.target && stngs.target.fillSelector ? ctx.chart.findShapes(stngs.target.fillSelector) : [];\n  if (targetNodes.length > 0) {\n    const bounds = resolveNodeBounds(targetNodes);\n    resolved.size = bounds[ctx.state.direction === VERTICAL ? 'height' : 'width'];\n    resolved.scale = scaleWithSize(ctx.chart.scale(stngs.scale), resolved.size);\n    resolved.targetRect = bounds;\n    if (targetFillNodes.length > 0) {\n      const fillBounds = resolveNodeBounds(targetFillNodes);\n      resolved.targetFillRect = fillBounds;\n    }\n  } else if (target && target.rect) {\n    resolved.targetRect = {\n      x: target.rect.x - ctx.state.rect.x,\n      y: target.rect.y - ctx.state.rect.y,\n      width: target.rect.width,\n      height: target.rect.height\n    };\n  }\n\n  return resolved;\n}\n\n/**\n * @typedef {object} component--brush-range-settings\n * @property {string} brush - Brush context to apply changes to\n * @property {string} scale - Scale to extract data from\n * @property {string} [direction=vertical] - Rendering direction [horizontal|vertical]\n * @property {object} [bubbles]\n * @property {boolean} [bubbles.show=true] - True to show label bubble, false otherwise\n * @property {string} [bubbles.align=start] - Where to anchor bubble [start|end]\n * @property {object} [target]\n * @property {string} [target.component] - Render matching overlay on target component\n * @property {string} [target.selector] - Instead of targeting a component, target one or more shapes\n * @property {string} [target.fillSelector] - Target a subset of the selector as fill area. Only applicable if `selector` property is set\n */\n\n/**\n * @typedef {object} component--brush-range-style\n * @property {object} [bubble]\n * @property {string} [bubble.fontSize]\n * @property {string} [bubble.fontFamily]\n * @property {string} [bubble.fill]\n * @property {string} [bubble.color]\n * @property {string} [bubble.stroke]\n * @property {number} [bubble.strokeWidth]\n * @property {number} [bubble.borderRadius]\n * @property {object} [line]\n * @property {string} [line.stroke]\n * @property {number} [line.strokeWidth]\n * @property {object} [target]\n * @property {string} [target.fill]\n * @property {number} [target.strokeWidth]\n * @property {number} [target.opacity]\n */\n\nconst brushRangeComponent = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    settings: {\n      bubbles: {\n        show: true,\n        align: 'start'\n      }\n    },\n    style: {\n      bubble: '$label-overlay',\n      line: '$shape-guide--inverted',\n      target: '$selection-area-target'\n    }\n  },\n  renderer: 'dom',\n  on: {\n    rangeStart(e) { this.start(e); },\n    rangeMove(e) { this.move(e); },\n    rangeEnd(e) { this.end(e); },\n    rangeClear(e) { this.clear(e); }\n  },\n  created() {\n    this.state = {\n      key: this.settings.key || 'brush-range'\n    };\n  },\n  beforeRender(opts) {\n    this.state.rect = opts.size;\n  },\n  render(h) {\n    const stngs = this.settings.settings;\n    this.state.direction = stngs.direction === 'vertical' ? VERTICAL : HORIZONTAL;\n    const offset = this.renderer.element().getBoundingClientRect();\n    const size = this.state.rect[this.state.direction === VERTICAL ? 'height' : 'width'];\n    let scale = scaleWithSize(this.chart.scale(stngs.scale), size);\n\n    const target = resolveTarget(this);\n    scale = target.scale ? target.scale : scale;\n    this.state.targetRect = target.targetRect;\n    this.state.targetFillRect = target.targetFillRect;\n    this.state.size = target.size === null ? size : target.size;\n\n    this.state.settings = stngs;\n    this.state.style = this.style;\n    this.state.offset = offset;\n    this.state.brush = stngs.brush;\n    this.state.brushInstance = this.chart.brush(this.state.brush);\n    this.state.renderer = this.renderer;\n    this.state.multi = !!stngs.multiple;\n    this.state.h = h;\n    this.state.cssCoord = {\n      offset: this.state.direction === VERTICAL ? 'top' : 'left',\n      coord: this.state.direction === VERTICAL ? 'y' : 'x',\n      pos: this.state.direction === VERTICAL ? 'deltaY' : 'deltaX'\n    };\n\n    if (!{}.hasOwnProperty.call(scale, 'norm')) { // Non-linear scale if norm method is unavailable\n      this.state.scale = linear();\n      this.state.scale.data = scale.data;\n      this.state.format = (v, r) => {\n        if (!rangesOverlap(scale.range(), r)) {\n          return '-';\n        }\n        return findClosestLabel(v, scale);\n      };\n      this.state.fauxBrushInstance = brushFactory();\n      this.state.findValues = valueRanges => findValues(valueRanges, scale);\n    } else {\n      this.state.fauxBrushInstance = null;\n      this.state.findValues = null;\n      this.state.scale = scale;\n      const scaleData = this.state.scale.data();\n      if (scaleData && scaleData.fields && scaleData.fields[0]) {\n        this.state.format = scaleData.fields[0].formatter();\n      }\n    }\n    return [];\n  },\n  start(e) {\n    start({\n      e,\n      state: this.state,\n      renderer: this.renderer,\n      ranges,\n      targetSize: TARGET_SIZE\n    });\n  },\n  end() {\n    if (!this.state.started) {\n      return;\n    }\n    end(this.state, ranges);\n    render(this.state);\n  },\n  move(e) {\n    if (!this.state.started) {\n      return;\n    }\n    move(this.state, e);\n    setRanges(this.state);\n    render(this.state);\n  },\n  clear() {\n    if (this.state.fauxBrushInstance) {\n      this.state.fauxBrushInstance.clear();\n    }\n    this.state.renderer.render([]);\n  }\n};\n\nexport default brushRangeComponent;\n","import {\n  getMoveDelta,\n  nodes\n} from './brush-range-node-builder';\nimport {\n  startArea,\n  moveArea,\n  endArea\n} from './brush-range-interaction';\nimport rangeCollection from '../../../core/brush/range-collection';\nimport {\n  TARGET_SIZE,\n  VERTICAL,\n  HORIZONTAL\n} from './brush-range-const';\n\nfunction render(state) {\n  state.renderer.render(nodes(state));\n}\n\nfunction ranges(state) {\n  return state.rc.ranges();\n}\n\nfunction shapesFromRange(state, brushRange) {\n  const shapeAt = {\n    x: state.direction ? brushRange.min + state.rect.x : state.rect.x,\n    y: state.direction ? state.rect.y : brushRange.min + state.rect.y,\n    width: state.direction ? brushRange.max - brushRange.min : state.rect.width + state.rect.x,\n    height: state.direction ? state.rect.height + state.rect.y : brushRange.max - brushRange.min\n  };\n  return state.chart.shapesAt(shapeAt, state.settings.brush);\n}\n\nfunction brushFromShape(state, newShapes) {\n  state.chart.brushFromShapes(newShapes, state.settings.brush);\n}\n\nfunction setRanges(state) {\n  const rs = state.ranges.map(r => ({ min: r.min, max: r.max }));\n\n  if (state.active.idx !== -1) {\n    if (state.active.mode === 'modify') {\n      rs[state.active.idx].min = Math.min(state.start, state.current);\n      rs[state.active.idx].max = Math.max(state.start, state.current);\n    } else {\n      const delta = getMoveDelta(state);\n      rs[state.active.idx].min = state.active.start + delta;\n      rs[state.active.idx].max = state.active.end + delta;\n    }\n  } else {\n    rs.push({\n      min: Math.min(state.start, state.current),\n      max: Math.max(state.start, state.current)\n    });\n  }\n\n  state.rc.set(rs);\n\n  const shapes = [];\n  rs.forEach((range) => {\n    shapes.push(...shapesFromRange(state, range));\n  });\n\n  brushFromShape(state, shapes);\n}\n\nfunction getBubbleLabel(state, value, range) {\n  const min = Math.min(...range);\n  const max = Math.max(...range);\n  const shapeAt = {\n    x: state.direction ? min + state.rect.x : state.rect.x,\n    y: state.direction ? state.rect.y : min + state.rect.y,\n    width: state.direction ? max - min : state.rect.width + state.rect.x,\n    height: state.direction ? state.rect.height + state.rect.y : max - min\n  };\n\n  const shapes = state.chart.shapesAt(shapeAt, state.settings.brush);\n\n  if (shapes.length === 0) {\n    return '-';\n  }\n\n  const labelShape = shapes.reduce((s0, s1) => {\n    // Min value\n    const bounds0 = s0.bounds;\n    const bounds1 = s1.bounds;\n\n    if (value === min) {\n      if (bounds0[state.cssCoord.coord] <= bounds1[state.cssCoord.coord]) {\n        return s0;\n      }\n      return s1;\n    }\n\n    // Max value\n    if (bounds0[state.cssCoord.coord] + bounds0[state.cssCoord.area] >= bounds1[state.cssCoord.coord] + bounds1[state.cssCoord.area]) {\n      return s0;\n    }\n    return s1;\n  });\n\n  const compConfig = state.settings.brush.components.reduce((c0, c1) => (c0.key === labelShape.key ? c0 : c1));\n\n  if (typeof state.settings.bubbles.label === 'function') {\n    return state.settings.bubbles.label(labelShape.data);\n  }\n  if (Array.isArray(compConfig.data) && compConfig.data.length) {\n    return labelShape.data[compConfig.data[0]].label;\n  }\n\n  return labelShape.data && labelShape.data.label ? labelShape.data.label : '-';\n}\n\n/**\n * @typedef {object} component--brush-area-dir-settings\n * @property {object} brush\n * @property {array} brush.components\n * @property {object} brush.components[].key - Component key\n * @property {object} brush.components[].contexts[] - Brush context to apply changes to\n * @property {object} [brush.components[].data] - Data reference\n * @property {object} [brush.components[].action] - Type of brush action\n * @property {string} [direction=vertical] - Rendering direction [horizontal|vertical]\n * @property {object} [bubbles]\n * @property {boolean} [bubbles.show=true] - True to show label bubble, false otherwise\n * @property {string} [bubbles.align=start] - Where to anchor bubble [start|end]\n * @property {function} [bubbles.label] - Callback function for the labels\n * @property {object} [target]\n * @property {string} [target.component] - Render matching overlay on target component\n */\n\n/**\n * @typedef {object} component--brush-area-dir-style\n * @property {object} [bubble]\n * @property {string} [bubble.fontSize]\n * @property {string} [bubble.fontFamily]\n * @property {string} [bubble.fill]\n * @property {string} [bubble.color]\n * @property {string} [bubble.stroke]\n * @property {number} [bubble.strokeWidth]\n * @property {number} [bubble.borderRadius]\n * @property {object} [line]\n * @property {string} [line.stroke]\n * @property {number} [line.strokeWidth]\n * @property {object} [target]\n * @property {string} [target.fill]\n * @property {number} [target.strokeWidth]\n * @property {number} [target.opacity]\n */\n\nconst brushAreaDirectionalComponent = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    settings: {\n      bubbles: {\n        show: true,\n        align: 'start'\n      }\n    },\n    style: {\n      bubble: '$label-overlay',\n      line: '$shape-guide--inverted',\n      target: '$selection-area-target'\n    }\n  },\n  renderer: 'dom',\n  on: {\n    areaStart(e) { this.start(e); },\n    areaMove(e) { this.move(e); },\n    areaEnd(e) { this.end(e); },\n    areaClear(e) { this.clear(e); }\n  },\n  created() {\n    this.rect = {\n      x: 0, y: 0, width: 0, height: 0\n    };\n    this.state = {\n      key: this.settings.key || 'brush-area-dir'\n    };\n  },\n  beforeRender(opts) {\n    this.rect = opts.size;\n  },\n  render(h) {\n    this.state.rect = this.rect;\n\n    const stngs = this.settings.settings;\n    const direction = stngs.direction === 'vertical' ? VERTICAL : HORIZONTAL;\n    const size = this.state.rect[direction === VERTICAL ? 'height' : 'width'];\n    const offset = this.renderer.element().getBoundingClientRect();\n\n    const target = stngs.target ? this.chart.component(stngs.target.component) : null;\n    if (target && target.rect) {\n      this.state.targetRect = {\n        x: (target.rect.x - this.rect.x),\n        y: (target.rect.y - this.rect.y),\n        width: target.rect.width,\n        height: target.rect.height\n      };\n    } else {\n      this.state.targetRect = null;\n    }\n    this.state.style = this.style;\n    this.state.chart = this.chart;\n    this.state.direction = direction;\n    this.state.settings = stngs;\n    this.state.offset = offset;\n    this.state.rc = rangeCollection();\n    this.state.renderer = this.renderer;\n    this.state.multi = !!stngs.multiple;\n    this.state.h = h;\n    this.state.size = size;\n    this.state.cssCoord = {\n      offset: this.state.direction === VERTICAL ? 'top' : 'left',\n      coord: this.state.direction === VERTICAL ? 'y' : 'x',\n      pos: this.state.direction === VERTICAL ? 'deltaY' : 'deltaX',\n      area: this.state.direction === VERTICAL ? 'height' : 'width'\n    };\n\n    this.state.format = function getFormat(v, r) {\n      return getBubbleLabel(this, v, r);\n    };\n\n    return [];\n  },\n  start(e) {\n    startArea({\n      e,\n      state: this.state,\n      renderer: this.renderer,\n      ranges,\n      targetSize: TARGET_SIZE\n    });\n  },\n  end() {\n    if (!this.state.started) {\n      return;\n    }\n    endArea(this.state, ranges);\n    render(this.state);\n  },\n  move(e) {\n    if (!this.state.started) {\n      return;\n    }\n    moveArea(this.state, e);\n    setRanges(this.state);\n    render(this.state);\n  },\n  clear() {\n    if (this.state.rc) {\n      this.state.rc.clear();\n    }\n    this.state.renderer.render([]);\n  }\n};\n\nexport default brushAreaDirectionalComponent;\n","import rangeBrushComponent from './brush-range';\nimport brushAreaDirectionalComponent from './brush-area-dir';\n\nexport default function rangeBrush(picasso) {\n  picasso.component('brush-range', rangeBrushComponent);\n  picasso.component('brush-area-dir', brushAreaDirectionalComponent);\n}\n","import { scaleWithSize } from '../../scales';\n\nconst FILL = '#ccc';\nconst OPACITY = 1;\n\nfunction ranges(state) {\n  const brush = state.brush;\n  if (!brush || !brush.isActive()) {\n    return [];\n  }\n\n  const sourceData = state.scale.data();\n  const sourceFields = sourceData ? sourceData.fields || [] : [];\n  const sources = sourceFields.map(field => field.id());\n  const rangeBrush = brush.brushes().filter(f => f.type === 'range' && sources.indexOf(f.id) !== -1)[0];\n\n  if (!rangeBrush) {\n    return [];\n  }\n\n  return rangeBrush.brush.ranges();\n}\n\nfunction shapes(state) {\n  const isVertical = state.direction === 'vertical';\n  const size = state.rect[isVertical ? 'height' : 'width'];\n  const otherSize = state.rect[isVertical ? 'width' : 'height'];\n  return ranges(state).map((range) => {\n    const start = state.scale(range.min) * size;\n    const end = state.scale(range.max) * size;\n    const low = Math.min(start, end);\n    const s = Math.abs(start - end);\n    return {\n      type: 'rect',\n      fill: state.fill,\n      opacity: state.opacity,\n      x: isVertical ? 0 : low,\n      width: isVertical ? otherSize : s,\n      y: isVertical ? low : 0,\n      height: isVertical ? s : otherSize\n    };\n  });\n}\n\nfunction onStart(state) {\n  state.renderer.render(shapes(state));\n}\n\nfunction onUpdate(state) {\n  state.renderer.render(shapes(state));\n}\n\nfunction onEnd(state) {\n  state.renderer.render(shapes(state));\n}\n\nfunction setup(state, brush, scale, renderer) {\n  state.brush = brush;\n\n  if (!brush) {\n    return;\n  }\n\n  function start() {\n    onStart(state);\n  }\n\n  function update() {\n    onUpdate(state);\n  }\n\n  function end() {\n    onEnd(state);\n  }\n\n  brush.on('start', start);\n  brush.on('update', update);\n  brush.on('end', end);\n\n  state.start = start;\n  state.update = update;\n  state.end = end;\n  state.brush = brush;\n  state.scale = scale;\n  state.renderer = renderer;\n}\n\nfunction teardown(state) {\n  if (state.brush) {\n    state.brush.removeListener('start', state.start);\n    state.brush.removeListener('update', state.update);\n    state.brush.removeListener('end', state.end);\n  }\n\n  state.start = undefined;\n  state.update = undefined;\n  state.end = undefined;\n  state.brush = undefined;\n  state.scale = undefined;\n  state.renderer = undefined;\n}\n\n/**\n * @typedef {object} component--range\n */\n\n/**\n * @typedef {object} component--range.settings\n * @property {string} brush - Name of brush instance\n * @property {string} scale - Name of a scale\n * @property {string} [direction='horizontal'] - Direction of the brush\n * @property {string} [fill='#ccc'] - Fill color\n * @property {number} [opacity=1] - Layer opacity\n */\n\nconst rangeComponent = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    settings: {}\n  },\n  preferredSize: () => 50,\n  created() {\n    this.rect = {\n      x: 0, y: 0, width: 0, height: 0\n    };\n    this.state = {};\n  },\n  beforeRender(opts) {\n    this.rect = opts.size;\n  },\n  render() {\n    const stngs = this.settings.settings;\n    const brush = this.chart.brush(stngs.brush);\n    const direction = stngs.direction || 'horizontal';\n    const distance = direction === 'horizontal' ? this.rect.width : this.rect.height;\n    const scale = scaleWithSize(this.chart.scale(stngs.scale), distance);\n\n    teardown(this.state);\n    setup(this.state, brush, scale, this.renderer);\n\n    this.state.rect = this.rect;\n    this.state.fill = stngs.fill || FILL;\n    this.state.opacity = typeof stngs.opacity !== 'undefined' ? stngs.opacity : OPACITY;\n    this.state.direction = direction;\n\n    return shapes(this.state);\n  },\n  beforeDestroy() {\n    teardown(this.state);\n  }\n};\n\nexport default rangeComponent;\n","import rangeBrushComponent from './range';\n\nexport default function rangeBrush(picasso) {\n  picasso.component('range', rangeBrushComponent);\n}\n","import { sqrDistance } from '../../math/vector';\n\nfunction getPoint(rendererBounds, event) {\n  const eventOffsetX = event.center.x;\n  const eventOffsetY = event.center.y;\n  return {\n    x: eventOffsetX - rendererBounds.left,\n    y: eventOffsetY - rendererBounds.top\n  };\n  // return {\n  //   x: Math.min(Math.max(eventOffsetX - rendererBounds.left, 0), rendererBounds.width),\n  //   y: Math.min(Math.max(eventOffsetY - rendererBounds.top, 0), rendererBounds.height)\n  // };\n}\n\nfunction withinThreshold(p, state, settings) {\n  const startPoint = state.points[0];\n  const sqrDist = sqrDistance(p, startPoint);\n  return sqrDist < Math.pow(settings.settings.snapIndicator.threshold, 2);\n}\n\nfunction appendToPath(state, p) {\n  if (state.path.d == null) {\n    state.path.d = `M${p.x} ${p.y} `;\n  } else {\n    state.path.d += `L${p.x} ${p.y} `;\n  }\n  state.points.push(p);\n}\n\nfunction render(state, renderer) {\n  const nodes = [\n    state.startPoint,\n    state.path,\n    state.snapIndicator\n  ].filter(node => node.visible);\n\n  renderer.render(nodes);\n}\n\nfunction setSnapIndictor({ state, start = null, end = null }) {\n  if (start !== null) {\n    state.snapIndicator.x1 = start.x;\n    state.snapIndicator.y1 = start.y;\n  }\n  if (end !== null) {\n    state.snapIndicator.x2 = end.x;\n    state.snapIndicator.y2 = end.y;\n  }\n}\n\nfunction showSnapIndicator(state, show) {\n  state.snapIndicator.visible = show;\n}\n\nfunction setStartPoint(state, p) {\n  state.startPoint.cx = p.x;\n  state.startPoint.cy = p.y;\n}\n\nfunction getComponentDelta(chart, rendererBounds) {\n  const chartBounds = chart.element.getBoundingClientRect();\n  return {\n    x: rendererBounds.left - chartBounds.left,\n    y: rendererBounds.top - chartBounds.top\n  };\n}\n\nfunction doLineBrush(state, chart) {\n  if (state.active) {\n    const p1 = state.points[state.points.length - 2];\n    const p2 = state.points[state.points.length - 1];\n    state.lineBrushShape.x1 = p1.x + state.componentDelta.x;\n    state.lineBrushShape.y1 = p1.y + state.componentDelta.y;\n    state.lineBrushShape.x2 = p2.x + state.componentDelta.x;\n    state.lineBrushShape.y2 = p2.y + state.componentDelta.y;\n\n    const shapes = chart.shapesAt(state.lineBrushShape, { components: state.brushConfig });\n    chart.brushFromShapes(shapes, { components: state.brushConfig });\n  }\n}\n\nfunction doPolygonBrush(state, chart) {\n  if (state.active) {\n    const dx = state.componentDelta.x;\n    const dy = state.componentDelta.y;\n    const vertices = state.points.map(p => ({\n      x: p.x + dx,\n      y: p.y + dy\n    }));\n\n    const shapes = chart.shapesAt({ vertices }, { components: state.brushConfig });\n    chart.brushFromShapes(shapes, { components: state.brushConfig });\n  }\n}\n\nfunction initPath(stgns) {\n  return {\n    visible: true,\n    type: 'path',\n    d: null,\n    fill: stgns.fill,\n    stroke: stgns.stroke,\n    strokeWidth: stgns.strokeWidth,\n    opacity: stgns.opacity,\n    strokeDasharray: stgns.strokeDasharray,\n    collider: {\n      type: null\n    }\n  };\n}\n\nfunction initSnapIndicator(stgns) {\n  return {\n    visible: false,\n    type: 'line',\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    strokeDasharray: stgns.strokeDasharray,\n    stroke: stgns.stroke,\n    strokeWidth: stgns.strokeWidth,\n    opacity: stgns.opacity,\n    collider: {\n      type: null\n    }\n  };\n}\n\nfunction initStartPoint(stgns) {\n  return {\n    visible: true,\n    type: 'circle',\n    cx: 0,\n    cy: 0,\n    r: stgns.r,\n    fill: stgns.fill,\n    opacity: stgns.opacity,\n    stroke: stgns.stroke,\n    strokeWidth: stgns.strokeWidth,\n    collider: {\n      type: null\n    }\n  };\n}\n\nfunction getBrushConfig(settings) {\n  return settings.settings.brush.components.map(b => (\n    {\n      key: b.key,\n      contexts: b.contexts || ['lassoBrush'],\n      data: b.data || [''],\n      action: b.action || 'add'\n    }));\n}\n\nfunction endBrush(state, chart) {\n  state.brushConfig.forEach((config) => {\n    config.contexts.forEach((context) => {\n      chart.brush(context).end();\n    });\n  });\n}\n\nfunction resetState() {\n  return {\n    points: [],\n    active: false,\n    path: null,\n    snapIndicator: null,\n    startPoint: null,\n    rendererBounds: null,\n    componentDelta: null,\n    brushConfig: null,\n    lineBrushShape: {\n      x1: 0, y1: 0, x2: 0, y2: 0\n    } // Keep a single shape instance to avoid instantiating a new object on each lookup\n  };\n}\n\n/**\n * @typedef {object} component--brush-lasso\n */\n\n/**\n * @typedef {object} component--brush-lasso-settings\n * @property {object} [lasso] - Lasso style settings\n * @property {string} [lasso.fill='transparent']\n * @property {string} [lasso.stroke='black']\n * @property {number} [lasso.strokeWidth=2]\n * @property {number} [lasso.opacity=0.7]\n * @property {number} [lasso.strokeDasharray]\n * @property {object} [snapIndicator] - Snap indicator settings\n * @property {number} [snapIndicator.threshold=75] - The distance in pixel to show the snap indicator, if less then threshold the indicator is dispalyed\n * @property {string} [snapIndicator.strokeDasharray='5, 5']\n * @property {string} [snapIndicator.stroke='black']\n * @property {number} [snapIndicator.strokeWidth=2]\n * @property {number} [snapIndicator.opacity=0.5]\n * @property {object} [startPoint] - Start point style settings\n * @property {number} [startPoint.r=10] - Circle radius\n * @property {string} [startPoint.stroke='green']\n * @property {number} [startPoint.strokeWidth=1]\n * @property {number} [startPoint.opacity=1]\n * @property {object} [brush]\n * @property {object[]} brush.components - Array of components to brush on.\n * @property {string} [brush.components[].component.key] - Component key\n * @property {string[]} [brush.components[].component.contexts=['brushLasso']] - Name of the brushing contexts to affect\n * @property {string[]} [brush.components[].component.data=['']] - The mapped data properties to add to the brush\n * @property {string} [brush.components[].component.action='add'] - Type of action to respond with\n */\n\nconst brushLassoComponent = {\n  require: ['chart', 'renderer', 'settings'],\n  defaultSettings: {\n    displayOrder: 0,\n    settings: {\n      brush: {\n        components: []\n      },\n      snapIndicator: {\n        threshold: 75,\n        strokeDasharray: '5, 5',\n        stroke: 'black',\n        strokeWidth: 2,\n        opacity: 0.5\n      },\n      lasso: {\n        fill: 'transparent',\n        stroke: 'black',\n        strokeWidth: 2,\n        opacity: 0.7,\n        strokeDasharray: '20, 10'\n      },\n      startPoint: {\n        r: 10,\n        fill: 'green',\n        stroke: 'black',\n        strokeWidth: 1,\n        opacity: 1\n      }\n    }\n  },\n  on: {\n    lassoStart(e) {\n      this.start(e);\n    },\n    lassoEnd(e) {\n      this.end(e);\n    },\n    lassoMove(e) {\n      this.move(e);\n    },\n    lassoCancel() {\n      this.cancel();\n    }\n  },\n  created() {\n    this.state = resetState();\n  },\n  start(e) {\n    this.state.active = true;\n    this.state.path = initPath(this.settings.settings.lasso);\n    this.state.snapIndicator = initSnapIndicator(this.settings.settings.snapIndicator);\n    this.state.startPoint = initStartPoint(this.settings.settings.startPoint);\n    this.state.rendererBounds = this.renderer.element().getBoundingClientRect();\n    this.state.componentDelta = getComponentDelta(this.chart, this.state.rendererBounds);\n    this.state.brushConfig = getBrushConfig(this.settings);\n\n    const p = getPoint(this.state.rendererBounds, e);\n\n    appendToPath(this.state, p);\n    setSnapIndictor({ state: this.state, start: p });\n    setStartPoint(this.state, p);\n  },\n  move(e) {\n    if (!this.state.active) {\n      return;\n    }\n\n    const p = getPoint(this.state.rendererBounds, e);\n\n    if (withinThreshold(p, this.state, this.settings)) {\n      showSnapIndicator(this.state, true);\n    } else {\n      showSnapIndicator(this.state, false);\n    }\n\n    appendToPath(this.state, p);\n    setSnapIndictor({ state: this.state, end: p });\n    render(this.state, this.renderer);\n\n    doLineBrush(\n      this.state,\n      this.chart\n    );\n  },\n  end(e) {\n    if (!this.state.active) {\n      return;\n    }\n\n    showSnapIndicator(this.state, false);\n    const p = getPoint(this.state.rendererBounds, e);\n    const shouldSnap = withinThreshold(p, this.state, this.settings);\n\n    if (shouldSnap) {\n      doPolygonBrush(this.state, this.chart);\n    }\n\n    this.state = resetState();\n    this.renderer.render([]);\n  },\n  cancel() {\n    if (!this.state.active) {\n      return;\n    }\n    endBrush(this.state, this.chart);\n    this.state = resetState();\n    this.renderer.render([]);\n  },\n  render() {\n    // Do nothing\n  }\n};\n\nexport default brushLassoComponent;\n","import lassoBrushComponent from './brush-lasso';\n\nexport default function lassoBrush(picasso) {\n  picasso.component('brush-lasso', lassoBrushComponent);\n}\n","import extend from 'extend';\nimport {\n  testRectRect\n} from '../../../math/narrow-phase-collision';\n\nconst LINE_HEIGHT = 1.5;\nconst PADDING = 4;\n// const DOUBLE_PADDING = PADDING * 2;\n\nfunction cbContext(node, chart) {\n  return {\n    node,\n    data: node.data,\n    scale: chart.scale,\n    formatter: chart.formatter,\n    dataset: chart.dataset\n  };\n}\n\nexport function placeTextInRect(rect, text, opts) {\n  const label = {\n    type: 'text',\n    text,\n    maxWidth: opts.rotate ? rect.height : rect.width,\n    x: 0,\n    y: rect.y,\n    dx: 0,\n    dy: 0,\n    fill: opts.fill,\n    anchor: opts.rotate ? 'end' : 'start',\n    baseline: 'alphabetical',\n    fontSize: `${opts.fontSize}px`,\n    fontFamily: opts.fontFamily\n  };\n\n  const textMetrics = opts.textMetrics;\n\n  if (rect.width < opts.fontSize || rect.height < textMetrics.height) {\n    return false;\n  }\n\n  if (opts.rotate) {\n    const wiggleHor = Math.max(0, rect.width - (textMetrics.height / (LINE_HEIGHT * 0.8)));\n    const wiggleVert = Math.max(0, rect.height - textMetrics.width);\n    label.x = rect.x + (textMetrics.height / LINE_HEIGHT) + (opts.align * wiggleHor);\n    label.y = rect.y + (opts.justify * wiggleVert);\n    label.transform = `rotate(-90, ${label.x + label.dx}, ${label.y + label.dy})`;\n  } else {\n    const wiggleWidth = Math.max(0, rect.width - textMetrics.width);\n    const wiggleHeight = Math.max(0, rect.height - (textMetrics.height / (LINE_HEIGHT * 0.8))); // 0.8 - MAGIC NUMBER - need to figure out why this works the best\n    label.x = rect.x + (opts.align * wiggleWidth);\n    label.y = rect.y + (textMetrics.height / LINE_HEIGHT) + (opts.justify * wiggleHeight);\n  }\n\n  return label;\n}\n\nfunction limitBounds(bounds, view) {\n  const minY = Math.max(0, Math.min(bounds.y, view.height));\n  const maxY = Math.max(0, Math.min(bounds.y + bounds.height, view.height));\n  const minX = Math.max(0, Math.min(bounds.x, view.width));\n  const maxX = Math.max(0, Math.min(bounds.x + bounds.width, view.width));\n  bounds.x = minX;\n  bounds.width = maxX - minX;\n  bounds.y = minY;\n  bounds.height = maxY - minY;\n}\n\nfunction pad(bounds, padding) {\n  bounds.x += padding;\n  bounds.width -= (padding * 2);\n  bounds.y += padding;\n  bounds.height -= (padding * 2);\n}\n\nexport function getBarRect({\n  bar, view, direction, position, padding = PADDING\n}) {\n  const bounds = {};\n  extend(bounds, bar);\n\n  if (!position || position === 'inside') {\n    // do nothing\n  } else if (direction === 'up' || direction === 'down') {\n    const start = Math.max(0, Math.min(bar.y, view.height));\n    const end = Math.max(0, Math.min(bar.y + bar.height, view.height));\n\n    if ((position === 'outside' && direction === 'up') || (position === 'opposite' && direction === 'down')) {\n      bounds.y = 0;\n      bounds.height = start;\n    } else if ((position === 'outside' && direction === 'down') || (position === 'opposite' && direction === 'up')) {\n      bounds.y = end;\n      bounds.height = view.height - end;\n    }\n  } else {\n    const start = Math.max(0, Math.min(bar.x, view.width));\n    const end = Math.max(0, Math.min(bar.x + bar.width, view.width));\n\n    if ((position === 'outside' && direction === 'left') || (position === 'opposite' && direction === 'right')) {\n      bounds.x = 0;\n      bounds.width = start;\n    } else if ((position === 'outside' && direction === 'right') || (position === 'opposite' && direction === 'left')) {\n      bounds.x = end;\n      bounds.width = view.width - end;\n    }\n  }\n\n  limitBounds(bounds, view);\n  pad(bounds, padding);\n\n  return bounds;\n}\n\nexport function findBestPlacement({\n  direction,\n  fitsHorizontally,\n  // lblStngs,\n  measured,\n  node,\n  orientation,\n  // placements,\n  placementSettings,\n  rect\n}, barRect = getBarRect) {\n  let largest;\n  let bounds;\n  let placement;\n  let testBounds;\n  let p;\n  const boundaries = [];\n  for (p = 0; p < placementSettings.length; p++) {\n    placement = placementSettings[p];\n    testBounds = barRect({\n      bar: node.localBounds,\n      view: rect,\n      direction,\n      position: placement.position\n    });\n    boundaries.push(testBounds);\n    largest = !p || testBounds.height > largest.height ? testBounds : largest;\n\n    if (orientation === 'v' && ((fitsHorizontally && testBounds.height > measured.height * LINE_HEIGHT)\n      || (!fitsHorizontally && testBounds.height > measured.width))) {\n      bounds = testBounds;\n      break;\n    } else if (orientation === 'h' && (testBounds.height > measured.height)\n      && (testBounds.width > measured.width)) {\n      bounds = testBounds;\n      break;\n    }\n  }\n\n  // fallback strategy - place the text in the largest rectangle\n  if (!bounds) {\n    bounds = largest;\n    p = boundaries.indexOf(bounds);\n  }\n  placement = placementSettings[p];\n\n  return { bounds, placement };\n}\n\nexport function placeInBars(\n  {\n    chart,\n    targetNodes,\n    rect,\n    fitsHorizontally,\n    collectiveOrientation\n  }, findPlacement = findBestPlacement,\n  placer = placeTextInRect\n) {\n  const labels = [];\n  let label;\n  let target;\n  let node;\n  let text;\n  let justify;\n  let bounds;\n  let fill;\n  let measured;\n  let direction;\n  let lblStngs;\n  let placement;\n  let placements;\n  let arg;\n  let orientation;\n\n  for (let i = 0, len = targetNodes.length; i < len; i++) {\n    bounds = null;\n    target = targetNodes[i];\n    node = target.node;\n    arg = cbContext(node, chart);\n    direction = target.direction;\n    orientation = direction === 'left' || direction === 'right' ? 'h' : 'v';\n    for (let j = 0; j < target.texts.length; j++) {\n      text = target.texts[j];\n      if (!text) {\n        continue;\n      }\n\n      lblStngs = target.labelSettings[j];\n      measured = target.measurements[j];\n      placements = lblStngs.placements;\n\n      const bestPlacement = findPlacement({\n        direction,\n        fitsHorizontally,\n        lblStngs,\n        measured,\n        node,\n        orientation,\n        placements,\n        placementSettings: target.placementSettings[j],\n        rect\n      });\n\n      bounds = bestPlacement.bounds;\n      placement = bestPlacement.placement;\n\n      if (bounds && placement) {\n        justify = placement.justify;\n        fill = typeof placement.fill === 'function' ? placement.fill(arg, i) : placement.fill;\n        const linkData = typeof lblStngs.linkData === 'function' ? lblStngs.linkData(arg, i) : undefined;\n\n        if (direction === 'up') {\n          justify = 1 - justify;\n        }\n        if (placement.position === 'opposite') {\n          justify = 1 - justify;\n        }\n\n        label = placer(bounds, text, {\n          fill,\n          justify: orientation === 'h' ? placement.align : justify,\n          align: orientation === 'h' ? justify : placement.align,\n          fontSize: lblStngs.fontSize,\n          fontFamily: lblStngs.fontFamily,\n          textMetrics: measured,\n          rotate: !(collectiveOrientation === 'h' || fitsHorizontally)\n        });\n\n        if (label) {\n          if (typeof linkData !== 'undefined') {\n            label.data = linkData;\n          }\n          labels.push(label);\n        }\n      }\n    }\n  }\n\n  return labels;\n}\n\nexport function precalculate({\n  nodes,\n  rect,\n  chart,\n  labelSettings,\n  placementSettings,\n  settings,\n  renderer\n}) {\n  const labelStruct = {};\n  const targetNodes = [];\n  let target;\n  let fitsHorizontally = true;\n  let hasHorizontalDirection = false;\n  let node;\n  let text;\n  let bounds;\n  let measured;\n  let lblStng;\n  let direction;\n\n  for (let i = 0; i < nodes.length; i++) {\n    node = nodes[i];\n    bounds = node.localBounds;\n    if (!testRectRect(bounds, rect)) {\n      continue;\n    }\n    let arg = cbContext(node, chart);\n\n    target = {\n      node,\n      texts: [],\n      measurements: [],\n      labelSettings: [],\n      placementSettings: []\n      // direction: 'up'\n    };\n\n    for (let j = 0; j < labelSettings.length; j++) {\n      lblStng = labelSettings[j];\n      text = typeof lblStng.label === 'function' ? lblStng.label(arg, i) : '';\n      if (!text) {\n        continue; // eslint-ignore-line\n      }\n      direction = typeof settings.direction === 'function' ? settings.direction(arg, i) : settings.direction || 'up';\n      hasHorizontalDirection = hasHorizontalDirection || direction === 'left' || direction === 'right';\n\n      labelStruct.fontFamily = lblStng.fontFamily;\n      labelStruct.fontSize = `${lblStng.fontSize}px`;\n      labelStruct.text = text;\n\n      measured = renderer.measureText(labelStruct);\n      target.measurements.push(measured);\n      target.texts.push(text);\n      target.labelSettings.push(lblStng);\n      target.placementSettings.push(placementSettings[j]);\n      target.direction = direction;\n      fitsHorizontally = fitsHorizontally && measured.width <= (bounds.width - (PADDING * 2));\n    }\n\n    targetNodes.push(target);\n  }\n\n  return {\n    targetNodes,\n    fitsHorizontally,\n    hasHorizontalDirection\n  };\n}\n\n/**\n * @typedef {object} component--labels~label-strategy\n *\n */\n\n/**\n * @typedef {object} component--labels~label-strategy.settings\n * @property {string|function} [direction='up'] - The direction in which the bars are growing: 'up', 'down', 'right' or 'left'.\n * @property {string} [fontFamily='Arial']\n * @property {number} [fontSize=12]\n * @property {Array<object>} labels\n * @property {string|function} labels[].label - The text value\n * @property {function} labels[].linkData - Link data to the label\n * @property {Array<object>} labels[].placements\n * @property {string} labels[].placements[].position - 'inside' | 'outside' | 'opposite'\n * @property {number} [labels[].placements[].justify=0] - Placement of the label along the direction of the bar\n * @property {number} [labels[].placements[].align=0.5] - Placement of the label along the perpendicular direction of the bar\n * @property {string} [labels[].placements[].fill='#333'] - Color of the label\n */\n\nexport function bars({\n  settings,\n  chart,\n  nodes,\n  rect,\n  renderer,\n  style\n}, placer = placeInBars) {\n  const defaults = extend({\n    fontSize: 12,\n    fontFamily: 'Arial',\n    align: 0.5,\n    justify: 0,\n    fill: '#333'\n  }, style.label);\n\n  defaults.fontSize = parseInt(defaults.fontSize, 10);\n\n  const labelSettings = settings.labels.map(labelSetting => extend({}, defaults, settings, labelSetting));\n\n  const placementSettings = settings.labels.map(labelSetting => labelSetting.placements.map(placement => extend({}, defaults, settings, labelSetting, placement)));\n\n  const {\n    fitsHorizontally,\n    hasHorizontalDirection,\n    targetNodes\n  } = precalculate({\n    nodes,\n    chart,\n    renderer,\n    settings,\n    rect,\n    labelSettings,\n    placementSettings\n  });\n\n  return placer({\n    chart,\n    targetNodes,\n    stngs: settings,\n    rect,\n    fitsHorizontally,\n    collectiveOrientation: hasHorizontalDirection ? 'h' : 'v'\n  });\n}\n","import extend from 'extend';\nimport {\n  testCircleRect,\n  testRectLine\n} from '../../../math/narrow-phase-collision';\nimport { rectContainsRect } from '../../../math/intersection';\n\nfunction normalize(angle) {\n  const PI2 = Math.PI * 2;\n  return ((angle % PI2) + PI2) % PI2; // normalize\n}\n\nfunction pad(bounds, padding) {\n  bounds.x += padding;\n  bounds.width -= (padding * 2);\n  bounds.y += padding;\n  bounds.height -= (padding * 2);\n}\n\nfunction getTopLeftBounds(bounds) {\n  const x = bounds.x;\n  const y = bounds.y - (bounds.height / 2);\n\n  return {\n    x,\n    y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\n// assume 0 <= angle < (PI / 2)\nfunction getLineCircleIntersection(radius, offset, angle) {\n  let { x, y } = offset;\n\n  if ((x * x) + (y * y) > radius * radius) { return null; }\n\n  let dx = Math.sin(angle);\n  let dy = Math.cos(angle);\n  let D = (x * dy) - (y * dx);\n\n  let d = (radius * radius) - (D * D);\n  if (d < 0) {\n    return null;\n  }\n  let sqrtD = Math.sqrt(d);\n  return {\n    x: (D * dy) + (dx * sqrtD),\n    y: -(D * dx) + (dy * sqrtD)\n  };\n}\n\n// assume 0 <= angle < (PI * 2)\nfunction getRectFromCircleIntersection({ radius, size, angle }) {\n  let { width, height } = size;\n  let lineOffset = { x: width / 2, y: height / 2 };\n  let section = Math.floor(angle / (Math.PI / 2));\n  let intersection;\n  let offset;\n  switch (section) {\n    case 0:\n      intersection = getLineCircleIntersection(radius, lineOffset, angle);\n      if (!intersection) { return null; }\n      intersection.y *= -1;\n      offset = { x: -width, y: 0 };\n      break;\n    case 1:\n      intersection = getLineCircleIntersection(radius, lineOffset, Math.PI - angle);\n      if (!intersection) { return null; }\n      offset = { x: -width, y: -height };\n      break;\n    case 2:\n      intersection = getLineCircleIntersection(radius, lineOffset, angle - Math.PI);\n      if (!intersection) { return null; }\n      intersection.x *= -1;\n      offset = { x: 0, y: -height };\n      break;\n    case 3:\n      intersection = getLineCircleIntersection(radius, lineOffset, (2 * Math.PI) - angle);\n      if (!intersection) { return null; }\n      intersection.x *= -1;\n      intersection.y *= -1;\n      offset = { x: 0, y: 0 };\n      break;\n    default:\n      throw new Error('invalid angle');\n  }\n  let bounds = {\n    x: intersection.x + offset.x,\n    y: intersection.y + offset.y,\n    width,\n    height\n  };\n  return bounds;\n}\n\nfunction getHorizontalInsideSliceRect({ slice, padding, measured }) {\n  let {\n    start, end, innerRadius, outerRadius\n  } = slice;\n  const middle = normalize((start + end) / 2);\n\n  let size = {\n    width: measured.width + (padding * 2),\n    height: measured.height + (padding * 2)\n  };\n\n  let bounds = getRectFromCircleIntersection({\n    radius: outerRadius,\n    size,\n    angle: middle\n  });\n\n  if (!bounds) { return null; }\n\n  bounds.baseline = 'top';\n\n  let startLine = {\n    x1: 0, y1: 0, x2: Math.sin(start) * outerRadius, y2: -Math.cos(start) * outerRadius\n  };\n  if (testRectLine(bounds, startLine)) { return null; }\n  let endLine = {\n    x1: 0, y1: 0, x2: Math.sin(end) * outerRadius, y2: -Math.cos(end) * outerRadius\n  };\n  if (testRectLine(bounds, endLine)) { return null; }\n  let circle = { cx: 0, cy: 0, r: innerRadius };\n  if (testCircleRect(circle, bounds)) { return null; }\n\n  pad(bounds, padding);\n\n  return bounds;\n}\n\n// TODO: this case can support a justify setting\nfunction getRotatedInsideSliceRect({ slice, measured, padding }) {\n  let {\n    start, end, innerRadius, outerRadius\n  } = slice;\n\n  let maxWidth = outerRadius - innerRadius - (padding * 2);\n  let size = end - start;\n  if (size < Math.PI) {\n    let x = ((measured.height / 2) + padding) / Math.tan(size / 2);\n    if (x > innerRadius) {\n      maxWidth = outerRadius - x - (padding * 2);\n    }\n  }\n  if (maxWidth < 0) {\n    return null;\n  }\n\n  const middle = normalize((start + end) / 2);\n  let r = outerRadius - padding;\n  let bounds = {\n    x: Math.sin(middle) * r,\n    y: -Math.cos(middle) * r,\n    width: maxWidth,\n    height: measured.height\n  };\n  if (middle < Math.PI) {\n    bounds.angle = middle - (Math.PI / 2);\n    bounds.anchor = 'end';\n  } else {\n    bounds.angle = middle + (Math.PI / 2);\n    bounds.anchor = 'start';\n  }\n  return bounds;\n}\n\n\nfunction getRotatedOusideSliceRect({\n  slice, measured, padding, view\n}) {\n  let {\n    start, end, outerRadius, offset\n  } = slice;\n  let r = outerRadius + padding;\n  let size = end - start;\n  if (size < Math.PI) {\n    let minR = ((measured.height / 2) + padding) / Math.tan(size / 2);\n    if (minR > r) {\n      return null;\n    }\n  }\n  const middle = normalize((start + end) / 2);\n  let x = Math.sin(middle) * r;\n  let y = -Math.cos(middle) * r;\n\n  let maxWidth = measured.width;\n  let v = middle % Math.PI;\n  if (v > Math.PI / 2) {\n    v = Math.PI - v;\n  }\n  if (Math.cos(v) > 0.001) {\n    let edge = y < 0 ? view.y : view.y + view.height;\n    let d = Math.abs(edge - offset.y);\n    let w = (d / Math.cos(v)) - (Math.tan(v) * (measured.height / 2)) - (padding * 2) - outerRadius;\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  }\n  if (Math.sin(v) > 0.001) {\n    let edge = x < 0 ? view.x : view.x + view.width;\n    let d = Math.abs(edge - offset.x);\n    let w = (d / Math.sin(v)) - ((measured.height / 2) / Math.tan(v)) - (padding * 2) - outerRadius;\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  }\n\n  if (maxWidth <= 0) { return 0; }\n\n  let bounds = {\n    x,\n    y,\n    width: maxWidth,\n    height: measured.height\n  };\n  if (middle < Math.PI) {\n    bounds.angle = middle - (Math.PI / 2);\n    bounds.anchor = 'start';\n  } else {\n    bounds.angle = middle + (Math.PI / 2);\n    bounds.anchor = 'end';\n  }\n  return bounds;\n}\n\nfunction outOfSpace(context, section, view) {\n  switch (section) {\n    case 0: return context.q1maxY < 0;\n    case 1: return context.q2minY > view.height;\n    case 2: return context.q3minY > view.height;\n    case 3: return context.q4maxY < 0;\n    default: return true;\n  }\n}\nfunction adjustBounds(bounds, context, slice) {\n  const LINE_PADDING = 2;\n  const LIMIT = 1;\n\n  const {\n    start, end, offset, outerRadius\n  } = slice;\n  const middle = normalize((start + end) / 2);\n  let section = Math.floor(middle / (Math.PI / 2));\n\n  switch (section) {\n    case 0:\n      if (context.q1maxY !== undefined) {\n        let y = Math.min(bounds.y, context.q1maxY - bounds.height);\n        let dy = bounds.y - y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x - LINE_PADDING,\n            y1: bounds.y + LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    case 1:\n      if (context.q2minY !== undefined) {\n        let y = Math.max(bounds.y, context.q2minY);\n        let dy = y - bounds.y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x - LINE_PADDING,\n            y1: bounds.y - LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    case 2:\n      if (context.q3minY !== undefined) {\n        let y = Math.max(bounds.y, context.q3minY);\n        let dy = y - bounds.y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x + LINE_PADDING,\n            y1: bounds.y - LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    case 3:\n      if (context.q4maxY !== undefined) {\n        let y = Math.min(bounds.y, context.q4maxY - bounds.height);\n        let dy = bounds.y - y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x + LINE_PADDING,\n            y1: bounds.y + LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    default: break;\n  }\n}\nfunction updateContext({ context, node, bounds }) {\n  const PADDING = 2;\n  let {\n    start, end\n  } = node.desc.slice;\n  const middle = normalize((start + end) / 2);\n\n  let section = Math.floor(middle / (Math.PI / 2));\n  switch (section) {\n    case 0:\n      context.q1maxY = bounds.y - PADDING;\n      if (context.q2minY === undefined) {\n        context.q2minY = bounds.y + bounds.height + PADDING;\n      }\n      break;\n    case 1:\n      context.q2minY = bounds.y + bounds.height + PADDING;\n      break;\n    case 2:\n      context.q3minY = bounds.y + bounds.height + PADDING;\n      break;\n    case 3:\n      context.q4maxY = bounds.y - PADDING;\n      if (context.q3minY === undefined) {\n        context.q3minY = bounds.y + bounds.height + PADDING;\n      }\n      break;\n    default: break;\n  }\n}\n\nfunction getHorizontalOusideSliceRect({\n  slice, measured, padding, view, context\n}) {\n  let {\n    start, end, outerRadius, offset\n  } = slice;\n  const middle = normalize((start + end) / 2);\n\n  let section = Math.floor(middle / (Math.PI / 2));\n  if (outOfSpace(context, section, view)) {\n    return null;\n  }\n\n  let r = outerRadius + padding + (measured.height / 2);\n  let x = Math.sin(middle) * r;\n  let y = -Math.cos(middle) * r;\n\n  let maxWidth = measured.width;\n  if (middle < Math.PI) {\n    let w = Math.abs((view.x + view.width) - (x + offset.x));\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  } else {\n    let w = Math.abs(view.x - (x + offset.x));\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  }\n\n  let bounds = {\n    x,\n    y,\n    width: maxWidth,\n    height: measured.height\n  };\n\n  if (middle < Math.PI) {\n    bounds.anchor = 'start';\n  } else {\n    bounds.anchor = 'end';\n  }\n  return bounds;\n}\n\nfunction cbContext(node, chart) {\n  return {\n    node,\n    data: node.data,\n    scale: chart.scale,\n    formatter: chart.formatter,\n    dataset: chart.dataset\n  };\n}\n\nfunction placeTextOnPoint(rect, text, opts) {\n  const label = {\n    type: 'text',\n    text,\n    maxWidth: rect.width,\n    x: rect.x,\n    y: rect.y + (rect.baseline === 'top' ? rect.height / 2 : 0),\n    fill: opts.fill,\n    anchor: rect.anchor || 'start',\n    baseline: 'middle',\n    fontSize: `${opts.fontSize}px`,\n    fontFamily: opts.fontFamily\n  };\n\n  if (!isNaN(rect.angle)) {\n    let angle = rect.angle * (360 / (Math.PI * 2));\n    label.transform = `rotate(${angle}, ${label.x}, ${label.y})`;\n  }\n\n  return label;\n}\n\nexport function getSliceRect({\n  slice, direction, position, padding, measured, view, context\n}) {\n  let {\n    start,\n    end,\n    innerRadius,\n    offset\n  } = slice;\n\n  let bounds;\n  let s;\n  switch (position) {\n    case 'into':\n      if (direction === 'rotate') {\n        bounds = getRotatedInsideSliceRect({ slice, measured, padding });\n      } else {\n        bounds = getHorizontalInsideSliceRect({ slice, measured, padding });\n      }\n      break;\n    case 'inside':\n      s = {\n        start,\n        end,\n        innerRadius: 0,\n        outerRadius: innerRadius\n      };\n      if (direction === 'rotate') {\n        bounds = getRotatedInsideSliceRect({ slice: s, measured, padding });\n      } else {\n        bounds = getHorizontalInsideSliceRect({ slice: s, measured, padding });\n      }\n      break;\n    case 'outside':\n      if (direction === 'rotate') {\n        bounds = getRotatedOusideSliceRect({\n          slice, measured, padding, view\n        });\n      } else {\n        bounds = getHorizontalOusideSliceRect({\n          slice, measured, padding, view, context\n        });\n      }\n      break;\n    default:\n      throw new Error('not implemented');\n  }\n  if (bounds) {\n    bounds.x += offset.x;\n    bounds.y += offset.y;\n    if (position === 'outside' && direction !== 'rotate') {\n      adjustBounds(bounds, context, slice);\n    }\n  }\n  return bounds;\n}\n\nfunction findBestPlacement({\n  context,\n  direction,\n  measured,\n  node,\n  placementSettings,\n  rect\n}, sliceRect = getSliceRect) {\n  for (let p = 0; p < placementSettings.length; p++) {\n    let placement = placementSettings[p];\n    let bounds = sliceRect({\n      context,\n      slice: node.desc.slice,\n      view: rect,\n      direction,\n      position: placement.position,\n      measured,\n      padding: placement.padding\n    });\n\n    if (!bounds) {\n      continue;\n    }\n\n    return { bounds, placement };\n  }\n  return { bounds: null, placement: null };\n}\n\n/*\n * Sorts the nodes so that\n *   in each quarter sort nodes from the center (in y) outwards\n *   first quarter before the second\n *   forth quarter before the third\n */\nfunction sortNodes(nodes) {\n  const q1 = [];\n  const q2 = [];\n  const q3 = [];\n  const q4 = [];\n  for (let i = 0; i < nodes.length; ++i) {\n    const { start, end } = nodes[i].desc.slice;\n    const middle = normalize((start + end) / 2);\n    let section = Math.floor(middle / (Math.PI / 2));\n    switch (section) {\n      case 0: q1.push(nodes[i]); break;\n      case 1: q2.push(nodes[i]); break;\n      case 2: q3.push(nodes[i]); break;\n      case 3: q4.push(nodes[i]); break;\n      default: break;\n    }\n  }\n\n  const sortFn = (a, b) => {\n    const middleA = normalize((a.desc.slice.start + a.desc.slice.end) / 2);\n    const middleB = normalize((b.desc.slice.start + b.desc.slice.end) / 2);\n    return middleA - middleB;\n  };\n  const reverseSortFn = (a, b) => sortFn(b, a);\n\n  q1.sort(reverseSortFn);\n  q2.sort(sortFn);\n  q3.sort(reverseSortFn);\n  q4.sort(sortFn);\n  return q1.concat(q2, q4, q3);\n}\n\n/**\n * @typedef {object} component--labels~slices-label-strategy\n *\n */\n\n/**\n * @typedef {object} component--labels~slices-label-strategy.settings\n * @property {string|function} [direction='horizontal'] - The direction of the text: 'horizontal' or 'rotate'.\n * @property {string} [fontFamily='Arial']\n * @property {number} [fontSize=12]\n * @property {Array<object>} labels\n * @property {string|function} labels[].label - The text value\n * @property {function} labels[].linkData - Link data to the label\n * @property {Array<object>} labels[].placements\n * @property {string} [labels[].placements[].position='into'] - 'inside' | 'into' | 'outside' (outside is not implmented yet)\n * @property {string} [labels[].placements[].fill='#333'] - Color of the label\n */\n\nexport function slices(\n  {\n    settings,\n    chart,\n    nodes,\n    rect,\n    renderer,\n    style\n  }, findPlacement = findBestPlacement,\n  placer = placeTextOnPoint\n) {\n  const defaults = extend({\n    fontSize: 12,\n    fontFamily: 'Arial',\n    fill: '#333',\n    padding: 4,\n    position: 'into'\n  }, style.label);\n\n  defaults.fontSize = parseInt(defaults.fontSize, 10);\n\n  const labelSettings = settings.labels.map(labelSetting => extend({}, defaults, settings, labelSetting));\n\n  const placementSettings = settings.labels.map(labelSetting => labelSetting.placements.map(placement => extend({}, defaults, settings, labelSetting, placement)));\n\n  const labelStruct = {};\n  const labels = [];\n\n  nodes = sortNodes(nodes);\n  const context = {};\n\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    let node = nodes[i];\n    let arg = cbContext(node, chart);\n\n    for (let j = 0; j < labelSettings.length; j++) {\n      let lblStngs = labelSettings[j];\n      let text = typeof lblStngs.label === 'function' ? lblStngs.label(arg, i) : '';\n      if (!text) {\n        continue;\n      }\n      let direction = typeof lblStngs.direction === 'function' ? lblStngs.direction(arg, i) : lblStngs.direction || 'horizontal';\n      const linkData = typeof lblStngs.linkData === 'function' ? lblStngs.linkData(arg, i) : undefined;\n\n      labelStruct.fontFamily = lblStngs.fontFamily;\n      labelStruct.fontSize = `${lblStngs.fontSize}px`;\n      labelStruct.text = text;\n\n      let measured = renderer.measureText(labelStruct);\n\n      const bestPlacement = findPlacement({\n        context,\n        direction,\n        lblStngs,\n        measured,\n        node,\n        placementSettings: placementSettings[j],\n        rect\n      });\n\n      let bounds = bestPlacement.bounds;\n      let placement = bestPlacement.placement;\n\n      if (bounds && placement) {\n        if (placement.position === 'outside' && direction !== 'rotate') {\n          updateContext({ context, node, bounds });\n\n          const topLeftBounds = getTopLeftBounds(bounds);\n\n          if (!rectContainsRect(topLeftBounds, rect)) {\n            continue;\n          }\n        }\n\n        let fill = typeof placement.fill === 'function' ? placement.fill(arg, i) : placement.fill;\n\n        let label = placer(bounds, text, {\n          fill,\n          fontSize: lblStngs.fontSize,\n          fontFamily: lblStngs.fontFamily,\n          textMetrics: measured\n        });\n\n        if (label) {\n          if (typeof linkData !== 'undefined') {\n            label.data = linkData;\n          }\n          labels.push(label);\n          if (bounds.line) {\n            bounds.line.stroke = fill;\n            labels.push(bounds.line);\n          }\n        }\n      }\n    }\n  }\n\n  return labels;\n}\n","import extend from 'extend';\n\nconst LINE_HEIGHT = 1.2;\nconst CIRCLE_FACTOR = 0.9;\n\nfunction cbContext(node, chart) {\n  return {\n    node,\n    data: node.data,\n    scale: chart.scale,\n    formatter: chart.formatter,\n    dataset: chart.dataset\n  };\n}\n\nexport function placeTextInRect(rect, text, opts) {\n  const label = {\n    type: 'text',\n    text,\n    maxWidth: rect.width,\n    x: 0,\n    y: rect.y,\n    dx: 0,\n    dy: 0,\n    fill: opts.fill,\n    anchor: 'start',\n    baseline: 'alphabetical',\n    fontSize: `${opts.fontSize}px`,\n    fontFamily: opts.fontFamily\n  };\n\n  const textMetrics = opts.textMetrics;\n\n  if (rect.width < opts.fontSize) {\n    return false;\n  }\n\n  const wiggleWidth = Math.max(0, rect.width - textMetrics.width);\n  label.x = rect.x + (opts.align * wiggleWidth);\n  label.y = rect.y + (textMetrics.height / LINE_HEIGHT);\n\n  return label;\n}\n\nfunction getRectFromCircle({ cx, cy, r }) {\n  return {\n    type: 'circle',\n    bounds: { cx, cy, r }\n  };\n}\nfunction getSliceBounds(slice) {\n  const EPSILON = 1e-12;\n  let {\n    start,\n    end,\n    innerRadius,\n    outerRadius,\n    offset\n  } = slice;\n  if (Math.abs((start + (2 * Math.PI)) - end) > EPSILON) {\n    return { type: null, bounds: null };\n  }\n  let r = innerRadius !== 0 ? innerRadius : outerRadius;\n  return getRectFromCircle({ cx: offset.x, cy: offset.y, r });\n}\n\nfunction getBounds(node) {\n  if (node.desc && node.desc.slice) {\n    return getSliceBounds(node.desc.slice);\n  }\n  if (node.type === 'circle') {\n    return getRectFromCircle(node.attrs);\n  }\n  if (node.type === 'rect') {\n    return { type: 'rect', bounds: node.bounds };\n  }\n  // defualt to node.bounds ?\n  return { type: null, bounds: null };\n}\n\n/**\n * @typedef {object} component--labels~rows-label-strategy\n *\n */\n\n/**\n * @typedef {object} component--labels~rows-label-strategy.settings\n * @property {string} [fontFamily='Arial']\n * @property {number} [fontSize=12]\n * @property {number} [justify=0.5]\n * @property {number} [padding=4]\n * @property {Array<object>} labels\n * @property {string|function} labels[].label - The text value\n * @property {function} labels[].linkData - Link data to the label\n * @property {number} [labels[].align=0.5]\n * @property {string|function} [labels[].fill='#333']\n */\n\nexport function rows({\n  settings,\n  chart,\n  nodes,\n  renderer,\n  style\n}, placer = placeTextInRect) {\n  const defaults = extend({\n    fontSize: 12,\n    fontFamily: 'Arial',\n    fill: '#333',\n    padding: 4,\n    align: 0.5,\n    justify: 0.5\n  }, style.label);\n\n  defaults.fontSize = parseInt(defaults.fontSize, 10);\n\n  const rowSettings = extend({}, defaults, settings);\n\n  const labelSettings = settings.labels.map(labelSetting => extend({}, rowSettings, labelSetting));\n\n  const labelStruct = {};\n  const labels = [];\n\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    let node = nodes[i];\n    let arg = cbContext(node, chart);\n\n    let { type, bounds } = getBounds(node);\n    if (!bounds) {\n      continue;\n    }\n\n    let totalHeight = 0;\n    let measurements = [];\n    let texts = [];\n\n    let maxHeight = type === 'circle' ? 2 * bounds.r * CIRCLE_FACTOR : bounds.height;\n    totalHeight += rowSettings.padding;\n    let j;\n    for (j = 0; j < labelSettings.length; j++) {\n      let lblStngs = labelSettings[j];\n      let text = typeof lblStngs.label === 'function' ? lblStngs.label(arg, i) : '';\n\n      labelStruct.fontFamily = lblStngs.fontFamily;\n      labelStruct.fontSize = `${lblStngs.fontSize}px`;\n      labelStruct.text = text;\n      let measured = renderer.measureText(labelStruct);\n      totalHeight += measured.height + lblStngs.padding;\n      if (totalHeight > maxHeight) { break; }\n      texts.push(text);\n      measurements.push(measured);\n    }\n\n    const labelCount = j;\n    const wiggleHeight = Math.max(0, maxHeight - totalHeight);\n    let currentY;\n    if (type === 'circle') {\n      currentY = bounds.cy - (bounds.r * CIRCLE_FACTOR);\n    } else {\n      currentY = bounds.y;\n    }\n    currentY += (rowSettings.justify * wiggleHeight) + rowSettings.padding;\n\n    for (j = 0; j < labelCount; j++) {\n      let lblStngs = labelSettings[j];\n      let rect;\n      if (type === 'circle') {\n        let maxYDistToCenter = Math.max(Math.abs(currentY - bounds.cy), Math.abs((currentY + measurements[j].height) - bounds.cy));\n        let halfWidth = Math.sqrt((bounds.r * bounds.r) - (maxYDistToCenter * maxYDistToCenter));\n        rect = {\n          x: (bounds.cx - halfWidth) + rowSettings.padding,\n          y: currentY,\n          width: (2 * halfWidth) - (2 * rowSettings.padding),\n          height: measurements[j].height\n        };\n      } else {\n        rect = {\n          x: bounds.x + rowSettings.padding,\n          y: currentY,\n          width: bounds.width - (2 * rowSettings.padding),\n          height: measurements[j].height\n        };\n      }\n\n      currentY += measurements[j].height + rowSettings.padding;\n      let fill = typeof lblStngs.fill === 'function' ? lblStngs.fill(arg, i) : lblStngs.fill;\n      const linkData = typeof lblStngs.linkData === 'function' ? lblStngs.linkData(arg, i) : undefined;\n      let label = placer(rect, texts[j], {\n        fill,\n        align: lblStngs.align,\n        fontSize: lblStngs.fontSize,\n        fontFamily: lblStngs.fontFamily,\n        textMetrics: measurements[j]\n      });\n      if (label) {\n        if (typeof linkData !== 'undefined') {\n          label.data = linkData;\n        }\n        labels.push(label);\n      }\n    }\n  }\n\n  return labels;\n}\n","\nimport { bars } from './bars';\nimport { slices } from './slices';\nimport { rows } from './rows';\n\nexport default {\n  bar: bars,\n  slice: slices,\n  rows\n};\n","import strategies from './strategies';\n\n/**\n * @typedef {object} component--labels\n * @property {string} [type='labels']\n */\n\n/**\n * @typedef {object} component--labels.settings\n * @property {Array<object>} sources\n * @property {string} sources[].component\n * @property {string} sources[].selector\n * @property {component--labels~label-strategy} sources[].strategy\n */\n\nexport function strategy({\n  chart,\n  source,\n  rect,\n  renderer,\n  style\n}, fn) {\n  const component = chart.component(source.component);\n  if (!component) {\n    return [];\n  }\n  const nodes = chart.findShapes(source.selector).filter(n => n.key === source.component);\n\n  return fn({\n    chart,\n    settings: source.strategy.settings,\n    nodes,\n    rect: {\n      x: 0,\n      y: 0,\n      width: rect.width,\n      height: rect.height\n    },\n    renderer,\n    style\n  });\n}\n\nconst labelsComponent = {\n  require: ['chart', 'renderer', 'settings'],\n  defaultSettings: {\n    settings: {},\n    style: {\n      label: '$label'\n    }\n  },\n  created() {\n    this.rect = {\n      x: 0, y: 0, width: 0, height: 0\n    };\n  },\n  beforeRender(opts) {\n    this.rect = opts.size;\n  },\n  render() {\n    const stngs = this.settings.settings;\n    const labels = [];\n\n    (stngs.sources || []).forEach((source) => {\n      if (source.strategy && strategies[source.strategy.type] && source.component) {\n        labels.push(...strategy({\n          chart: this.chart,\n          rect: this.rect,\n          renderer: this.renderer,\n          source,\n          style: this.style\n        }, strategies[source.strategy.type]));\n      }\n    });\n\n    return labels;\n  }\n};\n\nexport default labelsComponent;\n","import labelsComponent from './labels';\n\nexport default function labels(picasso) {\n  picasso.component('labels', labelsComponent);\n}\n","import extend from 'extend';\n\n/**\n * @typedef {object}\n * @alias component--legend-cat.settings\n */\nconst DEFAULT_SETTINGS = {\n  /**\n   * @typedef {object=}\n   */\n  layout: {\n    /**\n     * Maximum number of columns (vertical) or rows (horizontal)\n     * @type {number=}\n     */\n    size: 1,\n    /**\n     * Layout direction. Either `'ltr'` or `'rtl'`\n     * @type {string=}\n     */\n    direction: 'ltr',\n    /** Initial scroll offset\n     * @type {number=} */\n    scrollOffset: 0\n  },\n  /**\n   * Settings applied per item\n   * @typedef {object=}\n   */\n  item: {\n    /** Whether to show the current item\n     * @type {boolean=} */\n    show: true,\n    justify: 0.5,\n    align: 0.5,\n    /**\n     * @typedef {object=} */\n    label: {\n      fontSize: '12px',\n      fontFamily: 'Arial',\n      fill: '#595959',\n      /** Word break rule, how to apply line break if label text overflows its maxWidth property. Either `'break-word'` or `'break-all'`\n       * @type {string=} */\n      wordBreak: 'none',\n      /** Max number of lines allowed if label is broken into multiple lines (only applicable with wordBreak)\n       * @type {number=} */\n      maxLines: 2,\n      /** Maximum width of label, in px\n       * @type {number=} */\n      maxWidth: 136,\n      lineHeight: 1.2\n    },\n    /**\n     * @typedef {object=} */\n    shape: {\n      /**\n       * @type {string=} */\n      type: 'square',\n      /**\n       * @type {number=} */\n      size: 12\n    }\n  },\n  /**\n   * @typedef {object=} */\n  title: {\n    /** Whether to show the title\n     * @type {boolean=} */\n    show: true,\n    /** Title text. Defaults to the title of the provided data field\n     * @type {string=} */\n    text: undefined,\n    /** Horizontal alignment of the text. Allowed values are `'start'`, `'middle'` and `'end'`\n     * @type {string}\n     */\n    anchor: 'start',\n    fontSize: '16px',\n    fontFamily: 'Arial',\n    fill: '#595959',\n    /** Word break rule, how to apply line break if label text overflows its maxWidth property. Either `'break-word'` or `'break-all'`\n     * @type {string=} */\n    wordBreak: 'none',\n    /** Max number of lines allowed if label is broken into multiple lines, is only appled when `wordBreak` is not set to `'none'`\n     * @type {number=} */\n    maxLines: 2,\n    /** Maximum width of title, in px\n     * @type {number=} */\n    maxWidth: 156,\n    lineHeight: 1.25\n  },\n  /**\n   * @typedef {object=} */\n  navigation: {\n    /**\n     * @typedef {object=} */\n    button: {\n      /**\n       * @type {object<string, boolean>=} */\n      class: undefined,\n      /**\n       * @type {function} */\n      content: undefined\n    }\n  }\n};\n\n/**\n * Resolve settings based on input, defaults, and data\n *\n * @ignore\n * @param {legendComponent} comp - The component instance\n */\nexport default function resolveSettings(comp) {\n  const domain = comp.scale.domain();\n  let data = { items: [] };\n  if (comp.scale.type === 'threshold-color') {\n    const fields = comp.scale.data().fields;\n    const sourceField = fields[0];\n    let formatter = v => String(v);\n\n    if (comp.settings.formatter) {\n      formatter = comp.chart.formatter(comp.settings.formatter);\n    } else if (sourceField) {\n      formatter = sourceField.formatter();\n    }\n\n    for (let i = 0; i < domain.length - 1; i++) {\n      const it = {\n        value: domain[i],\n        label: `${formatter(domain[i])} - < ${formatter(domain[i + 1])}`\n      };\n      if (sourceField) {\n        it.source = {\n          field: sourceField.id()\n        };\n      }\n      data.items.push(it);\n    }\n\n    const orientation = comp.settings.dock === 'top' || comp.settings.dock === 'bottom' ? 'horizontal' : 'vertical';\n\n    if (orientation === 'vertical') {\n      data.items.reverse();\n    }\n  } else {\n    const labels = comp.scale.labels ? comp.scale.labels() : null;\n    data.items = domain.map((d, idx) => {\n      let datum = comp.scale.datum ? extend({}, comp.scale.datum(d)) : { value: d };\n      if (comp.scale.datum) {\n        datum = extend({}, comp.scale.datum(d));\n        datum.value = d;\n      }\n\n      if (comp.scale.label) {\n        datum.label = comp.scale.label(d);\n      } else if (labels) {\n        datum.label = labels[idx];\n      }\n\n      return datum;\n    });\n  }\n\n  const title = comp.resolver.resolve({\n    data: {\n      fields: comp.scale.data().fields\n    },\n    defaults: extend(true, {}, DEFAULT_SETTINGS.title, comp.style.title),\n    settings: comp.settings.settings.title\n  });\n\n  const layout = comp.resolver.resolve({\n    data: {\n      fields: comp.scale.data().fields\n    },\n    defaults: DEFAULT_SETTINGS.layout,\n    settings: comp.settings.settings.layout\n  });\n\n  const labels = comp.resolver.resolve({\n    data,\n    defaults: extend(true, {}, DEFAULT_SETTINGS.item.label, comp.style.item.label),\n    settings: (comp.settings.settings.item || {}).label\n  });\n\n  const shapeSettings = extend(true, {}, (comp.settings.settings.item || {}).shape);\n\n  if (typeof shapeSettings.fill === 'undefined' && comp.settings.scale) {\n    shapeSettings.fill = {\n      scale: comp.settings.scale\n    };\n  }\n\n  const symbols = comp.resolver.resolve({\n    data,\n    defaults: extend(true, {}, DEFAULT_SETTINGS.item.shape, comp.style.item.shape),\n    settings: shapeSettings\n  });\n\n  const items = comp.resolver.resolve({\n    data,\n    defaults: extend(true, {}, {\n      show: DEFAULT_SETTINGS.item.show\n    }),\n    settings: {\n      show: (comp.settings.settings.item || {}).show\n    }\n  });\n\n  function range(item, i) {\n    let v = item.data.value;\n    let next = domain[i + 1];\n    item.data.value = [v, next];\n  }\n\n  if (comp.scale.type === 'threshold-color') {\n    const orientation = comp.settings.dock === 'top' || comp.settings.dock === 'bottom' ? 'horizontal' : 'vertical';\n\n    if (orientation === 'vertical') {\n      items.items.reverse().forEach(range);\n      items.items.reverse();\n    } else {\n      items.items.forEach(range);\n    }\n  }\n\n  return {\n    title,\n    labels,\n    symbols,\n    items,\n    layout\n  };\n}\n","import extend from 'extend';\nimport symbolFactory from '../../symbols';\n\n/* eslint no-mixed-operators:0 */\n\nfunction placeTextInRect(rect, label, opts) {\n  const textMetrics = opts.textMetrics;\n\n  if (rect.height < textMetrics.height) {\n    return false;\n  }\n\n  const wiggleWidth = Math.max(0, rect.width - textMetrics.width);\n  label.baseline = 'hanging';\n  const wiggleHeight = Math.max(0, rect.height - (textMetrics.height));\n  label.x = rect.x + (opts.align * wiggleWidth);\n  label.y = rect.y + (opts.justify * wiggleHeight);\n\n  return label;\n}\n\nfunction wiggleSymbol(container, size, opts) {\n  const wiggleWidth = Math.max(0, container.width - size);\n  const wiggleHeight = Math.max(0, container.height - size);\n\n  return {\n    x: container.x + (size / 2) + (opts.align * wiggleWidth),\n    y: container.y + (size / 2) + (opts.justify * wiggleHeight)\n  };\n}\n\nexport function createRenderItem({\n  x = 0,\n  y,\n  item,\n  globalMetrics,\n  symbolFn = symbolFactory,\n  direction = 'ltr'\n}) {\n  let label = item.label.displayObject;\n  let labelBounds = item.label.bounds;\n  let symbolItem = item.symbol.meta;\n  const rtl = direction === 'rtl';\n\n  let labelRect = {\n    x: rtl ? x + globalMetrics.maxLabelBounds.width : x + globalMetrics.maxSymbolSize + globalMetrics.spacing,\n    y,\n    width: globalMetrics.maxLabelBounds.width,\n    height: Math.max(globalMetrics.maxSymbolSize, globalMetrics.maxLabelBounds.height)\n  };\n\n  let wiggled = wiggleSymbol({\n    x: rtl ? x + globalMetrics.maxLabelBounds.width + globalMetrics.spacing : x,\n    y,\n    width: globalMetrics.maxSymbolSize,\n    height: labelRect.height\n  }, symbolItem.size, {\n    align: typeof symbolItem.align === 'undefined' ? 0.5 : symbolItem.align,\n    justify: typeof symbolItem.justify === 'undefined' ? 0.5 : symbolItem.justify\n  });\n\n  const symbol = symbolFn(extend({}, symbolItem, wiggled));\n\n  delete symbol.collider;\n\n  label.anchor = rtl ? 'end' : 'start';\n\n  placeTextInRect(labelRect, label, {\n    textMetrics: labelBounds,\n    fontSize: parseInt(label.fontSize, 10),\n    align: 0.0,\n    justify: 0.5\n  });\n\n  let container = {\n    type: 'container',\n    data: item.label.displayObject.data,\n    children: [symbol, label],\n    collider: {\n      type: 'rect',\n      x,\n      y,\n      width: globalMetrics.maxItemBounds.width,\n      height: globalMetrics.maxItemBounds.height\n    }\n  };\n\n  return {\n    item: container,\n    metrics: labelRect\n  };\n}\n\nexport function getItemsToRender({\n  viewRect\n}, rect, {\n  itemized,\n  create = createRenderItem,\n  parallels\n}) {\n  const direction = itemized.layout.direction;\n  const globalMetrics = itemized.globalMetrics;\n  const legendItems = itemized.items;\n  const isHorizontal = itemized.layout.orientation === 'horizontal';\n  let s = 0;\n\n  const renderItems = [];\n  const fixedHeight = globalMetrics.maxItemBounds.height;\n  const fixedWidth = globalMetrics.maxItemBounds.width;\n  const rowHeight = itemized.layout.margin.vertical + fixedHeight;\n  const columnWidth = itemized.layout.margin.horizontal + fixedWidth;\n  let x = rect.x;\n  let y = rect.y;\n\n  let shift = viewRect.x - rect.x;\n\n  for (let i = 0; i < legendItems.length; i++) {\n    let renderItem = create({\n      y,\n      x: direction === 'rtl' ? viewRect.x + shift + viewRect.width - fixedWidth - (x - rect.x) : x,\n      item: legendItems[i],\n      globalMetrics,\n      direction\n    });\n\n    if ((isHorizontal && x >= viewRect.x - fixedWidth) || (!isHorizontal && y >= viewRect.y - fixedHeight)) {\n      renderItems.push(renderItem.item);\n    }\n\n    s++;\n    if (s >= parallels) {\n      s = 0;\n      if (isHorizontal) {\n        x += columnWidth; // next column\n        y = rect.y; // reset y to first row\n      } else {\n        y += rowHeight; // next row\n        x = rect.x; // reset x to first column\n      }\n    } else if (isHorizontal) {\n      y += rowHeight; // next row\n    } else {\n      x += columnWidth; // next column\n    }\n\n    if (!isHorizontal && (y > viewRect.y + viewRect.height)) {\n      break;\n    } else if (isHorizontal && x > viewRect.x + viewRect.width) {\n      break;\n    }\n  }\n  return renderItems;\n}\n\n\nexport function itemize({\n  resolved,\n  dock\n}, renderer) {\n  let label;\n  let items = [];\n  let item;\n  let sourceItems = resolved.items.items;\n  let sourceSymbols = resolved.symbols.items;\n  let sourceLabels = resolved.labels.items;\n\n  let maxSymbolSize = 0;\n  let maxLabelWidth = 0;\n  let maxLabelHeight = 0;\n\n  for (let i = 0; i < sourceItems.length; i++) {\n    if (sourceItems[i].show === false) {\n      continue;\n    }\n\n    const text = typeof sourceLabels[i].text !== 'undefined' ? sourceLabels[i].text : sourceLabels[i].data.label || '';\n    label = extend({}, sourceLabels[i], { // create the displayObject here in order to measure it\n      type: 'text',\n      fontSize: `${parseInt(sourceLabels[i].fontSize, 10)}px`,\n      text,\n      title: text\n    });\n\n    item = {\n      symbol: {\n        // can't create a displayObject here due to need to wiggle the center position of the symbol later on,\n        // just store the object needed later on\n        meta: sourceSymbols[i]\n      },\n      label: {\n        displayObject: label,\n        bounds: renderer.textBounds(label)\n      }\n    };\n\n    items.push(item);\n\n    maxSymbolSize = Math.max(sourceSymbols[i].size, maxSymbolSize);\n    maxLabelWidth = Math.max(item.label.bounds.width, maxLabelWidth);\n    maxLabelHeight = Math.max(item.label.bounds.height, maxLabelHeight);\n  }\n\n  return {\n    items,\n    globalMetrics: {\n      spacing: 8,\n      maxSymbolSize,\n      maxItemBounds: {\n        height: Math.max(maxSymbolSize, maxLabelHeight),\n        width: maxSymbolSize + 8 + maxLabelWidth\n      },\n      maxLabelBounds: {\n        width: maxLabelWidth,\n        height: maxLabelHeight\n      }\n    },\n    layout: {\n      margin: {\n        vertical: typeof resolved.layout.item.vertical !== 'undefined' ? resolved.layout.item.vertical : 8,\n        horizontal: typeof resolved.layout.item.horizontal !== 'undefined' ? resolved.layout.item.horizontal : 8\n      },\n      mode: resolved.layout.item.mode,\n      size: resolved.layout.item.size,\n      orientation: dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical',\n      direction: resolved.layout.item.direction,\n      scrollOffset: resolved.layout.item.scrollOffset\n    }\n  };\n}\n\nexport function extent(itemized, parallels) {\n  const count = itemized.items.length;\n  const size = Math.ceil(count / parallels);\n  const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n  const margin = property === 'width' ? 'horizontal' : 'vertical';\n  return (itemized.globalMetrics.maxItemBounds[property] * size)\n    + ((size - 1) * itemized.layout.margin[margin]);\n}\n\nexport function spread(itemized, parallels) {\n  const size = parallels;\n  const property = itemized.layout.orientation === 'horizontal' ? 'height' : 'width';\n  const margin = property === 'width' ? 'horizontal' : 'vertical';\n  return (itemized.globalMetrics.maxItemBounds[property] * size) // expected vertical size of items\n    + ((size - 1) * itemized.layout.margin[margin]); // expected spacing between items\n}\n\nexport function parallelize(availableExtent, availableSpread, itemized) {\n  const count = itemized.items.length;\n  const extentProperty = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n  const margin = extentProperty === 'width' ? 'horizontal' : 'vertical';\n  const extentInPx = (itemized.globalMetrics.maxItemBounds[extentProperty] * count)\n    + ((count - 1) * itemized.layout.margin[margin]);\n  let numNeeded = Math.ceil(extentInPx / availableExtent);\n\n  if (availableSpread != null) {\n    const spreadProperty = itemized.layout.orientation === 'horizontal' ? 'height' : 'width';\n    const numAllowed = Math.floor(availableSpread / (4 + itemized.globalMetrics.maxItemBounds[spreadProperty]));\n    numNeeded = Math.min(numNeeded, numAllowed);\n  }\n\n  const numInput = isNaN(itemized.layout.size) ? 1 : itemized.layout.size;\n  return Math.max(1, Math.min(numNeeded, numInput));\n}\n\nexport default function (legend, {\n  onScroll = () => {}\n}) {\n  let itemized;\n  let parallels;\n  let viewRect;\n  let containerRect;\n  let offset = null;\n  let overflow = 0;\n\n  const api = {\n    itemize: (obj) => {\n      itemized = itemize(obj, legend.renderer);\n      offset = offset === null && !isNaN(itemized.layout.scrollOffset) ? itemized.layout.scrollOffset : offset; // Set the initial offset\n    },\n    getItemsToRender: (obj) => {\n      viewRect = obj.viewRect;\n      overflow = api.getContentOverflow(viewRect);\n      const ext = api.extent();\n      offset = Math.max(0, Math.min(offset, overflow));\n\n      containerRect = extend({}, viewRect);\n\n      const offsetProperty = api.orientation() === 'horizontal' ? 'x' : 'y';\n      containerRect[offsetProperty] -= offset;\n      containerRect[offsetProperty === 'x' ? 'width' : 'height'] = ext;\n\n      return getItemsToRender(obj, containerRect, { itemized, parallels });\n    },\n    parallelize: (availableExtent, availableSpread) => {\n      parallels = parallelize(availableExtent, availableSpread, itemized);\n      return parallels;\n    },\n    hasContentOverflow: () => {\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      return extent(itemized, parallels) > viewRect[property];\n    },\n    getContentOverflow: (rect = viewRect) => {\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      return Math.max(0, extent(itemized, parallels) - rect[property]);\n    },\n    getNextSize: () => {\n      // TODO - calculate the actual size to next item to ensure alignment\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      const margin = property === 'width' ? 'horizontal' : 'vertical';\n      return itemized.globalMetrics.maxItemBounds[property] + itemized.layout.margin[margin];\n    },\n    getPrevSize: () => {\n      // TODO - calculate the actual size to next item to ensure alignment\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      const margin = property === 'width' ? 'horizontal' : 'vertical';\n      return itemized.globalMetrics.maxItemBounds[property] + itemized.layout.margin[margin];\n    },\n    hasNext: () => {\n      if (api.orientation() === 'horizontal') {\n        return viewRect.x + viewRect.width < containerRect.x + containerRect.width;\n      }\n      return viewRect.y + viewRect.height < containerRect.y + containerRect.height;\n    },\n    hasPrev: () => {\n      if (api.orientation() === 'horizontal') {\n        return containerRect.x < viewRect.x;\n      }\n      return containerRect.y < viewRect.y;\n    },\n    next: () => {\n      api.scroll(-api.getNextSize());\n    },\n    prev: () => {\n      api.scroll(api.getPrevSize());\n    },\n    scroll: (delta) => {\n      const current = Math.max(0, Math.min(overflow, (offset - delta)));\n      if (current === offset) {\n        return;\n      }\n      offset = current;\n      onScroll();\n    },\n    offset: () => offset,\n    orientation: () => itemized.layout.orientation,\n    direction: () => itemized.layout.direction,\n    extent: () => extent(itemized, parallels), // total amount of space along orientation\n    spread: () => spread(itemized, parallels) // total amount of space perpendicular to orientation\n  };\n\n  return api;\n}\n","/**\n * Concatenate object keys into a space separated string. Use for transforming a 'class name map' into a class string\n * @param  {Object} classMap Object with class names as keys and true or false values depending on if they should be in the returned class string or not\n * @return {String} Space separated string with class names\n */\nexport default function classString(classMap) {\n  return Object.keys(classMap).filter(className => classMap[className]).join(' ');\n}\n","import extend from 'extend';\nimport classString from '../../utils/class-string';\n\nconst DIR = {\n  up: '\\u25B2',\n  right: '\\u25B6',\n  down: '\\u25BC',\n  left: '\\u25C0'\n};\n\nfunction itemize({\n  // resolved,\n  dock,\n  navigation\n}) {\n  return {\n    layout: {\n      orientation: dock === 'top' || dock === 'bottom' ? 'vertical' : 'horizontal'\n    },\n    navigation\n  };\n}\n\nfunction btn(h, {\n  size,\n  isActive,\n  direction,\n  nav,\n  attrs\n}) {\n  let c = {};\n  let content = '';\n  if (nav && nav.button) {\n    if (typeof nav.button.class === 'function') {\n      c = nav.button.class({ direction });\n    } else if (nav.button.class) {\n      c = nav.button.class;\n    }\n    if (typeof nav.button.content === 'function') {\n      content = nav.button.content(h, { direction });\n    }\n  }\n  const style = {\n    width: `${size}px`,\n    minWidth: `${size}px`,\n    height: `${size}px`\n  };\n\n  if (!Object.keys(c).length) { // if no classes are set, add some basic styling\n    style.border = '0';\n    style.background = 'none';\n  }\n  const attrsMerged = attrs;\n  if (!isActive) {\n    attrsMerged.disabled = 'disabled';\n  }\n\n  return h('button', extend({\n    class: classString(c),\n    style\n  }, attrsMerged), [content || h('span', {\n    style: {\n      pointerEvents: 'none'\n    }\n  }, [DIR[direction]])]);\n}\n\nfunction render(renderer, {\n  rect,\n  itemRenderer\n}, itemized, legend) {\n  if (!renderer || !renderer.renderArgs) {\n    return;\n  }\n  renderer.size(rect);\n  const h = renderer.renderArgs[0];\n\n  const isVertical = itemized.layout.orientation === 'vertical'; // orientation of the navigation (not the legend)\n  const isRtl = itemRenderer.direction() === 'rtl';\n\n  const hasNext = itemRenderer.hasNext();\n  const hasPrev = itemRenderer.hasPrev();\n\n  if (!hasPrev && !hasNext) {\n    renderer.render([]);\n    return;\n  }\n\n  const buttonSize = 32;\n\n  const order = isVertical ? ['right', 'left'] : ['down', 'up'];\n\n  if (isRtl && isVertical) {\n    order.reverse();\n  }\n\n  const nodes = [h('div', {\n    style: {\n      position: 'relative',\n      display: 'flex',\n      'flex-direction': isVertical ? 'column' : 'row',\n      'justify-content': 'center',\n      height: '100%',\n      pointerEvents: 'auto'\n    },\n    dir: isRtl && !isVertical ? 'rtl' : 'ltr'\n  }, [btn(h, {\n    size: buttonSize,\n    isActive: hasNext,\n    direction: order[0],\n    attrs: {\n      'data-action': 'next',\n      'data-component-key': legend.settings.key\n    },\n    nav: itemized.navigation\n  }), btn(h, {\n    size: buttonSize,\n    isActive: hasPrev,\n    direction: order[1],\n    attrs: {\n      'data-action': 'prev',\n      'data-component-key': legend.settings.key\n    },\n    nav: itemized.navigation\n  })])];\n  renderer.render(nodes);\n}\n\nexport default function (legend) {\n  let itemized;\n\n  const nav = {\n    itemize: (obj) => {\n      itemized = itemize(obj);\n    },\n    render: obj => render(nav.renderer, obj, itemized, legend),\n    extent: () => 32,\n    spread: () => 64\n  };\n\n  return nav;\n}\n","import extend from 'extend';\n\nfunction itemize({\n  resolved\n}, legend) {\n  if (resolved.title.item.show === false) {\n    return null;\n  }\n  const t = extend({}, resolved.title.item, {\n    type: 'text'\n  });\n\n  if (resolved.layout.item.direction === 'rtl') {\n    if (!t.anchor || t.anchor === 'start') {\n      t.anchor = 'end';\n    } else if (t.anchor === 'end') {\n      t.anchor = 'start';\n    }\n  }\n\n  if (typeof resolved.title.settings.text === 'undefined') {\n    const fields = legend.scale.data().fields;\n    t.text = fields && fields[0] ? fields[0].title() : '';\n  }\n\n  return {\n    displayObject: t,\n    bounds: legend.renderer.textBounds(t)\n  };\n}\n\nfunction render({\n  rect\n}, renderer, itemized) {\n  if (!renderer) {\n    return;\n  }\n  const nodes = [];\n  renderer.size(rect);\n  if (itemized) {\n    const align = {\n      start: 0,\n      end: rect.width,\n      middle: rect.width / 2\n    };\n    nodes.push(extend({}, itemized.displayObject, {\n      x: align[itemized.displayObject.anchor] || 0,\n      y: 0,\n      baseline: 'hanging',\n      title: itemized.displayObject.text\n    }));\n  }\n  renderer.render(nodes);\n}\n\nexport default function (legend) {\n  let itemized;\n\n  const api = {\n    itemize: (obj) => {\n      itemized = itemize(obj, legend);\n    },\n    render: (obj) => {\n      render(obj, api.renderer, itemized);\n    },\n    spread: () => (itemized ? itemized.bounds.height * 1.25 : 0),\n    extent: () => (itemized ? itemized.bounds.width : 0)\n  };\n\n  return api;\n}\n","import extend from 'extend';\n/* eslint no-mixed-operators:0 */\n\nexport default function layout(rect, display, orientation, {\n  itemRenderer,\n  navigationRenderer,\n  titleRenderer,\n  isPreliminary = false\n}) {\n  let title;\n  let content;\n  let navigation;\n  let preferredSize = 0;\n\n  const paddedRect = {\n    x: display.spacing,\n    y: display.spacing,\n    width: rect.width - (2 * display.spacing),\n    height: rect.height - (2 * display.spacing)\n  };\n\n  title = {\n    x: paddedRect.x,\n    y: paddedRect.y,\n    width: paddedRect.width,\n    height: titleRenderer.spread()\n  };\n\n  if (orientation === 'horizontal') {\n    // const titleAtTop = false;\n    // if (titleAtTop) { // this might be a nicer layout sometimes\n    //   // |------------------|\n    //   // |title             |\n    //   // |------------|-----|\n    //   // |content     | nav |\n    //   // |------------|-----|\n\n    //   // available space for items without navigation UI\n    //   const availableExtentForItems = paddedRect.width;\n    //   const availableSpreadForItems = paddedRect.height - (title.y + title.height) + 8;\n    //   const isRtl = itemRenderer.direction() === 'rtl';\n    //   itemRenderer.parallelize(availableExtentForItems, isPreliminary ? undefined : availableSpreadForItems);\n\n    //   const navigationSize = itemRenderer.extent() > availableExtentForItems ? navigationRenderer.extent() : 0;\n    //   content = {\n    //     x: paddedRect.x,\n    //     y: title.y + title.height,\n    //     width: paddedRect.width - navigationSize,\n    //     height: availableSpreadForItems\n    //   };\n    //   navigation = {\n    //     x: content.x + content.width,\n    //     y: title.y + title.height,\n    //     width: navigationSize,\n    //     height: paddedRect.height - (title.y + title.height) + 8\n    //   };\n\n    //   if (isRtl) { // switch navigation and content\n    //     navigation.x = content.x;\n    //     content.x = navigation.x + navigation.width;\n    //     // totalContent.x = navigation.x;\n    //   }\n    //   preferredSize = title.height + Math.max(navigationRenderer.spread(), itemRenderer.spread());\n    // } else {\n    // |-----|------------|-----|\n    // |title|content     | nav |\n    // |-----|------------|-----|\n\n    title = {\n      x: paddedRect.x,\n      y: paddedRect.y,\n      width: titleRenderer.extent(),\n      height: titleRenderer.spread()\n    };\n\n    // available space for items without navigation UI\n    const availableExtentForItems = paddedRect.width - title.width - (title.width ? display.spacing : 0);\n    const availableSpreadForItems = paddedRect.height;\n    itemRenderer.parallelize(availableExtentForItems, isPreliminary ? undefined : availableSpreadForItems);\n\n    const navigationSize = itemRenderer.extent() > availableExtentForItems ? navigationRenderer.extent() : 0;\n    const spread = itemRenderer.spread();\n    const navigationSpread = navigationSize ? navigationRenderer.spread() : 0;\n    content = {\n      x: title.x + title.width + (title.width ? display.spacing : 0),\n      y: paddedRect.y + Math.max(0, (navigationSpread - spread) / 2),\n      width: paddedRect.width - navigationSize - title.width - (navigationSize ? display.spacing : 0) - (title.width ? display.spacing : 0),\n      height: availableSpreadForItems\n    };\n    navigation = {\n      x: content.x + content.width + (navigationSize ? display.spacing : 0),\n      y: paddedRect.y,\n      width: navigationSize,\n      height: paddedRect.height\n    };\n\n    title.y = content.y;\n\n    const isRtl = itemRenderer.direction() === 'rtl';\n    if (isRtl) { // switch title, content and navigation\n      navigation.x = paddedRect.x;\n      content.x = navigation.x + navigation.width + (navigation.width ? display.spacing : 0);\n      title.x = content.x + content.width + (title.width ? display.spacing : 0);\n    }\n    preferredSize = Math.max(title.height, navigationSpread, itemRenderer.spread());\n    // }\n  } else {\n    // |------------|\n    // |title       |\n    // |------------|\n    // |content     |\n    // |------------|\n    // |navigation  |\n    // |------------|\n\n    const availableExtentForItems = paddedRect.height - title.height - (title.height ? display.spacing : 0);\n    const availableSpreadForItems = paddedRect.width;\n    itemRenderer.parallelize(availableExtentForItems, isPreliminary ? undefined : availableSpreadForItems);\n\n    const navigationSize = itemRenderer.extent() > availableExtentForItems ? navigationRenderer.extent() : 0;\n    navigation = {\n      x: paddedRect.x,\n      y: paddedRect.y + paddedRect.height - navigationSize,\n      width: paddedRect.width,\n      height: navigationSize\n    };\n\n    content = {\n      x: paddedRect.x,\n      y: title.y + title.height + (title.height ? display.spacing : 0),\n      width: paddedRect.width,\n      height: paddedRect.height - title.height - (title.height ? display.spacing : 0) - navigation.height - (navigation.height ? display.spacing : 0)\n    };\n\n    preferredSize = Math.max(titleRenderer.extent(), navigationSize ? navigationRenderer.spread() : 0, itemRenderer.spread());\n  }\n\n  content = extend({}, rect, {\n    x: rect.x + content.x,\n    y: rect.y + content.y,\n    width: content.width,\n    height: content.height\n  });\n\n  navigation.x += rect.x;\n  navigation.y += rect.y;\n\n  title.x += rect.x;\n  title.y += rect.y;\n\n  return {\n    title: extend({}, rect, title),\n    content: extend({}, rect, content),\n    navigation: extend({}, rect, navigation),\n    orientation,\n    preferredSize\n  };\n}\n","import extend from 'extend';\nimport resolveSettings from './legend-resolver';\nimport itemRendererFactory from './item-renderer';\nimport navigationRendererFactory from './navigation-renderer';\nimport titleRendererFactory from './title-renderer';\nimport layout from './legend-layout';\n\nfunction update(comp) {\n  comp.state.resolved = resolveSettings(comp);\n  comp.titleRenderer.itemize({\n    resolved: comp.state.resolved,\n    dock: comp.settings.dock || 'center'\n  });\n  comp.itemRenderer.itemize({\n    resolved: comp.state.resolved,\n    dock: comp.settings.dock || 'center'\n  });\n  comp.navigationRenderer.itemize({\n    resolved: comp.state.resolved,\n    dock: comp.settings.dock || 'center',\n    navigation: comp.settings.settings.navigation\n  });\n\n  comp.state.display = {\n    spacing: 8\n  };\n}\n\nfunction preferredSize(comp, size) {\n  let s = 0;\n  const dock = comp.settings.dock || 'center';\n  const orientation = dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical';\n  const d = comp.state.display;\n  const tempLayout = layout(size.inner, d, orientation, {\n    itemRenderer: comp.itemRenderer,\n    navigationRenderer: comp.navigationRenderer,\n    titleRenderer: comp.titleRenderer,\n    isPreliminary: true\n  });\n  s += d.spacing; // start padding in both vertical and horizontal mode\n  s += tempLayout.preferredSize;\n  s += d.spacing; // end padding in both vertical and horizontal mode\n  return s;\n}\n\nfunction render(legend) {\n  const {\n    rect,\n    settings,\n    state,\n    itemRenderer,\n    navigationRenderer,\n    titleRenderer\n  } = legend;\n  const orientation = settings.dock === 'top' || settings.dock === 'bottom' ? 'horizontal' : 'vertical';\n  const l = layout(rect, state.display, orientation, {\n    itemRenderer,\n    navigationRenderer,\n    titleRenderer\n  });\n\n  legend.renderer.size(l.content);\n\n  // l.content.x = 0;\n  // l.content.y = 0;\n\n  // l.navigation.x += rect.x;\n  // l.navigation.y += rect.y;\n\n  // l.title.x += rect.x;\n  // l.title.y += rect.y;\n\n  let contentItems = itemRenderer.getItemsToRender({\n    viewRect: extend({}, l.content, { x: 0, y: 0 })\n  });\n\n  navigationRenderer.render({\n    rect: l.navigation,\n    itemRenderer\n  });\n\n  titleRenderer.render({\n    rect: l.title\n  });\n\n  legend.state.views = {\n    layout: l\n  };\n\n  return contentItems;\n}\n\nconst component = {\n  require: ['chart', 'settings', 'renderer', 'update', 'resolver', 'registries'],\n  defaultSettings: {\n    settings: {},\n    style: {\n      item: {\n        label: '$label',\n        shape: '$shape'\n      },\n      title: '$title'\n    }\n  },\n  mounted(renderElement) {\n    if (renderElement && renderElement.parentNode) {\n      this.navigationRenderer.renderer.appendTo(renderElement.parentNode);\n      this.titleRenderer.renderer.appendTo(renderElement.parentNode);\n    }\n    this.navigationRenderer.render({\n      rect: this.state.views.layout.navigation,\n      itemRenderer: this.itemRenderer\n    });\n\n    this.titleRenderer.render({\n      rect: this.state.views.layout.title\n    });\n  },\n  beforeUnmount() {\n    this.navigationRenderer.renderer.clear();\n    this.titleRenderer.renderer.clear();\n  },\n  on: {\n    panstart() {\n      if (this.state.interaction.started) {\n        return;\n      }\n      const contentOverflow = this.itemRenderer.getContentOverflow();\n      if (!contentOverflow) {\n        return;\n      }\n      this.state.interaction.started = true;\n      this.state.interaction.delta = 0;\n    },\n    panmove(e) {\n      if (!this.state.interaction.started) {\n        return;\n      }\n      const delta = this.itemRenderer.orientation() === 'horizontal' ? (this.itemRenderer.direction() === 'rtl' ? -1 : 1) * e.deltaX : e.deltaY;\n      this.itemRenderer.scroll(delta - this.state.interaction.delta);\n      this.state.interaction.delta = delta;\n    },\n    panend() {\n      this.state.interaction.started = false;\n    },\n    scroll(delta) {\n      this.itemRenderer.scroll(-delta);\n    },\n    next() {\n      this.itemRenderer.next();\n    },\n    prev() {\n      this.itemRenderer.prev();\n    }\n  },\n  created() {\n    this.rect = {\n      x: 0, y: 0, width: 0, height: 0\n    };\n    this.state = {\n      interaction: {}\n    };\n    this.onScroll = () => {\n      const items = render(this);\n      this.update(items);\n    };\n    this.itemRenderer = itemRendererFactory(this, {\n      onScroll: this.onScroll\n    });\n    this.navigationRenderer = navigationRendererFactory(this);\n    this.titleRenderer = titleRendererFactory(this);\n    this.navigationRenderer.renderer = this.registries.renderer('dom')();\n    this.titleRenderer.renderer = this.registries.renderer(this.settings.renderer)();\n    update(this);\n  },\n  preferredSize(obj) {\n    return preferredSize(this, obj);\n  },\n  beforeUpdate() {\n    update(this);\n  },\n  beforeRender(opts) {\n    this.rect = opts.size;\n  },\n  render() {\n    return render(this);\n  },\n  beforeDestroy() {\n    this.navigationRenderer.renderer.destroy();\n    this.titleRenderer.renderer.destroy();\n  },\n  _DO_NOT_USE_getInfo() {\n    return {\n      offset: this.itemRenderer.offset()\n    };\n  }\n};\n\nexport default component;\n","import component from './legend-cat';\n\n/**\n * @typedef {object} component--legend-cat\n * @property {string} scale\n */\n\n/**\n * @type {string}\n * @memberof component--legend-cat\n */\nconst type = 'legend-cat';\n\nexport default function categoricalLegend(picasso) {\n  picasso.component(type, component);\n}\n","function applyAlignJustify(ctx, node) {\n  let wiggle = 0;\n  const cmd = {\n    type: ctx.state.isVertical ? 'justify' : 'align',\n    coord: ctx.state.isVertical ? 'y' : 'x',\n    pos: ctx.state.isVertical ? 'height' : 'width',\n    fn: ctx.state.isVertical ? 'requiredHeight' : 'requiredWidth'\n  };\n\n  wiggle = ctx.state.rect[cmd.pos] - ctx.state.legend.length() - ctx.state.title[cmd.fn]();\n  wiggle *= Math.min(1, Math.max(ctx.stgns[cmd.type], 0));\n  node[cmd.coord] += wiggle;\n}\n\nexport function generateStopNodes(ctx) {\n  const fillScale = ctx.state.legend.fillScale;\n  const majorScale = ctx.state.legend.majorScale;\n  const stops = fillScale.domain().map(d => ({\n    type: 'stop',\n    color: fillScale(d),\n    offset: Math.min(1, Math.max(0, majorScale.norm(d)))\n  }));\n\n  return stops.sort((a, b) => a.offset - b.offset);\n}\n\nexport function createTitleNode(ctx) {\n  const state = ctx.state;\n  const settings = ctx.stgns;\n  const isTickLeft = state.ticks.anchor === 'left';\n  const isTickTop = state.ticks.anchor === 'top';\n  let x = state.rect.x;\n  let y = state.rect.y;\n  let textAnchor = 'start';\n\n  if (state.title.anchor === 'left') {\n    x += state.title.requiredWidth() - settings.title.padding;\n    y += state.title.textMetrics.height;\n    y += isTickTop ? state.rect.height - state.title.textBounds.height : 0;\n    textAnchor = 'end';\n  } else if (state.title.anchor === 'right') {\n    x += state.legend.length();\n    x += settings.title.padding;\n    y += state.title.textMetrics.height;\n    y += isTickTop ? state.rect.height - state.title.textBounds.height : 0;\n  } else if (state.title.anchor === 'top') {\n    x += isTickLeft ? state.rect.width : 0;\n    y += state.title.textMetrics.height;\n    textAnchor = isTickLeft ? 'end' : 'start';\n  }\n\n  const node = {\n    tag: 'legend-title',\n    type: 'text',\n    x,\n    y: Math.min(y, state.rect.y + state.rect.height),\n    text: settings.title.text,\n    fill: settings.title.fill,\n    fontSize: settings.title.fontSize,\n    fontFamily: settings.title.fontFamily,\n    maxWidth: settings.title.maxLengthPx,\n    maxLines: settings.title.maxLines,\n    wordBreak: settings.title.wordBreak,\n    hyphens: settings.title.hyphens,\n    lineHeight: settings.title.lineHeight,\n    anchor: textAnchor,\n    title: settings.title.text\n  };\n\n  applyAlignJustify(ctx, node);\n  return node;\n}\n\nexport function createLegendRectNode(ctx, stops) {\n  const state = ctx.state;\n  const settings = ctx.stgns;\n  const container = state.rect;\n  let x = container.x;\n  let y = container.y;\n  let width = state.isVertical ? settings.size : state.legend.length();\n  let height = state.isVertical ? state.legend.length() : settings.size;\n\n  if (state.ticks.anchor === 'left') {\n    x += state.rect.width - settings.size;\n  } else if (state.ticks.anchor === 'top') {\n    y += state.rect.height - settings.size;\n  }\n\n  if (state.title.anchor === 'top') {\n    y += state.title.requiredHeight();\n  } else if (state.title.anchor === 'left') {\n    x += state.title.requiredWidth();\n  }\n\n  const node = {\n    type: 'rect',\n    x,\n    y,\n    width,\n    height,\n    fill: {\n      type: 'gradient',\n      stops,\n      degree: state.isVertical ? 90 : 180\n    }\n  };\n\n  applyAlignJustify(ctx, node);\n  return node;\n}\n\nexport function createTickNodes(ctx, legendNode) {\n  const state = ctx.state;\n  const settings = ctx.stgns;\n  let anchor = 'start';\n  const rangeSelectorRect = {\n    type: 'rect',\n    x: legendNode.x,\n    y: legendNode.y,\n    width: state.isVertical ? 0 : legendNode.width,\n    height: state.isVertical ? legendNode.height : 0,\n    fill: 'transparent'\n  };\n\n  const nodes = state.ticks.values.map((tick) => {\n    let x = 0;\n    let y = 0;\n    let dx = 0;\n    let dy = 0;\n\n    if (state.isVertical) {\n      y = legendNode.y + (legendNode.height * tick.pos);\n      dy = tick.pos === 1 ? -(tick.textMetrics.height / 5) : tick.textMetrics.height;\n    } else {\n      x = legendNode.x + (legendNode.width * tick.pos);\n    }\n\n    if (state.ticks.anchor === 'right') {\n      x = legendNode.x + settings.size + settings.tick.padding;\n\n      rangeSelectorRect.x = legendNode.x + legendNode.width;\n    } else if (state.ticks.anchor === 'left') {\n      x = legendNode.x - settings.tick.padding;\n      anchor = 'end';\n    } else if (state.ticks.anchor === 'top') {\n      y = legendNode.y - settings.tick.padding;\n      dy -= tick.textMetrics.height * 0.25;\n      anchor = tick.pos === 0 ? 'start' : 'end';\n    } else if (state.ticks.anchor === 'bottom') {\n      y = legendNode.y + legendNode.height + settings.tick.padding;\n      dy = tick.textMetrics.height * 0.8;\n      anchor = tick.pos === 0 ? 'start' : 'end';\n\n      rangeSelectorRect.y = legendNode.y + legendNode.height;\n    }\n\n    const node = {\n      type: 'text',\n      x,\n      y,\n      dx,\n      dy,\n      text: tick.label,\n      fontSize: settings.tick.fontSize,\n      fontFamily: settings.tick.fontFamily,\n      fill: settings.tick.fill,\n      maxWidth: state.isVertical ? settings.tick.maxLengthPx : Math.min(settings.tick.maxLengthPx, state.legend.length() / 2),\n      anchor,\n      textBoundsFn: ctx.renderer.textBounds,\n      title: tick.label\n    };\n\n    return node;\n  });\n\n  return {\n    type: 'container',\n    id: 'legend-seq-ticks',\n    children: [...nodes, rangeSelectorRect]\n  };\n}\n","import {\n  createTitleNode,\n  generateStopNodes,\n  createLegendRectNode,\n  createTickNodes\n} from './node-builder';\n\n\nfunction resolveAnchor(dock, anchor, map) {\n  const mapped = map[dock];\n  if (typeof mapped === 'object') {\n    if (mapped.valid.indexOf(anchor) !== -1) {\n      return anchor;\n    }\n    return mapped.default;\n  }\n\n  return map.default;\n}\n\nfunction resolveTickAnchor(settings) {\n  const dock = settings.dock;\n  const anchor = settings.settings.tick.anchor;\n\n  const dockAnchorMap = {\n    left: { valid: ['left', 'right'], default: 'left' },\n    right: { valid: ['left', 'right'], default: 'right' },\n    top: { valid: ['top', 'bottom'], default: 'top' },\n    bottom: { valid: ['top', 'bottom'], default: 'bottom' },\n    default: 'right'\n  };\n\n  return resolveAnchor(dock, anchor, dockAnchorMap);\n}\n\nfunction resolveTitleAnchor(settings) {\n  const dockAnchorMap = {\n    left: { valid: ['top'], default: 'top' },\n    right: { valid: ['top'], default: 'top' },\n    top: { valid: ['left', 'right'], default: 'left' },\n    bottom: { valid: ['left', 'right'], default: 'left' },\n    default: 'top'\n  };\n\n  const dock = settings.dock;\n  const anchor = settings.settings.title.anchor;\n\n  return resolveAnchor(dock, anchor, dockAnchorMap);\n}\n\nfunction initRect(ctx, size) {\n  const rect = {\n    x: 0, y: 0, width: 0, height: 0\n  };\n  const padding = ctx.stgns.padding;\n  rect.x = padding.left;\n  rect.y = padding.top;\n  rect.width = size.width - padding.left - padding.right;\n  rect.height = size.height - padding.top - padding.bottom;\n\n  return rect;\n}\n\nfunction getTicks(ctx, majorScale) {\n  const values = majorScale.domain();\n  let labels = values;\n  let labelFn = ctx.stgns.tick.label;\n  if (!labelFn && ctx.formatter) {\n    labelFn = ctx.formatter;\n  } else if (!labelFn && majorScale.data().fields) {\n    labelFn = majorScale.data().fields[0].formatter();\n  }\n  if (typeof labelFn === 'function') {\n    labels = values.map(labelFn).map(String);\n  }\n\n  const ticks = values.map((value, i) => {\n    const label = labels[i];\n    return {\n      value,\n      label,\n      pos: majorScale.norm(parseFloat(value, 10)),\n      textMetrics: ctx.renderer.measureText({\n        text: label,\n        fontSize: ctx.stgns.tick.fontSize,\n        fontFamily: ctx.stgns.tick.fontFamily\n      })\n    };\n  });\n\n  return ticks;\n}\n\nfunction initState(ctx) {\n  const isVertical = ctx.settings.dock !== 'top' && ctx.settings.dock !== 'bottom';\n  const titleStgns = ctx.stgns.title;\n\n  const fillScale = ctx.chart.scale(ctx.stgns.fill);\n  const majorScale = ctx.chart.scale(ctx.stgns.major);\n  const tickValues = getTicks(ctx, majorScale);\n  const tickAnchor = resolveTickAnchor(ctx.settings);\n\n  if (typeof titleStgns.text === 'undefined') {\n    const fields = majorScale.data().fields;\n    titleStgns.text = fields && fields[0] ? fields[0].title() : '';\n  }\n\n  const titleTextMetrics = ctx.renderer.measureText({\n    text: titleStgns.text,\n    fontSize: titleStgns.fontSize,\n    fontFamily: titleStgns.fontFamily\n  });\n\n  const titleTextBounds = ctx.renderer.textBounds({\n    text: titleStgns.text,\n    fontSize: titleStgns.fontSize,\n    fontFamily: titleStgns.fontFamily,\n    maxLines: titleStgns.maxLines,\n    maxWidth: titleStgns.maxLengthPx,\n    wordBreak: titleStgns.wordBreak,\n    hyphens: titleStgns.hyphens,\n    lineHeight: titleStgns.lineHeight\n  });\n\n  const state = {\n    isVertical,\n    nodes: [],\n    title: {\n      anchor: resolveTitleAnchor(ctx.settings),\n      textMetrics: titleTextMetrics,\n      textBounds: titleTextBounds,\n      requiredWidth: () => {\n        if (!titleStgns.show) {\n          return 0;\n        }\n        let w = titleTextBounds.width;\n        let mw = titleStgns.maxLengthPx;\n        if (!isVertical) {\n          w += titleStgns.padding;\n          mw += titleStgns.padding;\n        }\n        return Math.min(w, mw, state.rect.width);\n      },\n      requiredHeight: () => {\n        if (!titleStgns.show) {\n          return 0;\n        }\n        let h = titleTextBounds.height;\n        if (isVertical) {\n          h += titleStgns.padding;\n        }\n        return Math.min(h, state.rect.height);\n      }\n    },\n    ticks: {\n      values: tickValues,\n      anchor: tickAnchor,\n      length: Math.min(Math.max(...tickValues.map(t => t.textMetrics.width)), ctx.stgns.tick.maxLengthPx),\n      requiredHeight: () => (tickAnchor === 'top' ? Math.max(...state.ticks.values.map(t => t.textMetrics.height)) + ctx.stgns.tick.padding : 0),\n      height: Math.max(...tickValues.map(t => t.textMetrics.height))\n    },\n    legend: {\n      fillScale,\n      majorScale,\n      length: () => {\n        const pos = isVertical ? 'height' : 'width';\n        const fnPos = isVertical ? 'requiredHeight' : 'requiredWidth';\n        const len = Math.min(state.rect[pos], state.rect[pos] * ctx.stgns.length) - state.title[fnPos]();\n        return Math.max(0, Math.min(len, ctx.stgns.maxLengthPx));\n      }\n    }\n  };\n\n  return state;\n}\n\n/**\n * @typedef {object} component--legend-seq\n * @property {string} fill - Reference to definition of sequential color scale\n * @property {string} major - Reference to definition of linear scale\n * @property {number} [size=15] - Size in pixels of the legend, if vertical is the width and height otherwise\n * @property {number} [length=1] - A value in the range 0-1 indicating the length of the legend node\n * @property {number} [maxLengthPx=250] - Max length in pixels\n * @property {number} [align=0.5] - A value in the range 0-1 indicating horizontal alignment of the legend's content. 0 aligns to the left, 1 to the right.\n * @property {number} [justify=0] - A value in the range 0-1 indicating vertical alignment of the legend's content. 0 aligns to the top, 1 to the bottom.\n * @property {object} [padding]\n * @property {number} [padding.left=5]\n * @property {number} [padding.right=5]\n * @property {number} [padding.top=5]\n * @property {number} [padding.bottom=5]\n * @property {object} [tick]\n * @property {function} [tick.label] - Function applied to all tick values, returned values are used as labels\n * @property {string} [tick.fill='#595959']\n * @property {string} [tick.fontSize='12px']\n * @property {string} [tick.fontFamily='Arial']\n * @property {number} [tick.maxLengthPx=150] - Max length in pixels\n * @property {string} [tick.anchor='right'] - Where to anchor the tick in relation to the legend node, supported values are [top, bottom, left and right]\n * @property {number} [tick.padding=5] - padding in pixels to the legend node\n * @property {object} [title] - Title settings\n * @property {boolean} [title.show=true] - Toggle title on/off\n * @property {string} [title.text=''] - Title text. Defaults to the title of the provided data field\n * @property {string} [title.fill='#595959']\n * @property {string} [title.fontSize='12px']\n * @property {string} [title.fontFamily='Arial']\n * @property {number} [title.maxLengthPx=100] - Max length in pixels\n * @property {number} [title.padding=5] - padding in pixels to the legend node\n * @property {string} [title.anchor='top'] - Where to anchor the title in relation to the legend node, supported values are [top, left and right]\n * @property {string} [title.wordBreak='none'] - How overflowing title is handled, if it should insert line breaks at word boundries (break-word) or character boundries (break-all)\n * @property {string} [title.hyphens='auto'] - How words should be hyphenated when text wraps across multiple lines (only applicable with wordBreak)\n * @property {number} [title.maxLines=2] - Number of allowed lines if title contains line breaks (only applicable with wordBreak)\n * @property {number} [title.lineHeight=1.2] - A multiplier defining the distance between lines (only applicable with wordBreak)\n */\n\nconst legendDef = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    displayOrder: 0,\n    dock: 'right',\n    settings: {\n      size: 15,\n      length: 0.5,\n      maxLengthPx: 250,\n      align: 0.5,\n      justify: 0,\n      padding: {\n        left: 5,\n        right: 5,\n        top: 5,\n        bottom: 5\n      },\n      tick: {\n        label: null,\n        fill: '#595959',\n        fontSize: '12px',\n        fontFamily: 'Arial',\n        maxLengthPx: 100,\n        anchor: null, // Use default based on dock\n        padding: 5\n      },\n      title: {\n        show: true,\n        text: undefined,\n        fill: '#595959',\n        fontSize: '12px',\n        fontFamily: 'Arial',\n        maxLengthPx: 100,\n        padding: 5,\n        maxLines: 2,\n        wordBreak: 'none',\n        lineHeight: 1.2,\n        hyphens: 'auto',\n        anchor: null // Use default based on dock\n      }\n    }\n  },\n  preferredSize(opts) {\n    const state = this.state;\n    state.rect = initRect(this, opts.inner);\n\n    // Init with size of legend\n    let prefSize = this.stgns.size;\n\n    // Append paddings\n    const paddings = state.isVertical ? this.stgns.padding.left + this.stgns.padding.right : this.stgns.padding.top + this.stgns.padding.bottom;\n    prefSize += paddings;\n\n    // Append tick size\n    const maxSize = Math.max(opts.inner.width, opts.inner.height);\n    if ((state.ticks.anchor === 'left' || state.ticks.anchor === 'right')) {\n      const tHeight = state.ticks.values.reduce((sum, t) => sum + t.textMetrics.height, 0);\n      if (tHeight > this.state.legend.length()) {\n        return maxSize;\n      }\n      prefSize += state.ticks.length;\n    } else {\n      const tWidth = state.ticks.length;\n      if (tWidth > this.state.legend.length()) {\n        return maxSize;\n      }\n      prefSize += Math.max(...state.ticks.values.map(t => t.textMetrics.height));\n    }\n    prefSize += this.stgns.tick.padding;\n\n    // Append or use title size\n    if (this.stgns.title.show) {\n      if (state.title.anchor === 'left' || state.title.anchor === 'right') {\n        prefSize = Math.max(state.title.textBounds.height + paddings, prefSize);\n      } else {\n        prefSize = Math.max(prefSize, state.title.requiredWidth() + paddings);\n      }\n    }\n\n    this.state.preferredSize = prefSize;\n    return prefSize;\n  },\n  created() {\n    this.stgns = this.settings.settings;\n\n    this.state = initState(this);\n  },\n  beforeUpdate(opts) {\n    this.stgns = opts.settings.settings;\n\n    this.state = initState(this);\n  },\n  beforeRender(opts) {\n    this.state.nodes = [];\n    this.state.rect = initRect(this, opts.size);\n\n    if (this.stgns.title.show) {\n      const titleNode = createTitleNode(this);\n      this.state.nodes.push(titleNode);\n    }\n\n    const stopNodes = generateStopNodes(this);\n    const rectNode = createLegendRectNode(this, stopNodes);\n    const tickNodes = createTickNodes(this, rectNode);\n\n    const targetNode = { // The target node enables range selection component to limit its range to a specific area\n      id: 'legend-seq-target',\n      type: 'container',\n      children: [rectNode, tickNodes]\n    };\n\n    this.state.nodes.push(targetNode);\n  },\n  render() {\n    return this.state.nodes;\n  }\n};\n\nexport default legendDef;\n","import legendSeq from './legend-seq';\n\nexport default function sequentialLegend(picasso) {\n  picasso.component('legend-seq', legendSeq);\n}\n","import extend from 'extend';\nimport {\n  area,\n  curveLinear,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n  curveBasis,\n  curveCardinal,\n  curveCatmullRom,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural\n} from 'd3-shape';\n\nconst CURVES = {\n  step: curveStep,\n  stepAfter: curveStepAfter,\n  stepBefore: curveStepBefore,\n  linear: curveLinear,\n  basis: curveBasis,\n  cardinal: curveCardinal.tension(0),\n  catmullRom: curveCatmullRom,\n  monotonex: curveMonotoneX,\n  monotoney: curveMonotoneY,\n  natural: curveNatural\n};\n\n/**\n * @callback component--line~layerSort\n * @param {object} a\n * @param {string} a.id\n * @param {Array<datum-extract>} a.data\n * @param {object} b\n * @param {string} b.id\n * @param {Array<datum-extract>} b.data\n */\n\n/**\n * @typedef {object}\n * @alias component--line-settings\n */\nconst SETTINGS = {\n  /**\n   * @typedef {object}\n   */\n  coordinates: {\n    /**\n     * @type {number} */\n    minor: 0.5,\n    /**\n     * @type {number} */\n    major: 0.5,\n    /**\n     * @type {number=} */\n    layerId: 0\n  },\n  /**\n   * @type {string=} */\n  orientation: 'horizontal',\n  /**\n   * @typedef {object} */\n  layers: {\n    /**\n     * @type {string=} */\n    curve: 'linear',\n    /**\n     * @type {boolean=} */\n    show: true,\n    /**\n     * @type {component--line~layerSort=} */\n    sort: undefined,\n    /**\n     * @typedef {object} */\n    line: {\n      /**\n       * @type {string=} */\n      stroke: '#ccc',\n      /**\n       * @type {number=} */\n      strokeWidth: 1,\n      /**\n       * @type {string=} */\n      strokeLinejoin: 'miter',\n      /**\n       * @type {string=} */\n      strokeDasharray: undefined,\n      /**\n       * @type {number=} */\n      opacity: 1,\n      /**\n       * @type {boolean=} */\n      show: true\n    },\n    /**\n     * @typedef {object} */\n    area: {\n      /**\n       * @type {string=} */\n      fill: '#ccc',\n      /**\n       * @type {number=} */\n      opacity: 0.8,\n      /**\n       * @type {boolean=} */\n      show: true\n    }\n  }\n};\n\nfunction createDisplayLayer(points, {\n  generator,\n  item,\n  data\n}, fill = '') {\n  const path = generator(points);\n  const d = {\n    type: 'path',\n    d: path,\n    opacity: item.opacity,\n    stroke: item.stroke,\n    strokeWidth: item.strokeWidth,\n    strokeLinejoin: item.strokeLinejoin,\n    fill: fill || item.fill,\n    data\n  };\n\n  if (item.strokeDasharray) {\n    d.strokeDasharray = item.strokeDasharray;\n  }\n\n  return d;\n}\n\nfunction createDisplayLayers(layers, {\n  width,\n  height,\n  missingMinor0,\n  stngs\n}) {\n  const nodes = [];\n  const layerStngs = stngs.layers || {};\n  layers.forEach((layer) => {\n    const {\n      lineObj, layerObj, areaObj, points\n    } = layer;\n\n    const areaGenerator = area();\n    let lineGenerator;\n    let secondaryLineGenerator;\n    let minor = { size: height, p: 'y' };\n    let major = { size: width, p: 'x' };\n    if (stngs.orientation === 'vertical') {\n      const temp = extend(true, {}, major);\n      major = extend(true, {}, minor);\n      minor = extend(true, {}, temp);\n    }\n\n    areaGenerator\n      [major.p](d => d.major * major.size) // eslint-disable-line no-unexpected-multiline\n      [`${minor.p}1`](d => d.minor * minor.size) // eslint-disable-line no-unexpected-multiline\n      [`${minor.p}0`](d => d.minor0 * minor.size) // eslint-disable-line no-unexpected-multiline\n      .defined(d => typeof d.minor === 'number' && !isNaN(d.minor))\n      .curve(CURVES[layerObj.curve === 'monotone' ? `monotone${major.p}` : layerObj.curve]);\n    lineGenerator = areaGenerator[`line${minor.p.toUpperCase()}1`]();\n    secondaryLineGenerator = areaGenerator[`line${minor.p.toUpperCase()}0`]();\n\n    // area layer\n    if (layerStngs.area && areaObj.show !== false) {\n      nodes.push(createDisplayLayer(points, {\n        data: layer.firstPoint,\n        item: areaObj,\n        generator: areaGenerator\n      }));\n    }\n\n    // main line layer\n    if (lineObj && lineObj.show !== false) {\n      nodes.push(createDisplayLayer(points, {\n        data: layer.firstPoint,\n        item: lineObj,\n        generator: lineGenerator\n      }, 'none'));\n\n      // secondary line layer, used only when rendering area\n      if (!missingMinor0 && layerStngs.area && areaObj.show !== false) {\n        nodes.push(createDisplayLayer(points, {\n          data: layer.firstPoint,\n          item: lineObj,\n          generator: secondaryLineGenerator\n        }, 'none'));\n      }\n    }\n  });\n\n  return nodes;\n}\n\nfunction resolve({\n  data,\n  stngs,\n  rect,\n  resolver,\n  style\n}) {\n  const { width, height } = rect;\n  const coordinates = resolver.resolve({\n    data,\n    defaults: SETTINGS.coordinates,\n    settings: stngs.coordinates || {},\n    scaled: {\n      major: stngs.orientation === 'vertical' ? height : width,\n      minor: stngs.orientation === 'vertical' ? width : height\n    }\n  });\n\n  // collect points into layers\n  const layerIds = {};\n  let numLines = 0;\n  for (let i = 0; i < coordinates.items.length; i++) {\n    let p = coordinates.items[i];\n    let lid = p.layerId;\n    layerIds[lid] = layerIds[lid] || {\n      order: numLines++, id: lid, items: [], firstPoint: p.data\n    };\n    layerIds[lid].items.push(p);\n  }\n\n  const metaLayers = Object.keys(layerIds).map(lid => layerIds[lid]);\n  const layersData = { items: metaLayers.map(layer => layer.firstPoint) };\n  const layerStngs = stngs.layers || {};\n\n  const layersResolved = resolver.resolve({\n    data: layersData,\n    defaults: {\n      curve: SETTINGS.layers.curve,\n      show: SETTINGS.layers.show\n    },\n    settings: {\n      curve: layerStngs.curve,\n      show: layerStngs.show\n    }\n  });\n\n  const linesResolved = resolver.resolve({\n    data: layersData,\n    defaults: extend({}, SETTINGS.layers.line, style.line),\n    settings: layerStngs.line\n  });\n\n  const areasResolved = resolver.resolve({\n    data: layersData,\n    defaults: extend({}, SETTINGS.layers.area, style.area),\n    settings: layerStngs.area\n  });\n\n  return {\n    coordinates,\n    metaLayers,\n    layers: layersResolved,\n    lines: linesResolved,\n    areas: areasResolved\n  };\n}\n\nfunction calculateVisibleLayers(opts) {\n  const {\n    metaLayers,\n    coordinates,\n    layers,\n    lines,\n    areas\n  } = resolve(opts);\n\n  const visibleLayers = [];\n  metaLayers.forEach((layer, ix) => {\n    const layerObj = layers.items[ix];\n    if (layerObj.show === false) {\n      return;\n    }\n\n    // layerObj.points = [];\n    layerObj.datum = layerObj.data;\n    layerObj.data = [];\n    layerObj.id = layer.id;\n\n    const values = [];\n    const points = [];\n    let point;\n    let pData;\n    for (let i = 0; i < layer.items.length; i++) {\n      point = layer.items[i];\n      pData = point.data;\n      if (isNaN(point.major)) {\n        continue;\n      }\n      if (opts.missingMinor0) {\n        point.minor0 = coordinates.settings.minor.scale ? coordinates.settings.minor.scale(pData.minor0 ? pData.minor0.value : 0) : 0;\n      }\n      if (!isNaN(point.minor)) {\n        values.push(point.minor);\n      }\n      points.push(point);\n      layerObj.data.push(point.data);\n    }\n\n    const median = values.sort((a, b) => a - b)[Math.floor((values.length - 1) / 2)];\n\n    visibleLayers.push({\n      layerObj,\n      lineObj: lines.items[ix],\n      areaObj: areas.items[ix],\n      median,\n      points,\n      firstPoint: layer.firstPoint\n    });\n  });\n\n  return visibleLayers;\n}\n\nconst lineMarkerComponent = {\n  require: ['chart', 'resolver'],\n  defaultSettings: {\n    style: {\n      area: '$shape',\n      line: '$shape-outline'\n    }\n  },\n  created() {\n  },\n  beforeRender({ size }) {\n    this.rect = size;\n  },\n  render({ data }) {\n    const { width, height } = this.rect;\n    this.stngs = this.settings.settings || {};\n    const missingMinor0 = !this.stngs.coordinates || typeof this.stngs.coordinates.minor0 === 'undefined';\n\n    const visibleLayers = calculateVisibleLayers({\n      data,\n      stngs: this.stngs,\n      rect: this.rect,\n      resolver: this.resolver,\n      style: this.style,\n      missingMinor0\n    });\n\n    if (this.stngs.layers && this.stngs.layers.sort) {\n      const sortable = visibleLayers.map(v => ({\n        id: v.layerObj.id,\n        data: v.layerObj.data\n      }));\n      sortable.sort(this.stngs.layers.sort).map(s => s.id);\n      visibleLayers.sort((a, b) => sortable.indexOf(b.layerObj.id) - sortable.indexOf(a.layerObj.id));\n    } else {\n      visibleLayers.sort((a, b) => a.median - b.median);\n    }\n\n    // generate visuals\n    return createDisplayLayers(visibleLayers, {\n      width,\n      height,\n      missingMinor0,\n      stngs: this.stngs\n    });\n  }\n};\n\nexport default lineMarkerComponent;\n","import component from './line';\n\n/**\n * @typedef {object} component--line\n */\n\n/**\n * @type {string}\n * @memberof component--line\n */\nconst type = 'line';\n\nexport default function line(picasso) {\n  picasso.component(type, component);\n}\n","import extend from 'extend';\nimport { testRectPoint } from '../../../core/math/narrow-phase-collision';\n\n/**\n * @typedef {object} component--brush-area-brush\n * @property {string} key - Component key\n * @property {string[]} [contexts] - Name of the brushing contexts to affect\n * @property {string[]} [data] - The mapped data properties to add to the brush\n * @property {string} [action='set'] - Type of action to respond with\n */\n\n/**\n  * @typedef {object}\n  * @alias component--brush-area-settings\n  */\nconst DEFAULT_SETTINGS = {\n  /**\n   * @type {object}\n   */\n  brush: {\n    /**\n   * @type {Array<component--brush-area-brush>}\n   */\n    components: []\n  }\n};\n\n/**\n * Transform the incoming event into point in the local coordinate system. That is the coordinate system of the component.\n * @private\n * @param {object} ctx - Context\n * @param {object} event - Incoming event, either native event or hammer event\n * @param {boolean} clamp - True to clamp the point inside the component bounds\n * @returns {point}\n */\nfunction getLocalPoint(ctx, event, clamp = true) {\n  let x;\n  let y;\n\n  if (typeof event.center === 'object') {\n    x = event.center.x;\n    y = event.center.y;\n  } else {\n    x = event.clientX;\n    y = event.clientY;\n  }\n\n  const localX = x - ctx.state.boundingRect.left;\n  const localY = y - ctx.state.boundingRect.top;\n\n  return {\n    x: clamp ? Math.max(0, Math.min(localX, ctx.rect.width)) : localX,\n    y: clamp ? Math.max(0, Math.min(localY, ctx.rect.height)) : localY\n  };\n}\n\n/**\n * Transform a local point into a point in the chart coordinate system.\n * @private\n * @param {object} ctx - Context\n * @param {object} p - Point to transform\n * @returns {point}\n */\nfunction localToChartPoint(ctx, p) {\n  return {\n    x: p.x + ctx.rect.x,\n    y: p.y + ctx.rect.y\n  };\n}\n\n/**\n * Extract and apply default brush configuration.\n * @private\n * @param {object} settings\n * @returns {object[]} An Array of brush configurations\n */\nfunction getBrushConfig(settings) {\n  return settings.settings.brush.components.map(b => (\n    {\n      key: b.key,\n      contexts: b.contexts,\n      data: b.data,\n      action: b.action || 'set'\n    }));\n}\n\n/**\n * End all active brush contexts.\n * @private\n * @param {oject} state\n * @param {object} chart - Chart instance\n */\nfunction doEndBrush(state, chart) {\n  state.brushConfig.forEach((config) => {\n    if (Array.isArray(config.contexts)) {\n      config.contexts.forEach((context) => {\n        chart.brush(context).end();\n      });\n    }\n  });\n}\n\n/**\n * Convert two points into a rectangle.\n * @private\n * @param {point} p0\n * @param {point} p1\n * @returns {rect}\n */\nfunction toRect(p0, p1) {\n  const xMin = Math.min(p0.x, p1.x);\n  const yMin = Math.min(p0.y, p1.y);\n  const xMax = Math.max(p0.x, p1.x);\n  const yMax = Math.max(p0.y, p1.y);\n\n  return {\n    x: xMin,\n    y: yMin,\n    width: xMax - xMin,\n    height: yMax - yMin\n  };\n}\n\n/**\n * Perform a brush on the given area.\n * @private\n * @param {object} ctx\n */\nfunction doAreaBrush(ctx) {\n  if (ctx.state.active) {\n    const start = localToChartPoint(ctx, ctx.state.start);\n    const end = localToChartPoint(ctx, ctx.state.end);\n\n    const shapes = ctx.chart.shapesAt(toRect(start, end), { components: ctx.state.brushConfig });\n    ctx.chart.brushFromShapes(shapes, { components: ctx.state.brushConfig });\n  }\n}\n\nfunction render(ctx) {\n  ctx.renderer.render([\n    extend({ type: 'rect' }, toRect(ctx.state.start, ctx.state.end), ctx.style.area)\n  ]);\n}\n\nfunction resetState() {\n  return {\n    start: { x: 0, y: 0 },\n    end: { x: 0, y: 0 },\n    active: false\n  };\n}\n\nconst definition = {\n  require: ['chart', 'renderer'],\n  defaultSettings: {\n    displayOrder: 99,\n    settings: DEFAULT_SETTINGS,\n    style: {\n      area: '$selection-area-target'\n    }\n  },\n  on: {\n    areaStart(e) {\n      this.start(e);\n    },\n    areaMove(e) {\n      this.move(e);\n    },\n    areaEnd(e) {\n      this.end(e);\n    },\n    areaCancel() {\n      this.cancel();\n    }\n  },\n  created() {\n    this.state = resetState();\n  },\n  preferredSize() {\n    return 0;\n  },\n  render() {},\n  beforeRender({ size }) {\n    this.rect = size;\n  },\n  start(e) {\n    this.state.boundingRect = this.renderer.element().getBoundingClientRect();\n    const p = getLocalPoint(this, e, false);\n\n    // Require event to be inside the component bounds\n    if (!testRectPoint({\n      x: 0, y: 0, width: this.rect.width, height: this.rect.height\n    }, p)) {\n      return;\n    }\n\n    this.state.brushConfig = getBrushConfig(this.settings);\n    this.state.start = getLocalPoint(this, e);\n    this.state.active = true;\n  },\n  move(e) {\n    if (!this.state.active) {\n      return;\n    }\n\n    this.state.end = getLocalPoint(this, e);\n\n    doAreaBrush(this);\n    render(this);\n  },\n  end() {\n    if (!this.state.active) {\n      return;\n    }\n\n    this.state = resetState();\n    this.renderer.render([]);\n  },\n  cancel() {\n    if (!this.state.active) {\n      return;\n    }\n    doEndBrush(this.state, this.chart);\n    this.state = resetState();\n    this.renderer.render([]);\n  }\n\n};\n\nexport default definition;\n","import definition from './brush-area';\n\nexport default function areaBrush(picasso) {\n  picasso.component('brush-area', definition);\n}\n","import extend from 'extend';\n\nexport default function extractor(nodes, {\n  chart,\n  scale,\n  props,\n  h\n}) {\n  const dataCtx = {\n    resources: {\n      dataset: chart.dataset,\n      scale: chart.scale,\n      formatter: chart.formatter\n    },\n    scale,\n    h\n  };\n\n  const data = [];\n  nodes.forEach((node) => {\n    if (typeof props.extract === 'function') {\n      const ctx = extend({ node }, dataCtx);\n      data.push(props.extract(ctx));\n    }\n  });\n\n  return data;\n}\n","import extend from 'extend';\nimport classString from '../../../core/utils/class-string';\n\nfunction resolveClasses(props, opts) {\n  return {\n    tooltip: typeof props.tooltipClass === 'function' ? props.tooltipClass({ dock: opts.dock }) : props.tooltipClass,\n    content: typeof props.contentClass === 'function' ? props.contentClass({ dock: opts.dock }) : props.contentClass,\n    arrow: typeof props.arrowClass === 'function' ? props.arrowClass({ dock: opts.dock }) : props.arrowClass\n  };\n}\n\nfunction resolveContent(h, data, style, props) {\n  return props.content({\n    h,\n    style,\n    data\n  });\n}\n\nexport default function render(data, placement, {\n  renderer,\n  style,\n  props,\n  h\n}) {\n  const classes = resolveClasses(props, placement);\n  const content = resolveContent(h, data, style, props);\n\n  const tooltipDefaultStyle = {\n    position: 'relative',\n    display: 'inline-block'\n  };\n\n  const tooltipNode = (\n    <div dir={props.direction} class={classString(extend({ 'pic-tooltip': true }, classes.tooltip))} style={extend(tooltipDefaultStyle, placement.computedTooltipStyle)}>\n      <div style={style.content} class={classString(extend({ 'pic-tooltip-content': true }, classes.content))}>\n        {content}\n      </div>\n      <div class={classString(extend({ 'pic-tooltip-arrow': true }, classes.arrow))} style={extend({}, style.arrow, style[`arrow-${placement.dock}`], placement.computedArrowStyle)}></div>\n    </div>\n  );\n\n  renderer.render(tooltipNode);\n\n  return renderer.element().children[0];\n}\n","// Successfull flow: pending -> active -> fulfilled (only with duration)\n// Cancelled flow: pending -> active -> cancelled\n// Rejected flow: pending -> rejected\n// Debounced flow: pending -> debounced -> pending -> [rejected|fulfilled]\nfunction dispatcherState() {\n  const fn = function fn() { };\n  const on = {\n    pending: [],\n    debounced: [],\n    active: [],\n    cancelled: [],\n    rejected: [],\n    fulfilled: []\n  };\n  let state;\n\n  fn.set = (s) => {\n    state = s;\n    on[state].forEach(event => event(s));\n  };\n\n  fn.on = (key, event) => {\n    if (Array.isArray(key)) {\n      key.forEach(k => on[k].push(event));\n    } else {\n      on[key].push(event);\n    }\n  };\n\n  // fn.on(['pending', 'debounced', 'active', 'cancelled', 'rejected', 'fulfilled'], (e) => {\n  //   console.log(e);\n  // });\n\n  return fn;\n}\n\nexport default function timeSpanDispatcher({\n  defaultDuration,\n  defaultDelay\n}) {\n  let actionId = null;\n  let fulfilledId = null;\n  let isActive = false;\n  const state = dispatcherState();\n  const fn = function fn() {};\n  const fulfilled = () => {\n    actionId = null;\n    fulfilledId = null;\n    isActive = false;\n    state.set('fulfilled');\n  };\n\n  fn.invoke = (action, duration = defaultDuration, delay = defaultDelay) => {\n    if (actionId) {\n      clearTimeout(actionId);\n      state.set('debounced');\n    }\n\n    state.set('pending');\n    actionId = setTimeout(() => {\n      action();\n      isActive = true;\n      actionId = null;\n      state.set('active');\n    }, delay);\n\n    if (duration > 0) {\n      if (fulfilledId) {\n        clearTimeout(fulfilledId);\n      }\n      fulfilledId = setTimeout(fulfilled, duration + Math.max(delay, 0));\n    }\n  };\n\n  fn.clear = () => {\n    if (isActive) {\n      state.set('cancelled');\n    } else if (actionId) {\n      clearTimeout(actionId);\n      state.set('rejected');\n    }\n    if (fulfilledId) {\n      clearTimeout(fulfilledId);\n    }\n    actionId = null;\n    fulfilledId = null;\n    isActive = false;\n  };\n\n  fn.on = (key, event) => {\n    state.on(key, event);\n  };\n\n  return fn;\n}\n","import extend from 'extend';\n\nfunction getDockTransform(offset = 0) {\n  return {\n    left: `translate(-100%,-50%) translateX(${-offset}px)`,\n    right: `translate(${offset}px, -50%)`,\n    top: `translate(-50%, -100%) translateY(${-offset}px)`,\n    bottom: `translate(-50%, ${offset}px)`\n  };\n}\n\nfunction getDockOffset(width, height, offset = 0) {\n  return {\n    left: { x: -width - offset, y: -height / 2 },\n    right: { x: offset, y: -height / 2 },\n    top: { x: -width / 2, y: -height - offset },\n    bottom: { x: -width / 2, y: offset }\n  };\n}\n\nfunction getComputedArrowStyle(offset) {\n  return {\n    left: {\n      left: '100%',\n      top: `calc(50% - ${offset}px)`,\n      borderWidth: `${offset}px`\n    },\n    right: {\n      left: `${-offset * 2}px`,\n      top: `calc(50% - ${offset}px)`,\n      borderWidth: `${offset}px`\n    },\n    top: {\n      left: `calc(50% - ${offset}px)`,\n      top: '100%',\n      borderWidth: `${offset}px`\n    },\n    bottom: {\n      left: `calc(50% - ${offset}px)`,\n      top: `${-offset * 2}px`,\n      borderWidth: `${offset}px`\n    }\n  };\n}\n\nfunction isInsideArea(area, vx, vy, width, height, offset) {\n  const rect = {\n    x: vx + offset.x,\n    y: vy + offset.y,\n    width,\n    height\n  };\n\n  if (rect.x < 0 || rect.y < 0) {\n    return false;\n  }\n  if (rect.x + rect.width > area.width || rect.y + rect.height > area.height) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * @param {vx} vx X-coordinate realative to the area\n * @param {vy} vy Y-coordinate realative to the area\n */\nexport function calcOffset({\n  area, vx, vy, width, height, offset\n}) {\n  const rect = {\n    x: vx + offset.x,\n    y: vy + offset.y,\n    width,\n    height\n  };\n\n  let offsetX = rect.x < 0 ? -rect.x : 0;\n  let offsetY = rect.y < 0 ? -rect.y : 0;\n\n  offsetX += rect.x + rect.width > area.width\n    ? -((rect.x + rect.width) - area.width) : 0;\n  offsetY += rect.y + rect.height > area.height\n    ? -((rect.y + rect.height) - area.height) : 0;\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\n\nfunction alignToBounds({\n  resources,\n  nodes,\n  pointer,\n  width: elmWidth,\n  height: elmHeight,\n  options\n}) {\n  const { targetBounds } = pointer;\n  const {\n    x,\n    y,\n    width,\n    height\n  } = resources.getNodeBoundsRelativeToTarget(nodes[0]);\n\n  const docks = {\n    left: { x, y: y + (height / 2) },\n    right: { x: x + width, y: y + (height / 2) },\n    top: { x: x + (width / 2), y },\n    bottom: { x: x + (width / 2), y: y + height }\n  };\n\n  // Check if explicit dock\n  const dockTransforms = getDockTransform(options.offset);\n  const transform = dockTransforms[options.dock];\n  if (transform) {\n    return {\n      computedTooltipStyle: {\n        left: `${docks[options.dock].x}px`,\n        top: `${docks[options.dock].y}px`,\n        transform\n      },\n      computedArrowStyle: getComputedArrowStyle(options.offset)[options.dock],\n      dock: options.dock\n    };\n  }\n\n  const area = {\n    width: options.area === 'target' ? targetBounds.width : window.innerWidth,\n    height: options.area === 'target' ? targetBounds.height : window.innerHeight\n  };\n  const dockOffsets = getDockOffset(elmWidth, elmHeight, options.offset);\n  const dockOrder = ['top', 'left', 'right', 'bottom'];\n\n  for (let i = 0; i < dockOrder.length; i += 1) {\n    const dock = dockOrder[i];\n    const vx = options.area === 'target' ? docks[dock].x : targetBounds.left + docks[dock].x;\n    const vy = options.area === 'target' ? docks[dock].y : targetBounds.top + docks[dock].y;\n    if (isInsideArea(area, vx, vy, elmWidth, elmHeight, dockOffsets[dock])) {\n      return {\n        computedTooltipStyle: {\n          left: `${docks[dock].x}px`,\n          top: `${docks[dock].y}px`,\n          transform: dockTransforms[dock]\n        },\n        computedArrowStyle: getComputedArrowStyle(options.offset)[dock],\n        dock\n      };\n    }\n  }\n\n  return {\n    computedTooltipStyle: {\n      left: `${docks.top.x}px`,\n      top: `${docks.top.y}px`,\n      transform: dockTransforms.top\n    },\n    computedArrowStyle: getComputedArrowStyle(options.offset).top,\n    dock: 'top'\n  };\n}\n\nfunction alignToPoint({\n  options,\n  pointer,\n  width,\n  height,\n  dockOrder,\n  x,\n  y\n}) {\n  const {\n    targetBounds\n  } = pointer;\n\n  // Check if explicit dock\n  const dockTransforms = getDockTransform(options.offset);\n  const transform = dockTransforms[options.dock];\n  if (transform) {\n    return {\n      computedTooltipStyle: {\n        left: `${x}px`,\n        top: `${y}px`,\n        transform\n      },\n      computedArrowStyle: getComputedArrowStyle(options.offset)[options.dock],\n      dock: options.dock\n    };\n  }\n\n  const area = {\n    width: options.area === 'target' ? targetBounds.width : window.innerWidth,\n    height: options.area === 'target' ? targetBounds.height : window.innerHeight\n  };\n  const dockOffsets = getDockOffset(width, height, options.offset);\n\n  const results = [];\n  const edgeMargin = 20;\n  const vx = options.area === 'target' ? x : targetBounds.left + x;\n  const vy = options.area === 'target' ? y : targetBounds.top + y;\n\n  for (let i = 0; i < dockOrder.length; i += 1) {\n    const dock = dockOrder[i];\n\n    const offset = calcOffset({\n      area, vx, vy, width, height, offset: dockOffsets[dock]\n    });\n\n    const computedTooltipStyle = {\n      left: `${x}px`,\n      top: `${y}px`,\n      transform: dockTransforms[dock]\n    };\n    const computedArrowStyle = getComputedArrowStyle(options.offset)[dock];\n\n    if (offset.x !== 0) {\n      computedTooltipStyle.width = `${width - edgeMargin - Math.abs(offset.x)}px`;\n\n      if (dock === 'top' || dock === 'bottom') {\n        computedTooltipStyle.left = `${x + offset.x}px`;\n\n        computedArrowStyle.left = `calc(50% ${offset.x > 0 ? '-' : '+'} ${Math.abs(offset.x)}px)`;\n      }\n    }\n\n    const result = {\n      computedTooltipStyle,\n      computedArrowStyle,\n      dock,\n      rect: {\n        width,\n        height\n      }\n    };\n\n    if (offset.x === 0 && offset.y === 0) {\n      return result;\n    }\n\n    result.offset = offset;\n\n    results.push(result);\n  }\n\n  results.sort((a, b) => Math.abs(a.offset.x) - Math.abs(b.offset.x));\n\n  return results[0];\n}\n\nfunction alignToPointer({\n  options,\n  pointer,\n  width,\n  height\n}) {\n  const {\n    x,\n    y\n  } = pointer;\n\n  return alignToPoint({\n    x,\n    y,\n    pointer,\n    width,\n    height,\n    options,\n    dockOrder: ['top', 'left', 'right', 'bottom']\n  });\n}\n\nfunction alignToSlice({\n  options,\n  pointer,\n  width,\n  height,\n  nodes,\n  resources\n}) {\n  const node = nodes[0];\n  const { dx, dy } = pointer;\n  const componentBounds = resources.getComponentBoundsFromNode(node);\n\n  // cx and cy relative to targetBounds\n  const center = {\n    x: dx + componentBounds.x + (componentBounds.width / 2),\n    y: dy + componentBounds.y + (componentBounds.height / 2)\n  };\n\n  const {\n    start,\n    end,\n    outerRadius\n  } = node.desc.slice;\n\n  // Node origin is at 12 o clock, clockwise, but Math uses 3 a clock, so it's transformed to origin at 3 a clock\n  const middle = ((start + end) / 2) - (Math.PI / 2);\n  const PI2 = Math.PI * 2;\n  const radians = ((middle % PI2) + PI2) % PI2;\n  let dockOrder = ['top', 'left', 'right', 'bottom'];\n\n  if (options.dock === 'auto') {\n    if (radians <= Math.PI / 4 || radians >= (Math.PI * 7) / 4) {\n      dockOrder = ['right', 'top', 'bottom', 'left'];\n    } else if (radians <= (Math.PI * 3) / 4) {\n      dockOrder = ['bottom', 'left', 'right', 'top'];\n    } else if (radians <= (Math.PI * 5) / 4) {\n      dockOrder = ['left', 'top', 'bottom', 'right'];\n    } else {\n      dockOrder = ['top', 'left', 'right', 'bottom'];\n    }\n  }\n\n  return alignToPoint({\n    x: center.x + (outerRadius * componentBounds.scaleRatio.x * Math.cos(radians)),\n    y: center.y + (outerRadius * componentBounds.scaleRatio.y * Math.sin(radians)),\n    pointer,\n    width,\n    height,\n    options,\n    dockOrder\n  });\n}\n\nfunction getComponentBoundsFromNode(node, pointer, chart) {\n  const comp = node.key ? chart.component(node.key)\n    : chart.componentsFromPoint({ x: pointer.clientX, y: pointer.clientY })[0];\n\n  if (!comp) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      scaleRatio: {\n        x: 1,\n        y: 1\n      }\n    };\n  }\n\n  const componentSize = comp.rect;\n  return {\n    x: componentSize.margin.left + (componentSize.x * componentSize.scaleRatio.x),\n    y: componentSize.margin.top + (componentSize.y * componentSize.scaleRatio.y),\n    width: componentSize.width * componentSize.scaleRatio.x,\n    height: componentSize.height * componentSize.scaleRatio.y,\n    scaleRatio: componentSize.scaleRatio\n  };\n}\n\nfunction getNodeBoundsRelativeToTarget(node, pointer, chart) {\n  const componentBounds = getComponentBoundsFromNode(node, pointer, chart);\n  const bounds = node.bounds;\n\n  return {\n    x: componentBounds.x + pointer.dx + bounds.x,\n    y: componentBounds.y + pointer.dy + bounds.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\nconst STRATEGIES = {\n  bounds: alignToBounds,\n  pointer: alignToPointer,\n  slice: alignToSlice\n};\n\nexport default function placement({ width, height }, {\n  chart,\n  state,\n  props\n}) {\n  const propCtx = {\n    resources: {\n      formatter: chart.formatter,\n      scale: chart.scale,\n      component: chart.component,\n      getComponentBoundsFromNode: node => getComponentBoundsFromNode(node, state.pointer, chart),\n      getNodeBoundsRelativeToTarget: node => getNodeBoundsRelativeToTarget(node, state.pointer, chart)\n    },\n    nodes: state.activeNodes,\n    pointer: state.pointer,\n    width,\n    height\n  };\n  const type = typeof props.placement;\n\n  if (type === 'object' && typeof props.placement.fn === 'function') {\n    // Custom placement strategy function\n    return props.placement.fn(propCtx);\n  }\n\n  let opts = {\n    type: 'pointer',\n    offset: 8,\n    dock: 'auto',\n    area: 'viewport'\n  };\n  if (type === 'function') {\n    // Custom placement function\n    opts = extend(opts, props.placement(propCtx));\n  }\n\n  if (type === 'object' && STRATEGIES[props.placement.type]) {\n    // Predefined placement function with options\n    opts = extend(opts, props.placement);\n  } else if (type === 'string' && STRATEGIES[props.placement]) {\n    // Predefined placement function without options\n    opts = extend(opts, { type: props.placement });\n  }\n\n  propCtx.options = opts;\n  return STRATEGIES[opts.type](propCtx);\n}\n","let instance;\n\nexport function setActive(action) {\n  instance = action;\n}\n\nexport function removeActive(action) {\n  if (instance === action) {\n    instance = null;\n    return true;\n  }\n\n  return false;\n}\n\nexport function cancelActive(a) {\n  if (instance && instance !== a) {\n    instance();\n  }\n}\n\nexport function getActive() {\n  return instance;\n}\n\nexport function remove() {\n  instance = null;\n}\n","import extend from 'extend';\nimport extractor from './extractor';\nimport render from './render';\nimport timeSpanDispatcher from './timespan-dispatcher';\nimport placement from './placement';\nimport {\n  setActive,\n  removeActive,\n  cancelActive\n} from './instance-handler';\n\n/**\n * @typedef {object}\n * @alias component--tooltip.settings\n */\nconst DEFAULT_SETTINGS = {\n  /**\n   * How long the tooltip is visible, in milliseconds\n   * @type {number=}\n   */\n  duration: 8000,\n  /**\n   * Delay before the tooltip is rendered, in milliseconds\n   * @type {number=}\n   */\n  delay: 500,\n  /**\n   * Reduce incoming nodes to only a set of applicable nodes. Is called as a part of the `show` event.\n   * @type {function=}\n   * @returns {array} An array of nodes\n   */\n  filter: nodes => nodes.filter(node => node.data && typeof node.data.value !== 'undefined'),\n  /**\n   * Extract data from a node.\n   * @type {function=}\n   * @returns {object} An array of data\n   */\n  extract: ctx => ctx.node.data.value,\n  /**\n   * Content generator. Extracted data is available in the `data` property, where each value in the area is the extracted datum from a node.\n   * @type {function=}\n   * @returns {object[]} Array of h objects\n   */\n  content: ({ h, data }) => data.map(datum => h('div', {}, datum)),\n  /**\n   * Comparison function. If evaluted to true, the incoming nodes in the `show` event are ignored. If evaluated to false, any active tooltip is cleared and a new tooltip is queued.\n   *\n   * The function gets two parameters, the first is the currently active set of nodes, if any, and the second is the incoming set of nodes. By default the two set of nodes are considered equal if their data attributes are the same.\n   * @type {function=}\n   * @returns {boolean}\n   */\n  isEqual: (prev, curr) => prev.length\n    && prev.length === curr.length\n    && prev.every((p, i) => curr[i] && JSON.stringify(p.data) === JSON.stringify(curr[i].data)),\n  /**\n   * @typedef {object=}\n   */\n  placement: {\n    /**\n     * Available types: [pointer | bounds | slice]\n     * @type {string=}\n     */\n    type: 'pointer',\n    /**\n     * Docking position of the tooltip. Available positions: [left | right | top | bottom | auto]\n     * @type {string=}\n     */\n    dock: 'auto',\n    /**\n     * Distance from the content area to the tooltip position, in px.\n     * @type {number=}\n     */\n    offset: 8,\n    /**\n     * Specify the limiting area, where target is the component area unless the appendTo property is set, in which case it referes to the appendTo element. Viewport is the browser viewport.\n     *\n     * Available options are: [viewport | target]\n     * @type {number=}\n     */\n    area: 'viewport'\n  },\n  /**\n   * Set tooltip class.\n  * @type {object<string, boolean>=}\n  */\n  tooltipClass: {},\n  /**\n   * Set content class.\n  * @type {object<string, boolean>=}\n  */\n  contentClass: {},\n  /**\n   * Set arrow class.\n  * @type {object<string, boolean>=}\n  */\n  arrowClass: {},\n  /**\n   * Content direction [ltr | rtl]\n   * @type {string=}\n   */\n  direction: 'ltr',\n  /**\n   * Explicitly set a target element. This allows the tooltip to attach itself outside the picasso container.\n   * @type {HTMLElement=}\n   */\n  appendTo: undefined,\n  /**\n   * Component lifecycle hook. Called before the tooltip is displayed.\n   * @type {function=}\n   */\n  beforeShow: undefined,\n  /**\n   * Component lifecycle hook. Called after the tooltip have been displayed.\n   * @type {function=}\n   */\n  afterShow: undefined,\n  /**\n   * Component lifecycle hook. Called before the tooltip is hidden.\n   * @type {function=}\n   */\n  beforeHide: undefined,\n  /**\n   * Component lifecycle hook. Called when the toolip is hidden. By default this deletes the tooltip element.\n   * @type {function=}\n   */\n  onHide: undefined,\n  /**\n   * Component lifecycle hook. Called after the tooltip is hidden.\n   * @type {function=}\n   */\n  afterHide: undefined\n};\n\nconst DEFAULT_STYLE = {\n  tooltip: {},\n  content: {\n    backgroundColor: '$gray-25',\n    color: '$font-color--inverted',\n    fontFamily: '$font-family',\n    fontSize: '$font-size',\n    lineHeight: '$line-height',\n    borderRadius: '4px',\n    padding: '8px',\n    opacity: 0.9\n  },\n  arrow: {\n    position: 'absolute',\n    width: '0px',\n    height: '0px',\n    borderStyle: 'solid',\n    color: '$gray-25',\n    opacity: 0.9\n  },\n  'arrow-bottom': {\n    borderTopColor: 'transparent',\n    borderLeftColor: 'transparent',\n    borderRightColor: 'transparent'\n  },\n  'arrow-top': {\n    borderBottomColor: 'transparent',\n    borderLeftColor: 'transparent',\n    borderRightColor: 'transparent'\n  },\n  'arrow-right': {\n    borderTopColor: 'transparent',\n    borderLeftColor: 'transparent',\n    borderBottomColor: 'transparent'\n  },\n  'arrow-left': {\n    borderTopColor: 'transparent',\n    borderBottomColor: 'transparent',\n    borderRightColor: 'transparent'\n  }\n};\n\nfunction toPoint(event, { chart, state }) {\n  let x = 0;\n  let y = 0;\n  if (event.center) {\n    x += event.center.x;\n    y += event.center.y;\n  } else {\n    x += event.clientX;\n    y += event.clientY;\n  }\n  // TODO Don't do getBoundingClientRect lookup here. It's performance heavy.\n  const chartBounds = chart.element.getBoundingClientRect();\n  const targetBounds = state.targetElement.getBoundingClientRect();\n  const clientX = x;\n  const clientY = y;\n  const dx = chartBounds.left - targetBounds.left;\n  const dy = chartBounds.top - targetBounds.top;\n  const cx = x - chartBounds.left;\n  const cy = y - chartBounds.top;\n  x -= targetBounds.left;\n  y -= targetBounds.top;\n  return {\n    x, // Target point relative to the target bounds\n    y,\n    dx, // Delta from target bounds to the chart bounds\n    dy,\n    cx, // Target point relative to the chart bounds\n    cy,\n    clientX,\n    clientY,\n    targetBounds, // Target bounding rect\n    chartBounds // Chart bounding rect\n  };\n}\n\nconst component = {\n  require: ['chart', 'renderer'],\n  defaultSettings: {\n    settings: DEFAULT_SETTINGS,\n    style: DEFAULT_STYLE\n  },\n  renderer: 'dom',\n  on: {\n    hide() {\n      this.hide();\n    },\n    show(event, opts = {}) {\n      this.show(event, opts);\n    },\n    prevent(p) {\n      this.prevent(p);\n    }\n  },\n  hide() {\n    this.dispatcher.clear();\n    this.state.activeNodes = [];\n    this.state.pointer = {};\n  },\n  show(event, { nodes, duration, delay } = {}) {\n    if (this.state.prevent) {\n      return;\n    }\n\n    // Set pointer here to always expose latest pointer to invokeRenderer\n    this.state.pointer = toPoint(event, this);\n\n    let fNodes;\n    if (Array.isArray(nodes)) {\n      fNodes = this.props.filter(nodes);\n    } else {\n      fNodes = this.props.filter(this.chart.shapesAt({\n        x: this.state.pointer.cx,\n        y: this.state.pointer.cy\n      }));\n    }\n\n    if (this.props.isEqual(this.state.activeNodes, fNodes)) {\n      return;\n    }\n\n    this.dispatcher.clear();\n    this.state.activeNodes = fNodes;\n\n    if (this.state.activeNodes.length) {\n      this.dispatcher.invoke(\n        () => this.invokeRenderer(this.state.activeNodes),\n        duration,\n        delay\n      );\n    }\n  },\n  prevent(p) {\n    this.state.prevent = !!p;\n  },\n  init(settings) {\n    this.state = {\n      activeNodes: [],\n      pointer: {},\n      targetElement: null,\n      prevent: false\n    };\n    this.props = settings.settings;\n    this.dispatcher = timeSpanDispatcher({\n      defaultDuration: this.props.duration,\n      defaultDelay: this.props.delay\n    });\n\n    const instanceId = this.dispatcher.clear;\n    this.dispatcher.on('pending', () => {\n      // Cancel only if the active is another instance\n      cancelActive(instanceId);\n      setActive(instanceId);\n\n      if (typeof this.props.beforeShow === 'function') {\n        this.props.beforeShow.call(undefined, {\n          resources: {\n            formatter: this.chart.formatter,\n            scale: this.chart.scale\n          }\n        });\n      }\n    });\n\n    this.dispatcher.on(['cancelled', 'fulfilled'], () => {\n      const listenerCtx = {\n        resources: {\n          formatter: this.chart.formatter,\n          scale: this.chart.scale\n        }\n      };\n\n      if (typeof this.props.beforeHide === 'function') {\n        this.props.beforeHide.call(undefined, extend({ element: this.state.tooltipElm }, listenerCtx));\n      }\n\n      if (typeof this.props.onHide === 'function') {\n        this.props.onHide.call(undefined, extend({ element: this.state.tooltipElm }, listenerCtx));\n      } else {\n        this.renderer.clear([]); // Hide tooltip\n      }\n\n      if (typeof this.props.afterHide === 'function') {\n        this.props.afterHide.call(undefined, listenerCtx);\n      }\n\n      removeActive(instanceId);\n      this.state.tooltipElm = undefined;\n    });\n\n    this.dispatcher.on('active', () => {\n      if (typeof this.props.afterShow === 'function') {\n        this.props.afterShow.call(undefined, {\n          element: this.state.tooltipElm,\n          resources: {\n            formatter: this.chart.formatter,\n            scale: this.chart.scale\n          }\n        });\n      }\n    });\n  },\n  created() {\n    this.init(this.settings);\n  },\n  beforeUpdate({ settings }) {\n    if (this.dispatcher) {\n      this.dispatcher.clear();\n    }\n    this.init(settings);\n  },\n  beforeRender(opts) {\n    this.rect = opts.size;\n  },\n  render(h) {\n    this.h = h;\n    return []; // Nothing to render initially.\n  },\n  beforeDestroy() {\n    this.dispatcher.clear();\n  },\n  appendTo() {\n    if (this.props.appendTo) {\n      this.state.targetElement = typeof this.props.appendTo === 'function' ? this.props.appendTo({\n        resources: {\n          formatter: this.chart.formatter,\n          scale: this.chart.scale\n        }\n      }) : this.props.appendTo;\n      const bounds = this.state.targetElement.getBoundingClientRect();\n      const size = {\n        width: bounds.width,\n        height: bounds.height,\n        scaleRatio: this.renderer.size().scaleRatio\n      };\n      this.renderer.destroy();\n      this.rect = this.renderer.size(size);\n      this.renderer.appendTo(this.state.targetElement);\n    } else {\n      this.state.targetElement = this.renderer.element();\n    }\n  },\n  mounted() {\n    this.appendTo();\n  },\n  updated() {\n    // Append here to, otherwise the picasso displayOrder logic screw things up\n    this.appendTo();\n  },\n  invokeRenderer(nodes) {\n    const items = extractor(nodes, this);\n    const pseudoElement = render(items, { style: { left: '0px', top: '0px', visibility: 'hidden' } }, this);\n    const pos = placement(pseudoElement.getBoundingClientRect(), this);\n    this.state.tooltipElm = render(items, pos, this);\n  }\n};\n\nexport { component as default };\n","import tooltip from './tooltip';\n\n/**\n * @typedef {object} component--tooltip\n */\n\n/**\n * @type {string}\n * @memberof component--tooltip\n */\nconst type = 'tooltip';\n\nexport default function addTooltip(picasso) {\n  picasso.component(type, tooltip);\n}\n","const debugColliderDef = {\n  require: ['renderer', 'chart'],\n  defaultSettings: {\n    settings: {\n      target: '',\n      selector: '*',\n      fill: 'rgba(0, 255, 0, 0.1)',\n      stroke: 'lime',\n      opacity: 1\n    }\n  },\n  on: {\n    update() {\n      this.draw();\n    }\n  },\n  draw() {\n    const shapes = this.chart.findShapes(this.props.selector).filter(s => s.key === this.props.target); // Find all shapes\n    const colliders = shapes.filter(s => s.collider).map(s => s.collider);\n\n    colliders.forEach((c) => {\n      c.fill = this.props.fill;\n      c.stroke = this.props.stroke;\n      c.opacity = this.props.opacity;\n      c.collider = { type: null };\n    });\n\n    this.renderer.render(colliders);\n  },\n  created() {\n    this.props = this.settings.settings;\n  },\n  render() { },\n  mounted() {\n    this.draw();\n  },\n  updated() {\n    this.props = this.settings.settings;\n    this.draw();\n  }\n};\n\nexport default debugColliderDef;\n","import { toRadians } from './angles';\n\nconst PI_X2 = Math.PI * 2;\n\n/**\n * Implementation of F.6.5 https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n * @ignore\n * @param {number} rx - Arc x-radius\n * @param {number} ry - Arc y-radius\n * @param {number} rotation - Arc rotation in degrees (0-360)\n * @param {boolean} largeArcFlag\n * @param {boolean} sweepFlag\n * @param {number} endX - X-coordinate for end of arc\n * @param {number} endY - Y-coordinate for end of arc\n * @param {number} startX - X-coordinate for start of arc\n * @param {number} startY - Y-coordinate for start of arc\n * @returns {object}\n */\nfunction arcToCenter(rx, ry, rotation, largeArcFlag, sweepFlag, endX, endY, startX, startY) {\n  let startAngle;\n  let endAngle;\n  let sweepAngle;\n  let cx;\n  let cy;\n  let radiusRatio;\n\n  const rad = toRadians(rotation % 360);\n\n  // F.6.5.1\n  const cos = Math.cos(rad);\n  const sin = Math.sin(rad);\n  const hdx = (startX - endX) / 2;\n  const hdy = (startY - endY) / 2;\n\n  const x1d = (cos * hdx) + (sin * hdy);\n  const y1d = (cos * hdy) - (sin * hdx);\n\n  // F.6.6\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  radiusRatio = (Math.pow(x1d, 2) / Math.pow(rx, 2)) + (Math.pow(y1d, 2) / Math.pow(ry, 2));\n  if (radiusRatio > 1) {\n    radiusRatio = Math.sqrt(radiusRatio);\n    rx *= radiusRatio;\n    ry *= radiusRatio;\n  }\n\n  // F.6.5.2\n  const rxry = rx * ry;\n  const rxy1d = rx * y1d;\n  const ryx1d = ry * x1d;\n  const den = Math.pow(rxy1d, 2) + Math.pow(ryx1d, 2);\n  const num = Math.pow(rxry, 2) - den;\n\n  let frac = Math.sqrt(Math.max(num / den, 0));\n\n  if (largeArcFlag === sweepFlag) {\n    frac = -frac;\n  }\n\n  const cxd = frac * (rxy1d / ry);\n  const cyd = frac * -(ryx1d / rx);\n\n  // F.6.5.3\n  const mx = (startX + endX) / 2;\n  const my = (startY + endY) / 2;\n  cx = ((cos * cxd) - (sin * cyd)) + mx;\n  cy = (sin * cxd) + (cos * cyd) + my;\n\n  // F.6.5.6 clockwise angle\n  const ux = (x1d - cxd) / rx;\n  const uy = (y1d - cyd) / ry;\n  const vx = (-x1d - cxd) / rx;\n  const vy = (-y1d - cyd) / ry;\n  startAngle = Math.atan2(uy, ux);\n  startAngle += startAngle < 0 ? PI_X2 : 0;\n  endAngle = Math.atan2(vy, vx);\n  endAngle += endAngle < 0 ? PI_X2 : 0;\n\n  sweepAngle = endAngle - startAngle;\n\n  if (!sweepFlag && startAngle < endAngle) {\n    sweepAngle -= PI_X2;\n  } else if (sweepFlag && endAngle < startAngle) {\n    sweepAngle += PI_X2;\n  }\n\n  sweepAngle %= PI_X2;\n\n  return {\n    startAngle,\n    sweepAngle,\n    cx,\n    cy,\n    rx,\n    ry\n  };\n}\n\nexport {\n  arcToCenter as default,\n  PI_X2\n};\n","/**\n * Measure the flatnass of a cubic bezier curve\n * @ignore\n * @param {point} s - Start point\n * @param {point} cp1 - First control point\n * @param {point} cp2 - Second control point\n * @param {point} e - End point\n */\nexport default function flatness(s, cp1, cp2, e) {\n  const ux = Math.abs((s.x + cp2.x) - (cp1.x + cp1.x));\n  const uy = Math.abs((s.y + cp2.y) - (cp1.y + cp1.y));\n  const vx = Math.abs((cp1.x + e.x) - (cp2.x + cp2.x));\n  const vy = Math.abs((cp1.y + e.y) - (cp2.y + cp2.y));\n\n  return ux + uy + vx + vy;\n}\n","import flatness from './curve-flattness';\n\nfunction mid(p0, p1) {\n  return {\n    x: (p0.x + p1.x) / 2,\n    y: (p0.y + p1.y) / 2\n  };\n}\n\nfunction interpolate(t, s, cp1, cp2, e) {\n  const td = 1 - t;\n  const t0 = Math.pow(td, 3) * s;\n  const t1 = 3 * Math.pow(td, 2) * t * cp1;\n  const t2 = 3 * td * Math.pow(t, 2) * cp2;\n  const t3 = Math.pow(t, 3) * e;\n\n  return t0 + t1 + t2 + t3;\n}\n\n/**\n * Recursive subdivision of a curve using de Casteljau algorithm.\n * Splits the curve into multiple line segments where each segments is choosen based on a level of flatness.\n * @ignore\n * @param {point} s - Start point\n * @param {point} cp1 - First control point\n * @param {point} cp2 - Second control point\n * @param {point} e - End point\n * @param {array} points - Initial set of points\n * @returns {point[]} Array of points\n */\nfunction toPoints(s, cp1, cp2, e, points = []) {\n  if (flatness(s, cp1, cp2, e) <= 10) {\n    // Poor man's Set\n    if (points.indexOf(s) === -1) {\n      points.push(s);\n    }\n    if (points.indexOf(e) === -1) {\n      points.push(e);\n    }\n    return points;\n  }\n\n  const t = 0.5;\n\n  const m0 = mid(s, cp1);\n  const m1 = mid(cp1, cp2);\n  const m2 = mid(cp2, e);\n\n  const b = { // Split curve at point\n    x: interpolate(t, s.x, cp1.x, cp2.x, e.x),\n    y: interpolate(t, s.y, cp1.y, cp2.y, e.y)\n  };\n\n  const q0 = mid(m0, m1); // New cp2 for left curve\n  const q1 = mid(m1, m2); // New cp1 for right curve\n\n  toPoints(s, m0, q0, b, points); // left curve\n  toPoints(b, q1, m2, e, points); // Right curve\n\n  return points;\n}\n\nexport {\n  toPoints as default,\n  interpolate\n};\n","import cubicToPoints from './cubic-bezier-curve-interpolation';\n\nfunction interpolate(t, s, cp, e) {\n  const td = (1 - t);\n\n  return (Math.pow(td, 2) * s)\n    + (2 * td * t * cp)\n    + (Math.pow(t, 2) * e);\n}\n\nfunction toCubic(s, cp, e) {\n  const cp1x = s.x + ((2 / 3) * (cp.x - s.x));\n  const cp1y = s.y + ((2 / 3) * (cp.y - s.y));\n  const cp2x = e.x + ((2 / 3) * (cp.x - e.x));\n  const cp2y = e.y + ((2 / 3) * (cp.y - e.y));\n  const cp1 = { x: cp1x, y: cp1y };\n  const cp2 = { x: cp2x, y: cp2y };\n\n  return { cp1, cp2 };\n}\n\n/**\n * Recursive subdivision of a curve using de Casteljau algorithm.\n * Splits the curve into multiple line segments where each segments is choosen based on a level of flatness.\n * @ignore\n * @param {point} s - Start point\n * @param {point} cp - Control point\n * @param {point} e - End point\n * @returns {point[]} Array of points\n */\nfunction toPoints(s, cp, e) {\n  const { cp1, cp2 } = toCubic(s, cp, e);\n\n  return cubicToPoints(s, cp1, cp2, e);\n}\n\nexport {\n  interpolate,\n  toPoints as default\n};\n","import { parsePath } from 'path2d-polyfill';\nimport arcToCenter, { PI_X2 } from '../math/arc-to-center';\nimport cubicCurveToPoints from '../math/cubic-bezier-curve-interpolation';\nimport quadCurveToPoints from '../math/quad-bezier-curve-interpolation';\n\nconst EPSILON = 1e-12;\n\nfunction removeDuplicates(points) {\n  for (let i = 0; i < points.length - 1; i++) {\n    const p0 = points[i];\n    const p1 = points[i + 1];\n    if (Math.abs(p0.x - p1.x) < EPSILON && Math.abs(p0.y - p1.y) < EPSILON) {\n      points.splice(i, 1);\n      i--;\n    }\n  }\n}\n\n/**\n * Transform an arc to a set of points a long the arc.\n * Specifiction F.6 (https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes)\n * @ignore\n * @param {array} s - Segments\n * @param {number} startX - X-coordinate for start of arc\n * @param {number} startY - Y-coordinate for start of arc\n */\nfunction arcToPoints(s, startX, startY) {\n  const points = [];\n  const largeArcFlag = !!s[4]; // F.6.3\n  const sweepFlag = !!s[5]; // F.6.3\n  const rotation = s[3];\n  let endX = s[6];\n  let endY = s[7];\n  let rx = s[1];\n  let ry = s[2];\n  let cx;\n  let cy;\n  let sweepAngle;\n  let startAngle;\n\n  if (s[0] === 'a') {\n    endX += startX;\n    endY += startY;\n  }\n\n  // F.6.2\n  if (startX === endY && startY === endY) {\n    return points;\n  }\n\n  // Given no radius, threat as lineTo command\n  if (!rx || !ry) {\n    points.push({ x: endX, y: endY });\n    return points;\n  }\n\n  ({\n    cx, cy, rx, ry, sweepAngle, startAngle\n  } = arcToCenter(rx, ry, rotation, largeArcFlag, sweepFlag, endX, endY, startX, startY));\n\n  // Approximation of perimeter\n  const p = Math.abs(sweepAngle * Math.sqrt((Math.pow(rx, 2) + Math.pow(ry, 2)) / 2));\n\n  // Generate a point every 10th pixel. Scaling of the node should probably be included in this calculation\n  const res = Math.ceil(p / 10);\n  const resAngle = sweepAngle / res;\n\n  for (let k = 1; k <= res; k++) {\n    const deltaAngle = resAngle * k;\n    const radians = (startAngle + deltaAngle) % PI_X2;\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    // F.6.3 https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n    points.push({\n      x: cx + (cos * rx) + (-sin * cos),\n      y: cy + (sin * ry) + (cos * sin)\n    });\n  }\n\n  // points.push({ x: cx, y: cy });\n\n  return points;\n}\n\n/**\n * Converts a SVG path data string into a set of points.\n * @ignore\n * @param {string} path\n * @returns {Array<point[]>} Array of points\n */\nexport default function pathToPoints(path) {\n  const commands = parsePath(path);\n  const segments = [];\n  const points = [];\n  let x = 0; // Current point\n  let y = 0;\n  let cpx = null; // Last control point on a cubic curve\n  let cpy = null;\n  let qcpx = null; // Last control point on a quad curve\n  let qcpy = null;\n\n  for (let i = 0; i < commands.length; ++i) {\n    const cmd = commands[i];\n    const pathType = cmd[0];\n\n    // Reset control point if command is not cubic\n    if (pathType !== 'S' && pathType !== 's' && pathType !== 'C' && pathType !== 'c') {\n      cpx = null;\n      cpy = null;\n    }\n\n    if (pathType !== 'T' && pathType !== 't' && pathType !== 'Q' && pathType !== 'q') {\n      qcpx = null;\n      qcpy = null;\n    }\n\n    switch (pathType) {\n      case 'm':\n        if (points.length) {\n          segments.push(points.splice(0));\n        }\n        // Fall through\n      case 'l': // eslint-disable-line no-fallthrough\n        x += cmd[1];\n        y += cmd[2];\n        points.push({ x, y });\n        break;\n      case 'M':\n        if (points.length) {\n          segments.push(points.splice(0));\n        }\n        // Fall through\n      case 'L': // eslint-disable-line no-fallthrough\n        x = cmd[1];\n        y = cmd[2];\n        points.push({ x, y });\n        break;\n      case 'H':\n        x = cmd[1];\n        points.push({ x, y });\n        break;\n      case 'h':\n        x += cmd[1];\n        points.push({ x, y });\n        break;\n      case 'V':\n        y = cmd[1];\n        points.push({ x, y });\n        break;\n      case 'v':\n        y += cmd[1];\n        points.push({ x, y });\n        break;\n      case 'a':\n        points.push(...arcToPoints(cmd, x, y));\n        x += cmd[6];\n        y += cmd[7];\n        break;\n      case 'A':\n        points.push(...arcToPoints(cmd, x, y));\n        x = cmd[6];\n        y = cmd[7];\n        break;\n      case 'c':\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: cmd[1] + x, y: cmd[2] + y },\n          { x: cmd[3] + x, y: cmd[4] + y },\n          { x: cmd[5] + x, y: cmd[6] + y }\n        ));\n        cpx = cmd[3] + x; // Last control point\n        cpy = cmd[4] + y;\n        x += cmd[5];\n        y += cmd[6];\n        break;\n      case 'C':\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: cmd[1], y: cmd[2] },\n          { x: cmd[3], y: cmd[4] },\n          { x: cmd[5], y: cmd[6] }\n        ));\n        cpx = cmd[3]; // Last control point\n        cpy = cmd[4];\n        x = cmd[5];\n        y = cmd[6];\n        break;\n      case 's':\n        if (cpx === null || cpx === null) {\n          cpx = x;\n          cpy = y;\n        }\n\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: (2 * x) - cpx, y: (2 * y) - cpy },\n          { x: cmd[1] + x, y: cmd[2] + y },\n          { x: cmd[3] + x, y: cmd[4] + y }\n        ));\n        cpx = cmd[1] + x; // last control point\n        cpy = cmd[2] + y;\n        x += cmd[3];\n        y += cmd[4];\n        break;\n      case 'S':\n        if (cpx === null || cpx === null) {\n          cpx = x;\n          cpy = y;\n        }\n\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: (2 * x) - cpx, y: (2 * y) - cpy },\n          { x: cmd[1], y: cmd[2] },\n          { x: cmd[3], y: cmd[4] }\n        ));\n        cpx = cmd[1]; // last control point\n        cpy = cmd[2];\n        x = cmd[3];\n        y = cmd[4];\n        break;\n      case 'Q':\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: cmd[1], y: cmd[2] },\n          { x: cmd[3], y: cmd[4] }\n        ));\n\n        qcpx = cmd[1]; // last control point\n        qcpy = cmd[2];\n        x = cmd[3];\n        y = cmd[4];\n        break;\n      case 'q':\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: cmd[1] + x, y: cmd[2] + y },\n          { x: cmd[3] + x, y: cmd[4] + y }\n        ));\n\n        qcpx = cmd[1] + x; // last control point\n        qcpy = cmd[2] + y;\n        x += cmd[3];\n        y += cmd[4];\n        break;\n      case 'T':\n        if (qcpx === null || qcpx === null) {\n          qcpx = x;\n          qcpy = y;\n        }\n\n        qcpx = (2 * x) - qcpx; // last control point\n        qcpy = (2 * y) - qcpy;\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: qcpx, y: qcpy },\n          { x: cmd[1], y: cmd[2] }\n        ));\n\n        x = cmd[1];\n        y = cmd[2];\n        break;\n      case 't':\n        if (qcpx === null || qcpx === null) {\n          qcpx = x;\n          qcpy = y;\n        }\n\n        qcpx = (2 * x) - qcpx; // last control point\n        qcpy = (2 * y) - qcpy;\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: qcpx, y: qcpy },\n          { x: cmd[1] + x, y: cmd[2] + y }\n        ));\n        x += cmd[1];\n        y += cmd[2];\n        break;\n      case 'z':\n      case 'Z':\n        if (points.length) {\n          points.push({ x: points[0].x, y: points[0].y });\n        }\n        break;\n      default:\n        // Do nothing\n    }\n  }\n\n  removeDuplicates(points);\n  segments.push(points.splice(0));\n\n  return segments;\n}\n","import pathToSegments from '../../scene-graph/parse-path-d';\n\nconst debugPathToPointsDef = {\n  require: ['renderer', 'chart'],\n  defaultSettings: {\n    settings: {\n      target: '',\n      fill: 'transparent',\n      stroke: 'lime',\n      opacity: 1,\n      radius: 2\n    }\n  },\n  on: {\n    update() {\n      this.draw();\n    }\n  },\n  draw() {\n    const shapes = this.chart.findShapes('path').filter(s => s.key === this.props.target); // Find all shapes\n\n    const circles = [];\n    shapes.forEach((s) => {\n      pathToSegments(s.attrs.d).forEach((segment) => {\n        segment.forEach((p) => {\n          circles.push({\n            type: 'circle',\n            cx: p.x,\n            cy: p.y,\n            r: this.props.radius,\n            fill: this.props.fill,\n            stroke: this.props.stroke,\n            opacity: this.props.opacity,\n            collider: { type: null }\n          });\n        });\n      });\n    });\n\n    this.renderer.render(circles);\n  },\n  created() {\n    this.props = this.settings.settings;\n  },\n  render() { },\n  mounted() {\n    this.draw();\n  },\n  updated() {\n    this.props = this.settings.settings;\n    this.draw();\n  }\n};\n\nexport default debugPathToPointsDef;\n","import createDebugCollider from './debug-collider';\nimport createDebugPathToPoints from './debug-path-to-points';\n\nexport function debugCollider(picasso) {\n  picasso.component('debug-collider', createDebugCollider);\n}\n\nexport function debugPathToPoints(picasso) {\n  picasso.component('debug-path-to-points', createDebugPathToPoints);\n}\n","import boxComponent from '../core/chart-components/box';\nimport pointComponent from '../core/chart-components/point';\nimport pieComponent from '../core/chart-components/pie';\nimport gridLineComponent from '../core/chart-components/grid';\nimport refLineComponent from '../core/chart-components/ref-line';\nimport axisComponent from '../core/chart-components/axis';\nimport textComponent from '../core/chart-components/text';\nimport scrollbarComponent from '../core/chart-components/scrollbar';\nimport brushRangeComponent from '../web/components/brush-range';\nimport rangeComponent from '../core/chart-components/range';\nimport brushLassoComponent from '../core/chart-components/brush-lasso';\nimport labelsComponent from '../core/chart-components/labels';\nimport categoricalLegend from '../core/chart-components/legend-cat';\nimport sequentialLegend from '../core/chart-components/legend-seq';\nimport lineComponent from '../core/chart-components/line';\nimport brushAreaComponent from '../web/components/brush-area';\nimport tooltipComponent from '../web/components/tooltip';\nimport {\n  debugCollider,\n  debugPathToPoints\n} from '../core/chart-components/debug';\n\nexport default [\n  boxComponent,\n  pointComponent,\n  pieComponent,\n  gridLineComponent,\n  refLineComponent,\n  axisComponent,\n  textComponent,\n  scrollbarComponent,\n  brushRangeComponent,\n  rangeComponent,\n  brushLassoComponent,\n  labelsComponent,\n  categoricalLegend,\n  sequentialLegend,\n  lineComponent,\n  brushAreaComponent,\n  tooltipComponent,\n  debugCollider,\n  debugPathToPoints\n];\n","class Node {\n  /**\n   * @private\n   */\n  constructor(type) {\n    this._parent = null;\n    this._children = [];\n    this._ancestors = null;\n    this.type = type;\n    this.data = null;\n  }\n\n  /**\n   * Detaches this node from its parent, if such exists.\n   * @returns {Node}\n   */\n  detach() {\n    if (this._parent) {\n      this._parent.removeChild(this);\n    }\n    return this;\n  }\n\n  /**\n   * Parent of this node.\n   * @readonly\n   * @type {Node}\n   */\n  get parent() {\n    return this._parent;\n  }\n\n  /**\n   * Checks whether this node is a branch.\n   *\n   * True if this node has children, false otherwise.\n   * @readonly\n   * @type {Boolean}\n   */\n  get isBranch() {\n    return this._children && this._children.length;\n  }\n\n  /**\n   * Children of this node.\n   * @readonly\n   * @type {Node[]}\n   */\n  get children() {\n    return this._children;\n  }\n\n  /**\n   * Ancestors of this node, including parent.\n   * @readonly\n   * @type {Node[]}\n   */\n  get ancestors() {\n    if (!this._ancestors) {\n      const p = this._parent;\n      this._ancestors = p ? [p].concat(p.ancestors) : [];\n    }\n\n    return this._ancestors;\n  }\n\n  /**\n   * Descendants of this node.\n   * @readonly\n   * @type {Node[]}\n   */\n  get descendants() {\n    let r = [],\n      i,\n      len,\n      c;\n\n    for (i = 0, len = this._children.length; i < len; i++) {\n      c = this._children[i];\n      r.push(c);\n\n      if (c._children.length) {\n        r = r.concat(c.descendants);\n      }\n    }\n    return r;\n  }\n\n  /**\n   *\n   * @returns {Boolean}\n   */\n  equals(n) {\n    const children = this.children;\n    const nChildren = n.children;\n    if (children.length !== nChildren.length) {\n      return false;\n    }\n    // Requires deterministic child order\n    for (let i = 0; i < children.length; i++) {\n      if (!children[i].equals(nChildren[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  toJSON() {\n    return {\n      type: this.type,\n      children: this.children.map(ch => ch.toJSON())\n    };\n  }\n}\n\nexport default Node;\n","import {\n  pointsToLine,\n  pointsToRect\n} from './util';\nimport {\n  testCircleRect,\n  testPolygonRect,\n  testRectRect,\n  testRectPoint,\n  testRectLine\n} from '../math/narrow-phase-collision';\n\n/**\n * Construct a new GeoRect instance\n * @private\n */\nclass GeoRect {\n  constructor({\n    x = 0, y = 0, width = 0, height = 0, minWidth = 0, minHeight = 0\n  } = {}) {\n    this.set({\n      x, y, width, height, minWidth, minHeight\n    });\n  }\n\n  set({\n    x = 0, y = 0, width = 0, height = 0, minWidth = 0, minHeight = 0\n  } = {}) {\n    this.type = 'rect';\n\n    if (width >= 0) {\n      this.x = x;\n      this.width = Math.max(width, minWidth);\n    } else {\n      this.x = x + Math.min(width, -minWidth);\n      this.width = -Math.min(width, -minWidth);\n    }\n\n    if (height >= 0) {\n      this.y = y;\n      this.height = Math.max(height, minHeight);\n    } else {\n      this.y = y + Math.min(height, -minHeight);\n      this.height = -Math.min(height, -minHeight);\n    }\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    return testRectPoint(this, p);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const line = pointsToLine(points);\n    return testRectLine(this, line);\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n    return testRectRect(this, rect);\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return testCircleRect(c, this);\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return testPolygonRect(polygon, this);\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return [\n      { x: this.x, y: this.y },\n      { x: this.x + this.width, y: this.y },\n      { x: this.x + this.width, y: this.y + this.height },\n      { x: this.x, y: this.y + this.height }\n    ];\n  }\n}\n\nfunction create(...args) {\n  return new GeoRect(...args);\n}\n\nexport {\n  GeoRect as default,\n  create\n};\n","import { pointsToLine, pointsToRect } from './util';\nimport {\n  testCirclePoint,\n  testCircleRect,\n  testCircleLine,\n  testCircleCircle,\n  testCirclePolygon\n} from '../math/narrow-phase-collision';\n\n/**\n * Construct a new GeoCircle instance\n * @private\n */\nclass GeoCircle {\n  constructor({\n    cx = 0, cy = 0, r = 0, minRadius = 0\n  } = {}) {\n    this.set({\n      cx, cy, r, minRadius\n    });\n  }\n\n  set({\n    cx = 0, cy = 0, r = 0, minRadius = 0\n  } = {}) {\n    this.type = 'circle';\n    this.cx = cx;\n    this.cy = cy;\n    this.r = Math.max(r, minRadius);\n    this.vector = { x: this.cx, y: this.cy };\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    return testCirclePoint(this, p);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const line = pointsToLine(points);\n\n    return testCircleLine(this, line);\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n\n    return testCircleRect(this, rect);\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return testCircleCircle(this, c);\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return testCirclePolygon(this, polygon);\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return [\n      {\n        x: this.cx,\n        y: this.cy\n      }\n    ];\n  }\n}\n\nfunction create(...args) {\n  return new GeoCircle(...args);\n}\n\nexport {\n  GeoCircle as default,\n  create\n};\n","import { pointsToLine, pointsToRect } from './util';\nimport {\n  testCircleLine,\n  testPolygonLine,\n  testRectLine,\n  testLinePoint,\n  testLineLine\n} from '../math/narrow-phase-collision';\n\n/**\n * Construct a new GeoLine instance\n * @private\n */\nclass GeoLine {\n  constructor({\n    x1 = 0, y1 = 0, x2 = 0, y2 = 0, tolerance = 0\n  } = {}) {\n    this.set({\n      x1, y1, x2, y2, tolerance\n    });\n  }\n\n  set({\n    x1 = 0, y1 = 0, x2 = 0, y2 = 0, tolerance = 0\n  } = {}) {\n    this.type = 'line';\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n    this.tolerance = Math.max(0, Math.round(tolerance));\n\n    this.vectors = this.points();\n    this.zeroSize = x1 === x2 && y1 === y2;\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    if (this.tolerance > 0) {\n      const c = { cx: p.x, cy: p.y, r: this.tolerance };\n      return testCircleLine(c, this);\n    }\n    return testLinePoint(this, p);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const line = pointsToLine(points);\n    return testLineLine(this, line);\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n    return testRectLine(rect, this);\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return testCircleLine(c, this);\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return testPolygonLine(polygon, this);\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return [\n      { x: this.x1, y: this.y1 },\n      { x: this.x2, y: this.y2 }\n    ];\n  }\n}\n\nfunction create(...args) {\n  return new GeoLine(...args);\n}\n\nexport {\n  GeoLine as default,\n  create\n};\n","import {\n  pointsToLine,\n  pointsToRect\n} from './util';\nimport {\n  testCirclePolygon,\n  testPolygonPoint,\n  testPolygonLine,\n  testPolygonRect,\n  testRectRect\n} from '../math/narrow-phase-collision';\n\nfunction close(vertices) {\n  const first = vertices[0];\n  const last = vertices[vertices.length - 1];\n\n  if (first.x !== last.x || first.y !== last.y) {\n    vertices.push(first);\n  }\n}\n\nfunction removeDuplicates(vertices) {\n  for (let i = 0; i < vertices.length - 1; i++) {\n    const v0 = vertices[i];\n    const v1 = vertices[i + 1];\n    if (v0.x === v1.x && v0.y === v1.y) {\n      vertices.splice(i, 1);\n      i--;\n    }\n  }\n}\n\n/**\n * Construct a new GeoPolygon instance\n * @private\n */\nclass GeoPolygon {\n  constructor({ vertices = [] } = {}) {\n    this.set({ vertices });\n  }\n\n  /**\n   * Set the vertices.\n   * If vertices doesn't close the polygon, a closing vertice is appended.\n   * @param {object} input An object with a vertices property\n   * @param {point[]} [input.vertices=[]] Vertices are represented as an array of points.\n   */\n  set({ vertices = [] } = {}) {\n    this.type = 'polygon';\n    this.vertices = vertices.slice();\n    this.edges = [];\n\n    removeDuplicates(this.vertices);\n\n    if (this.vertices.length <= 2) {\n      return;\n    }\n\n    close(this.vertices);\n\n    this.xMin = NaN;\n    this.yMin = NaN;\n    this.xMax = NaN;\n    this.yMax = NaN;\n\n    for (let i = 0; i < this.vertices.length; i++) {\n      if (i < this.vertices.length - 1) {\n        this.edges.push([this.vertices[i], this.vertices[i + 1]]);\n      }\n\n      this.xMin = isNaN(this.xMin) ? this.vertices[i].x : Math.min(this.xMin, this.vertices[i].x);\n      this.xMax = isNaN(this.xMax) ? this.vertices[i].x : Math.max(this.xMax, this.vertices[i].x);\n      this.yMin = isNaN(this.yMin) ? this.vertices[i].y : Math.min(this.yMin, this.vertices[i].y);\n      this.yMax = isNaN(this.yMax) ? this.vertices[i].y : Math.max(this.yMax, this.vertices[i].y);\n    }\n\n    this._bounds = null;\n    this._boundingRect = null;\n  }\n\n  /**\n   * Check if a point is inside the area of the polygon.\n   * Supports convex, concave and self-intersecting polygons (filled area).\n   * @param {point} point\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(point) {\n    return testPolygonPoint(this, point);\n  }\n\n  /**\n   * Check if circle is inside the area of the polygon.\n   * Supports convex, concave and self-intersecting polygons (filled area).\n   * @param {circle} circle\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(circle) {\n    return testCirclePolygon(circle, this);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    return testPolygonLine(this, pointsToLine((points)));\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    return testPolygonRect(this, pointsToRect(points));\n  }\n\n  /**\n   * Check if polygon intersects another polygon.\n   * Supports convex, concave and self-intersecting polygons (filled area).\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    // This is a unoptimized solution and should be replaced by a more efficient algorithm.\n    if (!testRectRect(this.boundingRect(), polygon.boundingRect())) {\n      return false;\n    }\n\n    let intersects = false;\n    for (let i = 0, len = this.edges.length; i < len; i++) {\n      intersects = testPolygonLine(polygon, pointsToLine(this.edges[i]));\n      if (intersects === true) {\n        break;\n      }\n    }\n    return intersects;\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return this.vertices;\n  }\n\n  /**\n   * Get the bounds of the polygon, as an array of points\n   * @returns {point[]}\n   */\n  bounds() {\n    if (!this._bounds) {\n      this._bounds = [\n        { x: this.xMin, y: this.yMin },\n        { x: this.xMax, y: this.yMin },\n        { x: this.xMax, y: this.yMax },\n        { x: this.xMin, y: this.yMax }\n      ];\n    }\n\n    return this._bounds;\n  }\n\n  /**\n   * Get the bounding rect of the polygon\n   * @returns {rect}\n   */\n  boundingRect() {\n    if (!this._boundingRect) {\n      this._boundingRect = {\n        x: this.xMin,\n        y: this.yMin,\n        width: this.xMax - this.xMin,\n        height: this.yMax - this.yMin\n      };\n    }\n    return this._boundingRect;\n  }\n}\n\n\n/**\n* Construct a new GeoPolygon instance\n* @param {object} input An object with a vertices property\n* @param {point[]} [input.vertices=[]] Vertices are represented as an array of points.\n* @returns {GeoPolygon} GeoPolygon instance\n* @private\n*/\nfunction create(...a) {\n  return new GeoPolygon(...a);\n}\n\nexport {\n  create,\n  GeoPolygon as default\n};\n","import {\n  pointsToLine,\n  pointsToRect\n} from './util';\nimport {\n  testCircleLine,\n  testPolygonLine,\n  testLinePoint,\n  testLineLine,\n  testRectLine\n} from '../math/narrow-phase-collision';\n\nfunction pointsAreNotEqual(p0, p1) {\n  return p0.x !== p1.x || p0.y !== p1.y;\n}\n\n/**\n * Construct a new GeoPolyline instance\n * @private\n */\nclass GeoPolyline {\n  constructor({ points = [] } = {}) {\n    this.set({ points });\n  }\n\n  set({ points = [] } = {}) {\n    this.type = 'polyline';\n    this.segments = [];\n    this._points = points.slice();\n\n    if (this._points.length > 1) {\n      for (let i = 0, len = this._points.length - 1; i < len; i++) {\n        if (pointsAreNotEqual(this._points[i], this._points[i + 1])) {\n          this.segments.push({\n            x1: this._points[i].x,\n            y1: this._points[i].y,\n            x2: this._points[i + 1].x,\n            y2: this._points[i + 1].y\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {point} point\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(point) {\n    return this.segments.some(line => testLinePoint(line, point));\n  }\n\n  /**\n   * @param {circle} circle\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(circle) {\n    return this.segments.some(line => testCircleLine(circle, line));\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const testLine = pointsToLine(points);\n    return this.segments.some(line => testLineLine(line, testLine));\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n    return this.segments.some(line => testRectLine(rect, line));\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    // This is a unoptimized solution and should be replaced by a more efficient algorithm.\n    return this.segments.some(line => testPolygonLine(polygon, line));\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return this._points;\n  }\n}\n\nfunction create(...a) {\n  return new GeoPolyline(...a);\n}\n\nexport {\n  create,\n  GeoPolyline as default\n};\n","import { create as rect } from './rect';\nimport { create as circle } from './circle';\nimport { create as line } from './line';\nimport { create as polygon } from './polygon';\nimport { create as polyline } from './polyline';\nimport registry from '../utils/registry';\n\nconst reg = registry();\n\nreg.add('rect', rect);\nreg.add('circle', circle);\nreg.add('line', line);\nreg.add('polygon', polygon);\nreg.add('polyline', polyline);\n\nexport function create(type, input) { // eslint-disable-line import/prefer-default-export\n  return reg.get(type)(input);\n}\n\n/**\n * @typedef {object} rect\n * @property {number} x - X-coordinate\n * @property {number} y - Y-coordinate\n * @property {number} width - Width\n * @property {number} height - Height\n */\n\n/**\n * @typedef {object} line\n * @property {number} x1 - Start x-coordinate\n * @property {number} y1 - Start y-coordinate\n * @property {number} x2 - End x-coordinate\n * @property {number} y2 - End y-coordinate\n */\n\n/**\n * @typedef {object} point\n * @property {number} x - X-coordinate\n * @property {number} y - Y-coordinate\n */\n\n/**\n * @typedef {object} circle\n * @property {number} cx - Center x-coordinate\n * @property {number} cy - Center y-coordinate\n * @property {number} r - Circle radius\n */\n\n/**\n * @typedef {object} polygon\n * @property {Array<point>} points - Array of connected points\n */\n\n/**\n * @typedef {object} polyline\n * @property {Array<point>} points - Array of connected points\n */\n\n/**\n * @typedef {object} path\n * @property {string} d - Path definition\n */\n","import { create as factory } from './index';\n\n/**\n * Construct a new GeometryCollection instance\n * @private\n  */\nclass GeometryCollection {\n  constructor(collection = []) {\n    this.set(collection);\n  }\n\n  set(collection = []) {\n    this.geometries = [];\n    collection.forEach((geo) => {\n      const geoInstance = factory(geo.type, geo);\n      if (geoInstance) {\n        this.geometries.push(geoInstance);\n      }\n    });\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    return this.geometries.some(geo => geo.containsPoint(p));\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    return this.geometries.some(geo => geo.intersectsLine(points));\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    return this.geometries.some(geo => geo.intersectsRect(points));\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return this.geometries.some(geo => geo.intersectsCircle(c));\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return this.geometries.some(geo => geo.intersectsPolygon(polygon));\n  }\n}\n\nfunction create(...args) {\n  return new GeometryCollection(...args);\n}\n\nexport {\n  GeometryCollection as default,\n  create\n};\n","class Matrix {\n  /**\n   * Creates a matrix with identity values.\n   * @private\n   */\n  constructor() {\n    this._elements = [\n      [1, 0, 0],\n      [0, 1, 0],\n      [0, 0, 1]\n    ];\n\n    this._stack = [];\n  }\n\n  /**\n   * Creates a new matrix with a copy of the current values.\n   */\n  clone() {\n    const mt = new Matrix();\n    return mt.multiply(this);\n  }\n\n  /**\n  * Sets the matrix values\n  * @param {Number[][]} arr A 3x3 array.\n  */\n  set(arr) {\n    this._elements = arr;\n    return this;\n  }\n\n  /**\n  * Saves the current matrix values to a stack.\n  */\n  save() {\n    this._stack.push(this.elements);\n    return this;\n  }\n\n  /**\n  * Sets the current matrix values to the last ones saved on to the stack.\n  */\n  restore() {\n    if (this._stack.length) {\n      this._elements = this._stack.pop(); // TODO - use a copy instead\n    }\n    return this;\n  }\n\n  /**\n  * Adds a scalar value to each element in the matrix.\n  * @param {Number} value\n  */\n  add(value) { // assume scalar\n    let i,\n      j;\n    for (i = 0; i < this._elements.length; i++) {\n      for (j = 0; j < this._elements[i].length; j++) {\n        this._elements[i][j] += value;\n      }\n    }\n    return this;\n  }\n\n  /**\n  * Translates the current matrix along the x and y axis.\n  * @param {Number} x\n  * @param {Number} y\n  */\n  translate(x, y) {\n    this.multiply([[1, 0, x], [0, 1, y], [0, 0, 1]]);\n    return this;\n  }\n\n  /**\n  * Rotates the current matrix.\n  * @param {Number} radianAngle Angle in radians.\n  */\n  rotate(radianAngle) {\n    let cos = Math.cos(-radianAngle),\n      sin = Math.sin(-radianAngle);\n    this.multiply([[cos, sin, 0], [-sin, cos, 0], [0, 0, 1]]);\n    return this;\n  }\n\n  /**\n  *\n  * If value is a number; multiplies each element in the matrix by the given value.\n  * If value is a matrix; multiplies the two matrices.\n  * @param {Number|Array|Matrix} value\n  */\n  multiply(value) {\n    let i,\n      j,\n      m,\n      k;\n    if (value instanceof Matrix) {\n      value = value._elements;\n    }\n    if (Array.isArray(value)) { // matrix multiplication\n      m = [\n        [0, 0, 0],\n        [0, 0, 0],\n        [0, 0, 0]\n      ];\n      for (i = 0; i < this._elements.length; i++) { // row\n        for (j = 0; j < this._elements[i].length; j++) { // column\n          for (k = 0; k < 3; k++) { // row\n            m[i][j] += this._elements[i][k] * value[k][j];\n          }\n        }\n      }\n      this._elements = m;\n    } else { // scalar multiplication\n      for (i = 0; i < this._elements.length; i++) {\n        for (j = 0; j < this._elements[i].length; j++) {\n          this._elements[i][j] *= value;\n        }\n      }\n    }\n    return this;\n  }\n\n  /**\n  * Scales the matrix along x and y axis.\n  * @param {Number} x The value to scale the matrix with along the x direction\n  * @param {Number} [y=x] The value to scale the matrix with along the y direction.\n  */\n  scale(x, y = x) {\n    // if ( arguments.length < 2 || typeof y === \"undefined\" ) {\n    //  y = x;\n    // }\n\n    this.multiply([[x, 0, 0], [0, y, 0], [0, 0, 1]]);\n    return this;\n  }\n\n  /**\n   * Multiples the matrix with the supplied transformation values\n   * @param {Number} a Horizontal scaling\n   * @param {Number} b Horizontal skewing\n   * @param {Number} c Vertical skewing\n   * @param {Number} d Vertical scaling\n   * @param {Number} e Horizontal moving\n   * @param {Number} f Vertical scaling\n   */\n  transform(a, b, c, d, e, f) {\n    this.multiply([[a, c, e], [b, d, f], [0, 0, 1]]);\n\n    return this;\n  }\n\n  /**\n  * Gets the value of the determinant.\n  * @return {Number}\n  */\n  determinant() {\n    let a = this._elements[0][0],\n      b = this._elements[0][1],\n      c = this._elements[0][2],\n      d = this._elements[1][0],\n      e = this._elements[1][1],\n      f = this._elements[1][2],\n      g = this._elements[2][0],\n      h = this._elements[2][1],\n      i = this._elements[2][2],\n      p = 0;\n\n    p = ((a * e * i) + (b * f * g) + (c * d * h)) - (c * e * g) - (b * d * i) - (a * f * h);\n\n    return p;\n  }\n\n  /**\n  * Inverts the matrix.\n  */\n  invert() {\n    let dt = this.determinant(),\n      a = this._elements[0][0],\n      b = this._elements[0][1],\n      c = this._elements[0][2],\n      d = this._elements[1][0],\n      e = this._elements[1][1],\n      f = this._elements[1][2],\n      g = this._elements[2][0],\n      h = this._elements[2][1],\n      k = this._elements[2][2];\n\n    this._elements = [\n      [(e * k) - (f * h), (c * h) - (b * k), (b * f) - (c * e)],\n      [(f * g) - (d * k), (a * k) - (c * g), (c * d) - (a * f)],\n      [(d * h) - (e * g), (g * b) - (a * h), (a * e) - (b * d)]\n    ];\n\n    this.multiply(1 / dt); // TODO - handle when dt === 0 ?\n    return this;\n  }\n\n  /**\n  * Transposes the elements of the matrix.\n  */\n  transpose() {\n    const m = Object.create(this._elements); // ?\n    this._elements = [\n      [m[0][0], m[1][0], m[2][0]],\n      [m[0][1], m[1][1], m[2][1]],\n      [m[0][2], m[1][2], m[2][2]]\n    ];\n    return this;\n  }\n\n  /**\n  * Resets the inner elements of the matrix to identity values.\n  */\n  identity() {\n    this._elements = [\n      [1, 0, 0],\n      [0, 1, 0],\n      [0, 0, 1]\n    ];\n    return this;\n  }\n\n  toString() {\n    return `${this._elements.map(r => r.join('\\t')).join('\\n')}`;\n  }\n\n  isIdentity() {\n    const m = this._elements;\n    return m[0][0] === 1 && m[0][1] === 0 && m[0][2] === 0\n      && m[1][0] === 0 && m[1][1] === 1 && m[1][2] === 0\n      && m[2][0] === 0 && m[2][1] === 0 && m[2][2] === 1;\n  }\n\n  /**\n   * Transforms the given point by this matrix and returns a new point\n   */\n  transformPoint(p) {\n    let vec = [p.x, p.y, 1],\n      i,\n      j,\n      e = this._elements,\n      m = [0, 0, 0];\n    for (i = 0; i < this._elements.length; i++) { // row\n      for (j = 0; j < this._elements[i].length; j++) { // column\n        m[i] += vec[j] * e[i][j];\n      }\n    }\n\n    return { x: m[0], y: m[1] };\n  }\n\n  /**\n   * Transforms the given points by this matrix and returns the new points\n   */\n  transformPoints(array) {\n    let vec,\n      i,\n      j,\n      k,\n      m,\n      e = this._elements,\n      ret = [];\n\n    for (k = 0; k < array.length; k++) {\n      vec = [array[k].x, array[k].y, 1];\n      m = [0, 0, 0];\n\n      for (i = 0; i < this._elements.length; i++) { // row\n        for (j = 0; j < this._elements[i].length; j++) { // column\n          m[i] += vec[j] * e[i][j];\n        }\n      }\n      ret.push({ x: m[0], y: m[1] });\n    }\n    return ret;\n  }\n\n  get elements() {\n    const m = this._elements;\n    return [\n      [m[0][0], m[0][1], m[0][2]],\n      [m[1][0], m[1][1], m[1][2]],\n      [m[2][0], m[2][1], m[2][2]]\n    ];\n  }\n}\n\nexport default Matrix;\n","const transformRegEx = /(translate|scale|rotate|matrix)\\(([0-9,.eE+-\\s]+)(?:,|\\s?)+\\)/g;\n\nfunction parseTransform(transform) {\n  let m,\n    commands = [];\n  while ((m = transformRegEx.exec(transform)) !== null) { // eslint-disable-line no-cond-assign\n    const argsStr = m[2].trim();\n    const args = argsStr.indexOf(',') === -1 ? argsStr.split(' ') : argsStr.split(',');\n\n    commands.push({\n      cmd: m[1],\n      args: args.filter(a => a.trim().length > 0).map(a => Number(a))\n    });\n  }\n\n  return commands;\n}\n\nfunction resolveRotateCmd(matrix, transform) {\n  const radians = transform.args[0] * (Math.PI / 180);\n\n  if (transform.args.length > 2) {\n    const x = transform.args[1];\n    const y = transform.args[2];\n    matrix.translate(x, y);\n    matrix.rotate(radians);\n    matrix.translate(-x, -y);\n  } else if (transform.args.length === 1) {\n    matrix.rotate(radians);\n  }\n}\n\nfunction resolveScaleCmd(matrix, transform) {\n  const x = transform.args[0];\n  const y = isNaN(transform.args[1]) ? transform.args[0] : transform.args[1];\n  matrix.scale(x, y);\n}\n\nfunction resolveTranslateCmd(matrix, transform) {\n  const x = transform.args[0];\n  const y = isNaN(transform.args[1]) ? 0 : transform.args[1];\n  matrix.translate(x, y);\n}\n\nfunction resolveMatrixCmd(matrix, transform) {\n  if (transform.args.length >= 6) {\n    matrix.transform(...transform.args);\n  }\n}\n\nexport default function resolveTransform(t, matrix) {\n  const transforms = parseTransform(t);\n  let transform;\n\n  for (let i = 0, len = transforms.length; i < len; i++) {\n    transform = transforms[i];\n\n    if (transform.cmd === 'rotate') {\n      resolveRotateCmd(matrix, transform);\n    } else if (transform.cmd === 'scale') {\n      resolveScaleCmd(matrix, transform);\n    } else if (transform.cmd === 'matrix') {\n      resolveMatrixCmd(matrix, transform);\n    } else if (transform.cmd === 'translate') {\n      resolveTranslateCmd(matrix, transform);\n    }\n  }\n}\n","/* eslint-disable no-useless-escape */\n\nconst SELECTOR_MAPS = {\n  type: /^\\w[\\w-]+/,\n  attr: /^\\[\\w(?:[\\w\\._-]+)?(?:[!]?=['\\\"][\\w\\s*#_-]*['\\\"])?\\]/,\n  universal: /^(\\*)/,\n  tag: /^\\.(\\w+)/\n};\n\nconst FILTERS = {\n  type: (c, objects) => { // eslint-disable-line arrow-body-style\n    return objects.filter((o) => {\n      const type = o.type;\n\n      if (type) {\n        return type.toLowerCase() === c.toLowerCase();\n      }\n      return false;\n    });\n  },\n\n  attr: (attr, operator, value, objects) => { // eslint-disable-line arrow-body-style\n    return objects.filter((o) => {\n      const v = o.attrs[attr];\n\n      if (!operator) { // TODO handle undefined differently for != operator? As display object may very well have a default rendering color\n        return typeof v !== 'undefined';\n      }\n      if (typeof v === 'undefined') {\n        return false;\n      }\n\n      switch (operator) {\n        case '=':\n          return value === String(v);\n        case '!=':\n          return value !== String(v);\n        default:\n          return false;\n      }\n    });\n  },\n\n  universal: objects => objects,\n\n  tag: (selector, objects) => { // eslint-disable-line arrow-body-style\n    return objects.filter((o) => {\n      const tag = o.tag;\n      if (tag) {\n        return tag\n          .trim()\n          .split(/\\s+/)\n          .indexOf(selector.replace('.', '')) !== -1;\n      }\n      return false;\n    });\n  }\n};\n\n/**\n* Filters out objects of given type and value\n* @ignore\n* @example\n* filter(\n*   {type:'type', value:'Circle'},\n*   [new Circle(), new Rectangle()]\n* )\n* // [Circle]\n* @param {Object} token\n* @param {Array} objects\n* @returns {Object[]} Objects that fulfill the type and value\n*/\nexport function filter(token, objects) {\n  if (!objects || !objects.length || !token || (typeof FILTERS[token.type] !== 'function')) {\n    return [];\n  }\n\n  switch (token.type) {\n    case 'type':\n      return FILTERS[token.type](token.value, objects);\n    case 'attr':\n      return FILTERS[token.type](token.attribute, token.operator, token.attributeValue, objects);\n    case 'universal':\n      return FILTERS[token.type](objects);\n    case 'tag':\n      return FILTERS[token.type](token.value, objects);\n    default:\n      return [];\n  }\n}\n\n/**\n* Tokenizes a string into supported selectors\n* @ignore\n*\n* @example\n* tokenize(\"Circle[color='red']\")\n*\n* @param {String} s\n*/\nexport function tokenize(s) {\n  const groups = [];\n  let sub;\n  let info;\n  let match;\n  let validSelector;\n\n  s.split(/\\s*,\\s*/).forEach((group) => {\n    group = group.trim();\n    sub = [];\n    const selectorMapsIterator = (key) => {\n      match = group.match(SELECTOR_MAPS[key]);\n      if (match) {\n        validSelector = true;\n        group = group.slice(match[0].length);\n        info = {\n          type: key,\n          value: match[0]\n        };\n\n        if (key === 'attr') {\n          // extract parts of attribute from e.g. [color='red'] => (color, =, red)\n          match = match[0].match(/\\[(\\w[\\w\\._-]+)?(?:([!]?=)['\\\"]([\\w\\s#_-]*)['\\\"])?\\]/);\n          info.attribute = match[1];\n          info.operator = match[2];\n          info.attributeValue = match[3];\n        }\n        sub.push(info);\n      }\n    };\n    while (group) {\n      validSelector = false;\n\n      match = group.match(/^\\s*([>+~]|\\s)\\s*/);\n      if (match) {\n        validSelector = true;\n        sub.push({\n          type: ' ',\n          value: match[0]\n        });\n        group = group.slice(match[0].length);\n      }\n\n      Object.keys(SELECTOR_MAPS).forEach(selectorMapsIterator);\n\n      if (sub && sub.length && groups.indexOf(sub) < 0) {\n        groups.push(sub);\n      }\n\n      if (!validSelector) {\n        break;\n      }\n    }\n  });\n  return groups;\n}\n\nfunction find(s, object) {\n  const result = [];\n  const groupResults = [];\n  let groups;\n  let descendants;\n\n  if (object.isBranch) {\n    groups = tokenize(s);\n    descendants = object.descendants;\n\n    let tokens;\n\n    for (let gi = 0, glen = groups.length; gi < glen; gi++) {\n      tokens = groups[gi];\n\n      const levels = [];\n      let filtered = descendants.slice();\n      let hasRemainder = false;\n      tokens.reverse().forEach((token) => {\n        if (token.type === ' ') {\n          levels.push(filtered);\n          filtered = descendants.slice();\n          hasRemainder = false;\n          return;\n        }\n\n        filtered = filter(token, filtered);\n        hasRemainder = true;\n      });\n\n      if (hasRemainder) {\n        levels.push(filtered);\n      }\n\n      const selected = levels[0].filter((node) => {\n        let ancestor = node.parent;\n        let idx;\n\n        for (let i = 1; i < levels.length; i++) {\n          idx = levels[i].indexOf(ancestor);\n          while (ancestor && idx < 0) {\n            ancestor = ancestor.parent;\n            idx = levels[i].indexOf(ancestor);\n          }\n          if (idx < 0) {\n            return false;\n          }\n        }\n        return true;\n      });\n\n      groupResults.push(selected);\n    }\n\n    for (let i = 0, len = groupResults.length; i < len; i++) {\n      for (let ni = 0, nlen = groupResults[i].length; ni < nlen; ni++) {\n        if (result.indexOf(groupResults[i][ni]) < 0) {\n          result.push(groupResults[i][ni]);\n        }\n      }\n    }\n  }\n\n  return result || [];\n}\n\nexport default {\n  find\n};\n","import { pointsToRect, pointsToCircle, pointsToLine } from '../geometry/util';\nimport pointsToPath from '../utils/points-to-path';\n\nfunction appendDpi(points, dpi) {\n  for (let i = 0, len = points.length; i < len; i++) {\n    points[i].x /= dpi;\n    points[i].y /= dpi;\n  }\n}\n\nfunction geometryToDef(geometry, dpi, mvm) {\n  const type = geometry.type;\n  const points = mvm ? mvm.transformPoints(geometry.points()) : geometry.points();\n  appendDpi(points, dpi);\n  let def = null;\n\n  if (type === 'rect' || type === 'bounds') {\n    def = pointsToRect(points);\n    def.type = type;\n  } else if (type === 'circle') {\n    def = pointsToCircle(points, geometry.r);\n    def.type = type;\n  } else if (type === 'line') {\n    def = pointsToLine(points);\n    def.type = type;\n  } else if (type === 'polygon' || type === 'polyline') {\n    const path = pointsToPath(points, type === 'polygon');\n    def = {\n      type: 'path',\n      d: path\n    };\n  }\n\n  return def;\n}\n\n/**\n * @ignore\n * @returns {object} Returns a node definition of the collider\n */\nfunction colliderToShape(node, dpi) {\n  if (node.collider) {\n    const mvm = node.modelViewMatrix;\n    const isCollection = node.colliderType === 'collection';\n\n    if (isCollection) {\n      const children = node.collider.geometries.map(geometry => geometryToDef(geometry, dpi, mvm));\n\n      return {\n        type: 'container',\n        children\n      };\n    }\n\n    return geometryToDef(node.collider, dpi, mvm);\n  }\n\n  return null;\n}\n\n/**\n * Read-only object representing a node on the scene.\n */\nclass SceneNode {\n  constructor(node) {\n    this._bounds = node.boundingRect ? (withTransform = true) => node.boundingRect(withTransform) : () => ({\n      x: 0, y: 0, width: 0, height: 0\n    });\n    this._attrs = node.attrs;\n    this._type = node.type;\n    this._data = node.data;\n    this._dpi = node.stage ? node.stage.dpi : 1;\n    this._collider = () => colliderToShape(node, this._dpi);\n    this._desc = node.desc;\n    this._tag = node.tag;\n  }\n\n  /**\n   * Node type\n   * @type {string}\n   */\n  get type() {\n    return this._type;\n  }\n\n  /**\n   * Get the associated data\n   * @type {any}\n   */\n  get data() {\n    return this._data;\n  }\n\n  /**\n   * Node attributes\n   * @type {object}\n   */\n  get attrs() {\n    return this._attrs;\n  }\n\n  /**\n   * Element the scene is attached to\n   * @type {HTMLElement}\n   * @private\n   */\n  set element(e) {\n    this._element = e;\n  }\n\n  /**\n   * Element the scene is attached to\n   * @type {HTMLElement}\n   */\n  get element() {\n    return this._element;\n  }\n\n  /**\n  * Key of the component this shape belongs to\n  * @type {string}\n  * @private\n  */\n  set key(k) {\n    this._key = k;\n  }\n\n  /**\n  * Key of the component this shape belongs to\n  * @type {string}\n  */\n  get key() {\n    return this._key;\n  }\n\n  /**\n   * Bounding rectangle of the node. After any transform has been applied, if any, but excluding scaling transform related to devicePixelRatio.\n   * Origin is in the top-left corner of the scene element.\n   * @type {rect}\n   */\n  get bounds() {\n    const bounds = this._bounds();\n    bounds.x /= this._dpi;\n    bounds.y /= this._dpi;\n    bounds.width /= this._dpi;\n    bounds.height /= this._dpi;\n    return bounds;\n  }\n\n  /**\n   * Bounding rectangle of the node withing it's local coordinate system.\n   * Origin is in the top-left corner of the scene element.\n   * @type {rect}\n   */\n  get localBounds() {\n    const bounds = this._bounds(false);\n    return bounds;\n  }\n\n  /**\n   * Collider of the node. Transform on the node has been applied to the collider shape, if any, but excluding scaling transform related to devicePixelRatio.\n   * Origin is in the top-left corner of the scene element.\n   *\n   * If node has no collider, null is returned.\n   * @type {line|rect|circle|path}\n   */\n  get collider() {\n    return this._collider();\n  }\n\n  /**\n   * Node description\n   * @type {object}\n   */\n  get desc() {\n    return this._desc;\n  }\n\n  /**\n   * Node tag\n   * @type {string}\n   */\n  get tag() {\n    return this._tag;\n  }\n}\n\nfunction create(...a) {\n  return new SceneNode(...a);\n}\n\nexport {\n  create as default,\n  SceneNode\n};\n","import createSceneNode from './scene-node';\n\nexport class Collision {\n  constructor(node) {\n    this._node = createSceneNode(node);\n    this._parent = null;\n    this._input = null;\n  }\n\n  get node() {\n    return this._node;\n  }\n\n  set parent(p) {\n    this._parent = p;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  set input(i) {\n    this._input = i;\n  }\n\n  get input() {\n    return this._input;\n  }\n}\n\nexport default function create(...a) {\n  return new Collision(...a);\n}\n","import createCollision from './collision';\nimport { scalarMultiply } from '../math/vector';\nimport { create as createPolygon } from '../geometry/polygon';\nimport {\n  lineToPoints,\n  rectToPoints,\n  getShapeType\n} from '../geometry/util';\n\nfunction appendParentNode(node, collision) {\n  const p = node.parent;\n\n  if (p && p.type !== 'stage') {\n    collision.parent = createCollision(p);\n\n    const pp = p.parent;\n    if (pp && pp.type !== 'stage') {\n      appendParentNode(pp, collision.parent);\n    }\n  }\n}\n\nfunction appendInputShape(shape, collisions) {\n  for (let i = 0, len = collisions.length; i < len; i++) {\n    collisions[i].input = shape;\n  }\n}\n\nfunction resolveFrontChildCollision(node, type, input) {\n  const num = node.descendants.length;\n\n  for (let i = num - 1; i >= 0; i--) {\n    const desc = node.descendants[i];\n    if (desc.collider === null) {\n      continue;\n    }\n\n    if (desc.collider[type](input)) {\n      const collision = createCollision(desc);\n\n      appendParentNode(desc, collision);\n\n      return collision;\n    }\n  }\n  return null;\n}\n\nfunction resolveGeometryCollision(node, type, input) {\n  if (node.collider[type](input)) {\n    const c = createCollision(node);\n\n    appendParentNode(node, c);\n\n    return c;\n  }\n\n  return null;\n}\n\nfunction inverseTransform(node, input) {\n  let transformedInput = {};\n  if (node.modelViewMatrix) {\n    if (Array.isArray(input)) { // Rect or Line\n      transformedInput = node.inverseModelViewMatrix.transformPoints(input);\n    } else if (!isNaN(input.r)) { // Circle\n      const p = { x: input.cx, y: input.cy };\n      ({ x: transformedInput.cx, y: transformedInput.cy } = node.inverseModelViewMatrix.transformPoint(p));\n      transformedInput.r = input.r;\n    } else if (Array.isArray(input.vertices)) { // Polygon\n      transformedInput.vertices = node.inverseModelViewMatrix.transformPoints(input.vertices);\n    } else { // Point\n      transformedInput = node.inverseModelViewMatrix.transformPoint(input);\n    }\n  } else {\n    transformedInput = input;\n  }\n\n  if (Array.isArray(transformedInput.vertices)) {\n    transformedInput = createPolygon(transformedInput); // TODO Shouldn't have to do this here, currently its beacause a collision algorithm optimization, i.e. caching of polygon bounds\n  }\n\n  return transformedInput;\n}\n\nfunction resolveCollision(node, intersectionType, input) {\n  if (node.colliderType === null) {\n    return null;\n  }\n\n  const transformedInput = inverseTransform(node, input);\n\n  if (node.colliderType === 'frontChild') {\n    return resolveFrontChildCollision(node, intersectionType, transformedInput);\n  }\n\n  return resolveGeometryCollision(node, intersectionType, transformedInput);\n}\n\nfunction findAllCollisions(nodes, intersectionType, ary, input) {\n  const num = nodes.length;\n  for (let i = 0; i < num; i++) {\n    const node = nodes[i];\n\n    const collision = resolveCollision(node, intersectionType, input);\n\n    if (collision) { ary.push(collision); }\n\n    // Only traverse children if no match is found on parent and it doesnt have any custom collider\n    if (node.children && !collision && !node.collider) {\n      findAllCollisions(node.children, intersectionType, ary, input);\n    }\n  }\n}\n\nfunction hasCollision(nodes, intersectionType, input) {\n  const num = nodes.length;\n  for (let i = 0; i < num; i++) {\n    const node = nodes[i];\n\n    const collision = resolveCollision(node, intersectionType, input);\n\n    if (collision !== null) { return true; }\n\n    if (node.children && !node.collider) {\n      return hasCollision(node.children, intersectionType, input);\n    }\n  }\n  return false;\n}\n\nfunction resolveShape(shape, ratio = 1) {\n  const type = getShapeType(shape);\n  let _shape = {};\n\n  switch (type) {\n    case 'circle':\n      _shape.cx = shape.cx * ratio;\n      _shape.cy = shape.cy * ratio;\n      _shape.r = shape.r;\n      return ['intersectsCircle', _shape];\n    case 'rect':\n      _shape = rectToPoints(shape).map(p => scalarMultiply(p, ratio));\n      return ['intersectsRect', _shape];\n    case 'line':\n      _shape = lineToPoints(shape).map(p => scalarMultiply(p, ratio));\n      return ['intersectsLine', _shape];\n    case 'point':\n      _shape = scalarMultiply(shape, ratio);\n      return ['containsPoint', _shape];\n    case 'polygon':\n      _shape.vertices = shape.vertices.map(vertex => scalarMultiply(vertex, ratio));\n      return ['intersectsPolygon', _shape];\n    default:\n      return [];\n  }\n}\n\nexport function resolveCollionsOnNode(node, shape) {\n  const [intersectionType, _shape] = resolveShape(shape, node.dpi);\n  const collisions = [];\n\n  if (intersectionType) {\n    findAllCollisions([node], intersectionType, collisions, _shape);\n    appendInputShape(shape, collisions);\n  }\n  return collisions;\n}\n\nexport function hasCollisionOnNode(node, shape) {\n  const [intersectionType, _shape] = resolveShape(shape, node.dpi);\n\n  return hasCollision([node], intersectionType, _shape);\n}\n","import extend from 'extend';\nimport Node from '../node';\nimport { create as geometry } from '../../geometry';\nimport { create as geometryCollection } from '../../geometry/geometry-collection';\nimport Matrix from '../../math/matrix';\nimport resolveTransform from '../transform-resolver';\nimport nodeSelector from '../node-selector';\nimport createSceneNode from '../scene-node';\nimport { resolveCollionsOnNode, hasCollisionOnNode } from '../collision-resolver';\nimport { assignMappedAttribute } from '../attributes';\n\n/**\n * @typedef {object} node-def\n * @property {string} type\n * @property {string|gradient-def} [fill] - {@link https://www.w3.org/TR/fill-stroke-3/#fill-shorthand}\n * @property {string|gradient-def} [stroke] - {@link https://www.w3.org/TR/fill-stroke-3/#propdef-stroke}\n * @property {number} [strokeWidth] - {@link https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-width}\n * @property {string|number[]} [strokeDasharray] - {@link https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-dasharray}\n * @property {number} [opacity] - {@link https://www.w3.org/TR/css-color-4/#propdef-opacity}\n * @property {string} [transform] - {@link https://www.w3.org/TR/SVG/coords.html#TransformAttribute}\n * @property {object} [data] - Data object, may contain any properties\n * @property {object} [desc] - Meta-data object, may contain any properties\n * @property {string} [tag] - White-space seperated list of tags\n * @property {string} [id] - Unique identifier of the node\n * @property {object} [collider]\n */\n\nclass DisplayObject extends Node {\n  constructor(type) {\n    super(type);\n    this._stage = null;\n    this._collider = {\n      type: null,\n      definition: null,\n      fn: null\n    };\n    this._attrs = {};\n    this._node = null;\n  }\n\n  set(v = {}) {\n    this.node = v;\n\n    const {\n      data,\n      desc,\n      tag\n    } = v;\n\n    assignMappedAttribute(this.attrs, v);\n\n    if (typeof data !== 'undefined') {\n      this.data = data;\n    }\n\n    if (typeof desc === 'object') {\n      this.desc = extend(true, {}, desc);\n    }\n\n    if (typeof tag === 'string') {\n      this.tag = tag;\n    }\n  }\n\n  findShapes(selector) {\n    return nodeSelector.find(selector, this).map(node => createSceneNode(node));\n  }\n\n  getItemsFrom(shape) {\n    return resolveCollionsOnNode(this, shape);\n  }\n\n  containsPoint(p) {\n    return hasCollisionOnNode(this, p);\n  }\n\n  intersectsLine(line) {\n    return hasCollisionOnNode(this, line);\n  }\n\n  intersectsRect(rect) {\n    return hasCollisionOnNode(this, rect);\n  }\n\n  intersectsCircle(circle) {\n    return hasCollisionOnNode(this, circle);\n  }\n\n  intersectsPolygon(polygon) {\n    return hasCollisionOnNode(this, polygon);\n  }\n\n  resolveLocalTransform(m = new Matrix()) {\n    if (typeof this.attrs.transform !== 'undefined') { resolveTransform(this.attrs.transform, m); }\n    this.modelViewMatrix = m.clone();\n  }\n\n  resolveGlobalTransform(m = new Matrix()) {\n    const a = this.ancestors;\n\n    if (a.length > 0) {\n      for (let i = a.length - 1; i >= 0; i--) {\n        a[i].resolveLocalTransform(m);\n        m = a[i].modelViewMatrix;\n      }\n    }\n\n    this.resolveLocalTransform(m);\n  }\n\n  /**\n   * Returns the value of attribute a.\n   * @private\n   * @param a\n   * @returns {*} The value of attribute a.\n   */\n  attr(a) {\n    return this.attrs[a];\n  }\n\n  equals(d) {\n    const attrs = this.attrs;\n    const attrKeys = Object.keys(attrs);\n    const dAttrs = d.attrs;\n    const dAttrKeys = Object.keys(dAttrs);\n    if (attrKeys.length !== dAttrKeys.length) {\n      return false;\n    }\n    for (let i = 0; i < attrKeys.length; i++) {\n      const key = attrKeys[i];\n      if (!Object.hasOwnProperty.call(dAttrs, key)) {\n        return false;\n      }\n      if (attrs[key] !== dAttrs[key]) {\n        return false;\n      }\n    }\n\n    return super.equals(d);\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.attrs = this.attrs;\n    return json;\n  }\n\n  get attrs() {\n    return this._attrs;\n  }\n\n  get stage() {\n    if (this._parent && !this._stage) { // lazy evaluation\n      this._stage = this._parent.stage;\n    } else if (!this._parent && this._stage !== this) {\n      this._stage = null;\n    }\n    return this._stage;\n  }\n\n  set modelViewMatrix(m) {\n    this._mvm = m;\n    this._imvm = null;\n  }\n\n  get modelViewMatrix() {\n    return this._mvm;\n  }\n\n  get inverseModelViewMatrix() {\n    this._imvm = this._imvm ? this._imvm : this._mvm.clone().invert();\n    return this._imvm;\n  }\n\n  set node(n) {\n    this._node = n;\n  }\n\n  get node() {\n    return this._node;\n  }\n\n  set collider(definition) {\n    const type = Array.isArray(definition) ? 'collection' : (definition && definition.type);\n    if (typeof type !== 'string') {\n      // Non string type definition resets the collider\n      this._collider.type = null;\n      this._collider.definition = null;\n      this._collider.fn = null;\n      return;\n    }\n\n    // Check if a collider of the same type is already defined, if so, do an update\n    if (this._collider !== null && this._collider.type === type && this._collider.fn !== null) {\n      this._collider.fn.set(definition);\n      this._collider.definition = definition;\n      return;\n    }\n\n    // Store the definition so that it can be lazy evaluated\n    this._collider.type = type;\n    this._collider.definition = definition;\n  }\n\n  get collider() {\n    // Resolve geometry function from cache\n    if (this._collider.fn !== null) {\n      return this._collider.fn;\n    }\n\n    // Resolve geometry function and store it in cache\n    switch (this._collider.type) {\n      case 'collection':\n        this._collider.fn = geometryCollection(this._collider.definition);\n        break;\n      case 'frontChild': // TODO Deprecate\n        // Front child is not resolved by a function on this node, but instead on one of its child nodes\n        return true;\n      case 'bounds':\n        this._collider.fn = geometry('rect', this.boundingRect());\n        break;\n      case 'line':\n      case 'rect':\n      case 'circle':\n      case 'polygon':\n      case 'polyline':\n        this._collider.fn = geometry(this._collider.type, this._collider.definition);\n        break;\n      default:\n        return null;\n    }\n\n    return this._collider.fn;\n  }\n\n  get colliderType() {\n    return this._collider.type;\n  }\n}\n\nexport default DisplayObject;\n","import Node from './node';\n\nclass NodeContainer extends Node {\n  addChild(c) {\n    if (!c || !(c instanceof Node)) {\n      throw new TypeError(`Expecting a Node as argument, but got ${c}`);\n    }\n\n    if (c === this) {\n      throw new Error('Can not add itself as child!');\n    }\n\n    if (c._children && c._children.length && this.ancestors.indexOf(c) >= 0) {\n      throw new Error('Can not add an ancestor as child!');\n    }\n\n    if (c._parent && c._parent !== this) {\n      c._parent.removeChild(c);\n    }\n\n    // *\n    // really expensive for large arrays\n    const indx = this._children.indexOf(c); // if child already exists -> remove it, and the push it in last\n    if (indx >= 0) {\n      this._children.splice(indx, 1);\n    }\n    // * /\n\n    this._children.push(c);\n    c._parent = this;\n    c._ancestors = null;\n\n    return this;\n  }\n\n  addChildren(children) {\n    let i,\n      num = children ? children.length : 0;\n    for (i = 0; i < num; i++) {\n      this.addChild(children[i]);\n    }\n    return this;\n  }\n\n  /**\n   * Removes given child node from this node.\n   * @private\n   * @param {Node} c\n   * @returns {Node} This object, for chaining purposes.\n   */\n  removeChild(c) {\n    const indx = this._children.indexOf(c);\n    if (indx >= 0) {\n      this._children.splice(indx, 1);\n      c._parent = null;\n      c._ancestors = null;\n    }\n    return this;\n  }\n\n  removeChildren(children) {\n    let i,\n      num;\n    if (!this._children) {\n      return this;\n    }\n    if (children) {\n      num = children.length;\n      for (i = 0; i < num; i++) {\n        this.removeChild(children[i]);\n      }\n    } else {\n      while (this._children.length) {\n        this.removeChild(this._children[0]);\n      }\n    }\n    return this;\n  }\n}\n\nexport default NodeContainer;\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport NodeContainer from '../node-container';\n\n/**\n * @extends node-def\n * @typedef {object} node--container-def\n * @property {node-def[]} children - Array of child nodes\n */\n\nconst NC = NodeContainer.prototype;\n\nfunction reCalcBoundingRect(c, child, includeTransform = false) {\n  if (typeof child.bounds !== 'undefined') {\n    const [p0, , p2] = child.bounds(includeTransform);\n    const { x: xMin, y: yMin } = p0;\n    const { x: xMax, y: yMax } = p2;\n\n    const _xMax = isNaN(c._boundingRect.width) ? xMax : Math.max(xMax, c._boundingRect.width + c._boundingRect.x);\n    const _yMax = isNaN(c._boundingRect.height) ? yMax : Math.max(yMax, c._boundingRect.height + c._boundingRect.y);\n\n    c._boundingRect.x = isNaN(c._boundingRect.x) ? xMin : Math.min(xMin, c._boundingRect.x);\n    c._boundingRect.y = isNaN(c._boundingRect.y) ? yMin : Math.min(yMin, c._boundingRect.y);\n    c._boundingRect.width = _xMax - c._boundingRect.x;\n    c._boundingRect.height = _yMax - c._boundingRect.y;\n  }\n}\n\nexport default class Container extends DisplayObject {\n  constructor(s = {}) {\n    const { type = 'container' } = s;\n    super(type);\n    this.set(s);\n    this._boundingRect = {};\n  }\n\n  set(v = {}) {\n    super.set(v);\n\n    const { collider } = v;\n    const opts = extend({\n      type: null\n    }, collider);\n\n    this.collider = opts;\n  }\n\n  boundingRect(includeTransform = false) {\n    const num = this.children.length;\n    this._boundingRect = {};\n\n    for (let i = 0; i < num; i++) {\n      reCalcBoundingRect(this, this.children[i], includeTransform);\n    }\n    return extend({\n      x: 0, y: 0, width: 0, height: 0\n    }, this._boundingRect);\n  }\n\n  bounds(includeTransform = false) {\n    const rect = this.boundingRect(includeTransform);\n\n    return [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n  }\n\n  addChild(c) {\n    const r = NC.addChild.call(this, c);\n\n    if (this._collider && this._collider.type === 'bounds') {\n      reCalcBoundingRect(this, c, true);\n      const opts = extend({\n        type: 'bounds', x: 0, y: 0, width: 0, height: 0\n      }, this._boundingRect);\n      this.collider = opts;\n    }\n\n    return r;\n  }\n\n  addChildren(children) {\n    const r = NC.addChildren.call(this, children);\n    const num = children.length;\n\n    if (this._collider && this._collider.type === 'bounds' && num > 0) {\n      for (let i = 0; i < num; i++) {\n        reCalcBoundingRect(this, children[i], true);\n      }\n      const opts = extend({\n        type: 'bounds', x: 0, y: 0, width: 0, height: 0\n      }, this._boundingRect);\n      this.collider = opts;\n    }\n\n    return r;\n  }\n\n  removeChild(c) {\n    c._stage = null;\n    let desc = c.descendants,\n      num = desc ? desc.length : 0,\n      i;\n    // remove reference to stage from all descendants\n    for (i = 0; i < num; i++) {\n      desc[i]._stage = null;\n    }\n\n    NC.removeChild.call(this, c);\n\n    if (this._collider && this._collider.type === 'bounds') {\n      const opts = extend(this.boundingRect(true), { type: 'bounds' });\n      this.collider = opts;\n    }\n\n    return this;\n  }\n\n  removeChildren(children) {\n    NC.removeChildren.call(this, children);\n\n    if (this._collider && this._collider.type === 'bounds') {\n      const opts = extend(this.boundingRect(true), { type: 'bounds' });\n      this.collider = opts;\n    }\n\n    return this;\n  }\n}\n\nexport function create(...s) {\n  return new Container(...s);\n}\n","import Container from './container';\n\nexport default class Stage extends Container {\n  constructor(dpi) {\n    super('stage');\n    this._stage = this;\n    this._dpiRatio = dpi || 1;\n  }\n\n  get dpi() {\n    return this._dpiRatio;\n  }\n}\n\nexport function create(...a) {\n  return new Stage(...a);\n}\n","import DisplayObject from './display-object';\nimport NodeContainer from '../node-container';\n\n/**\n * @typedef {object} gradient-def\n * @property {string} type\n * @property {object[]} stops\n * @property {string} [stops[].type=linearGradient] - radialGradient|linearGradient\n * @property {string} stops[].color - {@link https://www.w3.org/TR/SVG/types.html#DataTypeColor}\n * @property {string} [stops[].opacity=1] - {@link https://www.w3.org/TR/css-color-4/#propdef-opacity}\n * @property {number} stops[].offset - {@link https://www.w3.org/TR/SVG/pservers.html#StopElementOffsetAttribute}\n * @property {number} [degree] - Gradient rotation angle\n */\n\n/**\n * @typedef {object} node--gradient-item-def\n * @property {string} id - Gradient identifier\n * @property {number} x1 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementX1Attribute}\n * @property {number} y1 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementY1Attribute}\n * @property {number} x2 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementX2Attribute}\n * @property {number} y2 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementY2Attribute}\n * @property {number} offset - {@link https://www.w3.org/TR/SVG/pservers.html#StopElementOffsetAttribute}\n * @property {object} style - {@link https://www.w3.org/TR/SVG/styling.html#StyleAttribute}\n */\n\nconst NC = NodeContainer.prototype;\n\nconst allowedAttrs = [\n  'x1',\n  'x2',\n  'y1',\n  'y2',\n  'id',\n  'offset',\n  'style'\n];\n\nexport default class GradientItem extends DisplayObject {\n  constructor(s = {}) {\n    const { type = 'container' } = s;\n    super(type);\n    this.set(s);\n    this._boundingRect = {};\n  }\n\n  set(v = {}) {\n    super.set(v);\n\n    const attrs = this.attrs;\n\n    let attrKey = '';\n\n    for (let i = 0, len = allowedAttrs.length; i !== len; i++) {\n      attrKey = allowedAttrs[i];\n\n      if (v[attrKey]) {\n        attrs[attrKey] = v[attrKey];\n      }\n    }\n  }\n\n  addChild(c) {\n    const r = NC.addChild.call(this, c);\n\n    return r;\n  }\n\n  addChildren(children) {\n    const r = NC.addChildren.call(this, children);\n\n    return r;\n  }\n\n  removeChild(c) {\n    c._stage = null;\n    let desc = c.descendants,\n      num = desc ? desc.length : 0,\n      i;\n    // remove reference to stage from all descendants\n    for (i = 0; i < num; i++) {\n      desc[i]._stage = null;\n    }\n\n    NC.removeChild.call(this, c);\n\n    return this;\n  }\n\n  removeChildren(children) {\n    NC.removeChildren.call(this, children);\n\n    return this;\n  }\n}\n\nexport function create(...s) {\n  return new GradientItem(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport {\n  rectToPoints,\n  getMinMax\n} from '../../geometry/util';\n\n/**\n * @extends node-def\n * @typedef {object} node--rect-def\n * @property {number} x - {@link https://www.w3.org/TR/SVG/shapes.html#RectElementXAttribute}\n * @property {number} y - {@link https://www.w3.org/TR/SVG/shapes.html#RectElementYAttribute}\n * @property {number} width - {@link https://www.w3.org/TR/SVG/shapes.html#RectElementWidthAttribute}\n * @property {number} height- {@link https://www.w3.org/TR/SVG/shapes.html#RectElementHeightAttribute}\n */\n\nexport default class Rect extends DisplayObject {\n  constructor(...s) {\n    super('rect');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      x = 0, y = 0, width = 0, height = 0, collider\n    } = v;\n    const opts = extend({\n      type: 'rect', x, y, width, height\n    }, collider);\n\n    super.set(v);\n\n    if (width >= 0) {\n      this.attrs.x = x;\n      this.attrs.width = width;\n    } else {\n      this.attrs.x = x + width;\n      this.attrs.width = -width;\n    }\n\n    if (height >= 0) {\n      this.attrs.y = y;\n      this.attrs.height = height;\n    } else {\n      this.attrs.y = y + height;\n      this.attrs.height = -height;\n    }\n\n    this.collider = opts;\n  }\n\n  boundingRect(includeTransform = false) {\n    const p = rectToPoints(this.attrs);\n    const pt = includeTransform && this.modelViewMatrix ? this.modelViewMatrix.transformPoints(p) : p;\n    const [xMin, yMin, xMax, yMax] = getMinMax(pt);\n\n    return {\n      x: xMin,\n      y: yMin,\n      width: xMax - xMin,\n      height: yMax - yMin\n    };\n  }\n\n  bounds(includeTransform = false) {\n    const rect = this.boundingRect(includeTransform);\n\n    return [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n  }\n}\n\nexport function create(...s) {\n  return new Rect(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport { getMinMax } from '../../geometry/util';\n\n/**\n * @extends node-def\n * @typedef {object} node--circle-def\n * @property {number} cx - {@link https://www.w3.org/TR/SVG/shapes.html#CircleElementCXAttribute}\n * @property {number} cy - {@link https://www.w3.org/TR/SVG/shapes.html#CircleElementCYAttribute}\n * @property {number} r - {@link https://www.w3.org/TR/SVG/shapes.html#CircleElementRAttribute}\n */\n\nexport default class Circle extends DisplayObject {\n  constructor(...s) {\n    super('circle');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      cx = 0, cy = 0, r = 0, collider\n    } = v;\n    const opts = extend({\n      type: 'circle', cx, cy, r\n    }, collider);\n\n    super.set(v);\n\n    this.attrs.cx = cx;\n    this.attrs.cy = cy;\n    this.attrs.r = r;\n\n    this.collider = opts;\n  }\n\n  boundingRect(includeTransform = false) {\n    // TODO Handle Circle bounds correctly for a circle transformed to an non axis aligned ellipse/circle\n    // Current solution only rotate the bounds, giving a larger boundingRect if rotated\n    const p = this.bounds(includeTransform);\n\n    return {\n      x: p[0].x,\n      y: p[0].y,\n      width: p[2].x - p[0].x,\n      height: p[2].y - p[0].y\n    };\n  }\n\n  bounds(includeTransform = false) {\n    // TODO Handle Circle bounds correctly for a circle transformed to an non axis aligned ellipse/circle\n    const {\n      cx, cy, r: rX, r: rY\n    } = this.attrs;\n    const x = cx - rX;\n    const y = cy - rY;\n    let w = rX * 2;\n    let h = rY * 2;\n    let p = [\n      { x, y },\n      { x: x + w, y },\n      { x: x + w, y: y + h },\n      { x, y: y + h }\n    ];\n\n    if (includeTransform && this.modelViewMatrix) {\n      p = this.modelViewMatrix.transformPoints(p);\n      const [xMin, yMin, xMax, yMax] = getMinMax(p);\n      w = xMax - xMin;\n      h = yMax - yMin;\n\n      return [\n        { x: xMin, y: yMin },\n        { x: xMin + w, y: yMin },\n        { x: xMin + w, y: yMin + h },\n        { x: xMin, y: yMin + h }\n      ];\n    }\n\n    return p;\n  }\n}\n\nexport function create(...s) {\n  return new Circle(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport {\n  lineToPoints,\n  getMinMax\n} from '../../geometry/util';\n\n/**\n * @extends node-def\n * @typedef {object} node--line-def\n * @property {number} x1 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementX1Attribute}\n * @property {number} y1 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementY1Attribute}\n * @property {number} x2 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementX2Attribute}\n * @property {number} y2 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementY2Attribute}\n */\n\nexport default class Line extends DisplayObject {\n  constructor(...s) {\n    super('line');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      x1 = 0, y1 = 0, x2 = 0, y2 = 0, collider\n    } = v;\n    super.set(v);\n    this.attrs.x1 = x1;\n    this.attrs.y1 = y1;\n    this.attrs.x2 = x2;\n    this.attrs.y2 = y2;\n\n    const defaultCollider = {\n      type: 'line',\n      x1,\n      y1,\n      x2,\n      y2\n    };\n    this.collider = extend(defaultCollider, collider);\n  }\n\n  boundingRect(includeTransform = false) {\n    let p = lineToPoints(this.attrs);\n\n    if (includeTransform && this.modelViewMatrix) {\n      p = this.modelViewMatrix.transformPoints(p);\n    }\n\n    const [xMin, yMin, xMax, yMax] = getMinMax(p);\n    const hasSize = xMin !== xMax || yMin !== yMax;\n\n    return {\n      x: xMin,\n      y: yMin,\n      width: hasSize ? Math.max(1, xMax - xMin) : 0,\n      height: hasSize ? Math.max(1, yMax - yMin) : 0\n    };\n  }\n\n  bounds(includeTransform = false) {\n    const rect = this.boundingRect(includeTransform);\n    return [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n  }\n}\n\nexport function create(...s) {\n  return new Line(...s);\n}\n","const PI_2 = Math.PI / 2;\n\nfunction lineAngle(p0, p1) {\n  const t = Math.atan2(p1.y - p0.y, p1.x - p0.x);\n  return t < 0 ? t + Math.PI * 2 : t;\n}\n\n// TODO Find a more accurate method to find the open and closed points\nfunction rotatePoint(p, angle, radius) {\n  return {\n    x: p.x + (Math.cos(angle) * radius),\n    y: p.y + (Math.sin(angle) * radius)\n  };\n}\n\nexport default function polylineToPolygonCollider(points, radius, opts = {}) {\n  const open = [];\n  const close = [];\n\n  // TODO handle case if points.length === 2\n\n  if (opts.forceOrientation === 'h') {\n    const start = points[0].x < points[1].x ? -1 : 1;\n    const end = points[points.length - 1].x > points[points.length - 2].x ? 1 : -1;\n\n    points.unshift({ x: points[0].x + start, y: points[0].y });\n    points.push({ x: points[points.length - 1].x + end, y: points[points.length - 1].y });\n  } else if (opts.forceOrientation === 'v') {\n    const start = points[0].y < points[1].y ? -1 : 1;\n    const end = points[points.length - 1].y > points[points.length - 2].y ? 1 : -1;\n\n    points.unshift({ x: points[0].x, y: points[0].y + start });\n    points.push({ x: points[points.length - 1].x, y: points[points.length - 1].y + end });\n  }\n\n  const len = points.length - 1;\n  for (let i = 1; i < len; i++) {\n    const prev = points[i - 1];\n    const curr = points[i];\n    const next = points[i + 1];\n    const currToPrev = lineAngle(curr, prev);\n    const currToNext = lineAngle(curr, next);\n    const openAngle = (currToPrev + currToNext) / 2;\n    const closeAngle = openAngle + Math.PI;\n    const maxAngle = Math.max(openAngle, closeAngle);\n    const minAngle = Math.min(openAngle, closeAngle);\n    const openClose = currToPrev > currToNext;\n\n    if (i === 1) {\n      const prevToCurr = lineAngle(prev, curr);\n      open.push(rotatePoint(prev, prevToCurr - PI_2, radius));\n      close.unshift(rotatePoint(prev, prevToCurr + PI_2, radius));\n    }\n\n    const opened = openClose ? maxAngle : minAngle;\n    const closed = openClose ? minAngle : maxAngle;\n\n    open.push(rotatePoint(curr, opened, radius));\n    close.unshift(rotatePoint(curr, closed, radius));\n\n    if (i === len - 1) {\n      const nextToCurr = lineAngle(next, curr);\n      open.push(rotatePoint(next, nextToCurr + PI_2, radius));\n      close.unshift(rotatePoint(next, nextToCurr - PI_2, radius));\n    }\n  }\n\n  return {\n    type: 'polygon',\n    vertices: [\n      ...open,\n      ...close\n    ]\n  };\n}\n","export default function flatten2d(ary) {\n  const newAry = [];\n  let a;\n  let len = ary.length;\n  for (let i = 0; i < len; i++) {\n    a = ary[i];\n    for (let k = 0; k < a.length; k++) {\n      newAry.push(a[k]);\n    }\n  }\n\n  return newAry;\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport { getMinMax } from '../../geometry/util';\nimport pathToSegments from '../parse-path-d';\nimport polylineToPolygonCollider from '../polyline-to-polygon-collider';\nimport flatten from '../../utils/flatten-array';\n\nconst EPSILON = 1e-12;\n\n/**\n * @extends node-def\n * @typedef {object} node--path-def\n * @property {string} d - {@link https://www.w3.org/TR/SVG/paths.html#DAttribute}\n */\n\nfunction isClosed(points) {\n  if (points.length < 2) {\n    return false;\n  }\n  const p0 = points[0];\n  const p1 = points[points.length - 1];\n\n  return Math.abs(p0.x - p1.x) < EPSILON && Math.abs(p0.y - p1.y) < EPSILON;\n}\n\nexport default class Path extends DisplayObject {\n  constructor(...s) {\n    super('path');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    super.set(v);\n    this.segments = [];\n    this.points = [];\n    this.attrs.d = v.d;\n\n    if (Array.isArray(v.collider) || (typeof v.collider === 'object' && typeof v.collider.type !== 'undefined')) {\n      this.collider = v.collider;\n    } else if (v.d) {\n      this.segments = pathToSegments(v.d);\n      this.segments.forEach((segment) => {\n        if (segment.length <= 1) {\n          // Omit empty and single point segments\n        } else if (isClosed(segment)) {\n          this.collider = extend({\n            type: 'polygon',\n            vertices: segment\n          }, v.collider);\n        } else if (typeof v.collider === 'object' && v.collider.visual) {\n          const size = this.attrs['stroke-width'] / 2;\n          this.collider = polylineToPolygonCollider(segment, size, v.collider);\n        } else {\n          this.collider = extend({\n            type: 'polyline',\n            points: segment\n          }, v.collider);\n        }\n      });\n    }\n  }\n\n  boundingRect(includeTransform = false) {\n    if (!this.points.length) {\n      this.segments = this.segments.length ? this.segments : pathToSegments(this.attrs.d);\n      this.points = flatten(this.segments);\n    }\n\n    const pt = includeTransform && this.modelViewMatrix ? this.modelViewMatrix.transformPoints(this.points) : this.points;\n    const [xMin, yMin, xMax, yMax] = getMinMax(pt);\n\n    return {\n      x: xMin || 0,\n      y: yMin || 0,\n      width: (xMax - xMin) || 0,\n      height: (yMax - yMin) || 0\n    };\n  }\n\n  bounds(includeTransform = false) {\n    const rect = this.boundingRect(includeTransform);\n\n    return [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n  }\n}\n\nexport function create(...s) {\n  return new Path(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport {\n  rectToPoints,\n  getMinMax\n} from '../../geometry/util';\n\nfunction hasData({ data, _boundingRect, _textBoundsFn }) {\n  return typeof data !== 'undefined' && data !== null && (_boundingRect || _textBoundsFn);\n}\n\n/**\n * @extends node-def\n * @typedef {object} node--text-def\n * @property {string} text\n * @property {number} x - {@link https://www.w3.org/TR/SVG/text.html#TextElementXAttribute}\n * @property {number} y - {@link https://www.w3.org/TR/SVG/text.html#TextElementYAttribute}\n * @property {number} [dx] - {@link https://www.w3.org/TR/SVG/text.html#TextElementDXAttribute}\n * @property {number} [dy] - {@link https://www.w3.org/TR/SVG/text.html#TextElementDYAttribute}\n * @property {string} [fontSize] - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n * @property {string} [fontFamily] - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n * @property {rect} [boundingRect] - Explicitly set the bounding rectangle of the node. Has predence over textBoundsFn\n * @property {function} [textBoundsFn] - Implicitly set the bounding rectangle of the node, the function must return an object with x, y, width and height attributes\n * @property {string} [baseline] - Alias for dominantBaseline\n * @property {string} [dominantBaseline] - {@link https://www.w3.org/TR/SVG/text.html#BaselineAlignmentProperties}\n * @property {string} [anchor] - Alias for textAnchor\n * @property {string} [textAnchor] - {@link https://www.w3.org/TR/SVG/text.html#TextAnchorProperty}\n * @property {string} [wordBreak] - Word-break option\n * @property {number} [maxWidth] - Maximum allowed text width\n * @property {number} [maxHeight] - Maximum allowed text height. If both maxLines and maxHeight are set, the property that results in the fewest number of lines is used\n * @property {number} [maxLines] - Maximum number of lines allowed\n * @property {number} [lineHeight=1.2] - Line height\n */\n\nexport default class Text extends DisplayObject {\n  constructor(...s) {\n    super('text');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      x = 0,\n      y = 0,\n      dx = 0,\n      dy = 0,\n      textBoundsFn,\n      text,\n      title,\n      collider,\n      boundingRect\n    } = v;\n\n    super.set(v);\n    this.attrs.x = x;\n    this.attrs.y = y;\n    this.attrs.dx = dx;\n    this.attrs.dy = dy;\n    this.attrs.text = text;\n    this.attrs.title = title;\n    this._boundingRect = null; // Reset cache\n    if (boundingRect) {\n      this._boundingRect = boundingRect;\n    } else if (typeof textBoundsFn === 'function') {\n      this._textBoundsFn = textBoundsFn;\n    }\n\n    this.collider = extend({ type: hasData(this) ? 'bounds' : null }, collider);\n  }\n\n  boundingRect(includeTransform = false) {\n    if (!this._boundingRect && !this._textBoundsFn) {\n      return {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    if (!this._boundingRect && this._textBoundsFn) {\n      this._boundingRect = this._textBoundsFn(this.attrs);\n    }\n\n    const p = rectToPoints(this._boundingRect);\n    const pt = includeTransform && this.modelViewMatrix ? this.modelViewMatrix.transformPoints(p) : p;\n    const [xMin, yMin, xMax, yMax] = getMinMax(pt);\n\n    return {\n      x: xMin,\n      y: yMin,\n      width: xMax - xMin,\n      height: yMax - yMin\n    };\n  }\n\n  bounds(includeTransform = false) {\n    const rect = this.boundingRect(includeTransform);\n\n    return [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n  }\n}\n\nexport function create(...s) {\n  return new Text(...s);\n}\n","import { create as stage } from './stage';\nimport { create as container } from './container';\nimport { create as gradientitem } from './gradient-item';\nimport { create as rect } from './rect';\nimport { create as circle } from './circle';\nimport { create as line } from './line';\nimport { create as path } from './path';\nimport { create as text } from './text';\nimport registry from '../../utils/registry';\n\nconst reg = registry();\n\nreg.add('rect', rect);\nreg.add('circle', circle);\nreg.add('text', text);\nreg.add('line', line);\nreg.add('path', path);\nreg.add('stage', stage);\nreg.add('container', container);\nreg.add('defs', gradientitem);\nreg.add('linearGradient', gradientitem);\nreg.add('radialGradient', gradientitem);\nreg.add('stop', gradientitem);\n\nexport function create(type, input) { // eslint-disable-line import/prefer-default-export\n  return reg.get(type)(input);\n}\n","import extend from 'extend';\n\n/**\n * Creates a context. Input an array of strings that should be inherited by the context.\n * @private\n *\n * @param  {Array}  [whitelist=[]]  An array of whitelisted string keys to inherit\n * @return {Function}               A context function\n */\nfunction contextFactory(whitelist = []) {\n  const states = [{}];\n\n  /**\n   * Returns the current context as an object. The object is mutable.\n   * @private\n   *\n   * @return {Object}   Current context\n   */\n  function context() {\n    // Returns the current context, the last in the stack.\n    const item = states[states.length - 1];\n    return item;\n  }\n\n  /**\n   * Call context.save() to save the current context and move down the stack.\n   *\n   * @param  {Object} [item={}]   Optional item to save.\n   * @return {Object}             The current context, just as context()\n   */\n  context.save = function save(item = {}) {\n    const current = context();\n    const obj = {};\n    let key = '';\n\n    // Only inherit whitelisted properties\n    for (let i = 0; i < whitelist.length; i++) {\n      key = whitelist[i];\n      if (typeof current[key] !== 'undefined') { obj[key] = current[key]; }\n    }\n\n    // Extend the new object with the saved item\n    extend(obj, item);\n\n    // Push it to the stack\n    states.push(obj);\n\n    // Return the new current context\n    return context();\n  };\n\n  /**\n   * Restore the previous context. Returns the context.\n   *\n   * @return {Undefined}   Returns nothing\n   */\n  context.restore = function restore() {\n    // Remove the last element from the stack\n    states.splice(states.length - 1, 1);\n  };\n\n  return context;\n}\n\nexport { contextFactory as default };\n","import { create } from './display-objects';\nimport Matrix from '../math/matrix';\nimport resolveTransform from './transform-resolver';\nimport contextFactory from './context';\n\nconst styleContext = contextFactory([\n  'stroke',\n  'fill',\n  'strokeWidth',\n  'opacity',\n  'fontFamily',\n  'fontSize',\n  'baseline'\n]);\n\nfunction doEvent(state, listeners) {\n  if (!Array.isArray(listeners)) {\n    return;\n  }\n\n  for (let i = 0, len = listeners.length; i < len; i++) {\n    listeners[i](state);\n  }\n}\n\nfunction updateState(state, index, nodes) {\n  state.node = nodes[index];\n  state.index = index;\n}\n\nfunction traverse(items, parent, matrix, on) {\n  let disabled = false;\n  const state = {\n    siblings: items,\n    node: null,\n    index: 0\n  };\n  for (let i = 0, len = items.length; i < len; i++) {\n    updateState(state, i, items);\n    doEvent(state, on.create);\n\n    disabled = typeof state.node.disabled === 'function' ? state.node.disabled() : state.node.disabled;\n    if (disabled) {\n      continue;\n    }\n\n    // Save the current style context to be able to inherit styles\n    state.node = styleContext.save(state.node);\n\n    const displayNode = create(state.node.type, state.node);\n    if (displayNode) {\n      if (state.node.transform) {\n        matrix.save();\n        resolveTransform(state.node.transform, matrix);\n      }\n\n      if (!matrix.isIdentity()) {\n        displayNode.modelViewMatrix = matrix.clone();\n      }\n\n      parent.addChild(displayNode);\n      if (state.node.children) {\n        traverse(state.node.children, displayNode, matrix, on);\n      }\n\n      if (state.node.transform) {\n        matrix.restore();\n      }\n    }\n\n    // Revert to previous style context\n    styleContext.restore();\n  }\n}\n\nexport default function scene({\n  items,\n  stage,\n  dpi,\n  on = {}\n}) {\n  if (!stage) {\n    stage = create('stage', dpi);\n  }\n\n  traverse(items, stage, new Matrix(), on);\n\n  return stage;\n}\n","const LINEBREAK_REGEX = /\\n+|\\r+|\\r\\n/;\nconst WHITESPACE_REGEX = /\\s/;\nconst HYPHEN_REGEX = /[a-zA-Z\\u00C0-\\u00F6\\u00F8-\\u00FF\\u00AD]/;\nexport const NO_BREAK = 0;\nexport const MANDATORY = 1;\nexport const BREAK_ALLOWED = 2;\n\nexport function includesLineBreak(c) {\n  if (typeof c === 'string') {\n    return c.search(LINEBREAK_REGEX) !== -1;\n  }\n  return String(c).search(LINEBREAK_REGEX) !== -1;\n}\n\nfunction includesWhiteSpace(c) {\n  return c.search(WHITESPACE_REGEX) !== -1;\n}\n\nfunction hyphenationAllowed(c) {\n  /* Latin character set. Excluding numbers, sign and symbol characters, but including soft hyphen */\n  return c.search(HYPHEN_REGEX) !== -1;\n}\n\nfunction resolveBreakOpportunity(chunk, i, chunks, mandatory, noBreakAllowed) {\n  if (mandatory.some(fn => fn(chunk, i, chunks))) {\n    return MANDATORY;\n  }\n  if (noBreakAllowed.some(fn => fn(chunk, i, chunks))) {\n    return NO_BREAK;\n  }\n\n  return BREAK_ALLOWED;\n}\n\nfunction cleanEmptyChunks(chunks) {\n  if (chunks[0] === '') {\n    chunks.shift();\n  }\n  if (chunks[chunks.length - 1] === '') {\n    chunks.pop();\n  }\n}\n\nfunction clamp(val, min, max) {\n  return Math.max(min, Math.min(max, val));\n}\n\nexport default function stringTokenizer({\n  string,\n  separator = '',\n  reverse = false,\n  measureText = text => ({ width: text.length, height: 1 }),\n  mandatoryBreakIdentifiers = [includesLineBreak],\n  noBreakAllowedIdentifiers = [],\n  suppressIdentifier = [includesWhiteSpace, includesLineBreak, chunk => chunk === ''],\n  hyphenationIdentifiers = [hyphenationAllowed]\n} = {}) {\n  const chunks = String(string).split(separator);\n  cleanEmptyChunks(chunks);\n  const length = chunks.length;\n  const isNotDone = reverse ? p => p >= 0 : p => p < length;\n  let position = reverse ? length : -1; // Set init position 1 step before or after to make first next call go to first position\n\n  function peek(peekAt) {\n    const i = clamp(peekAt, 0, length - 1);\n    const chunk = chunks[i];\n    const textMeasure = measureText(chunk);\n    const opportunity = resolveBreakOpportunity(\n      chunk,\n      i,\n      chunks,\n      mandatoryBreakIdentifiers,\n      noBreakAllowedIdentifiers\n    );\n\n    return {\n      index: i,\n      value: chunk,\n      breakOpportunity: opportunity,\n      suppress: suppressIdentifier.some(fn => fn(chunk, i, chunks)),\n      hyphenation: hyphenationIdentifiers.some(fn => fn(chunk, i, chunks)),\n      width: textMeasure.width,\n      height: textMeasure.height,\n      done: false\n    };\n  }\n\n  function next(jumpToPosition) {\n    if (isNaN(jumpToPosition)) {\n      if (reverse) {\n        position--;\n      } else {\n        position++;\n      }\n    } else {\n      position = clamp(jumpToPosition, 0, length - 1);\n    }\n\n    if (isNotDone(position)) {\n      return peek(position);\n    }\n    return { done: true };\n  }\n\n  return {\n    next,\n    peek,\n    length\n  };\n}\n","const DEFAULT_LINE_HEIGHT = 1.2;\nconst HYPHENS_CHAR = '\\u2010';\nconst ELLIPSIS_CHAR = '…';\n\nexport {\n  DEFAULT_LINE_HEIGHT,\n  HYPHENS_CHAR,\n  ELLIPSIS_CHAR\n};\n","import stringTokenizer, {\n  MANDATORY,\n  BREAK_ALLOWED\n} from './string-tokenizer';\nimport {\n  DEFAULT_LINE_HEIGHT,\n  HYPHENS_CHAR\n} from './text-const';\n\nfunction resolveMaxAllowedLines(node, measuredLineHeight) {\n  const maxHeight = node.maxHeight;\n  let maxLines = Math.max(node.maxLines, 1) || Infinity;\n\n  if (isNaN(maxHeight)) {\n    return maxLines;\n  }\n\n  const lineHeight = node.lineHeight || DEFAULT_LINE_HEIGHT;\n  const calcLineHeight = measuredLineHeight * lineHeight;\n\n  return Math.max(1, Math.min(Math.floor(maxHeight / calcLineHeight), maxLines));\n}\n\nfunction initState(node, measureText) {\n  return {\n    lines: [],\n    line: '',\n    width: 0,\n    maxLines: resolveMaxAllowedLines(node, measureText(node.text).height),\n    maxWidth: node.maxWidth,\n    hyphens: {\n      enabled: node.hyphens === 'auto',\n      char: HYPHENS_CHAR,\n      metrics: measureText(HYPHENS_CHAR)\n    }\n  };\n}\n\nfunction newLine(state) {\n  state.lines.push(state.line);\n  state.line = '';\n  state.width = 0;\n}\n\nfunction appendToLine(state, token) {\n  state.line += token.value;\n  state.width += token.width;\n}\n\nfunction insertHyphenAndJump(state, token, iterator) {\n  if (token.width > state.maxWidth) {\n    return token;\n  }\n\n  const startIndex = token.index;\n\n  for (let i = 1; i < 5; i++) {\n    const pairToken = iterator.peek(token.index - 1);\n\n    if (!token.hyphenation || !pairToken.hyphenation || token.index === 0) {\n      return token;\n    }\n    if (state.width + state.hyphens.metrics.width <= state.maxWidth) {\n      state.line += state.hyphens.char;\n      return token;\n    }\n    if (state.line.length === 1) {\n      return token;\n    }\n\n    token = iterator.next(startIndex - i);\n    state.line = state.line.slice(0, -1);\n    state.width -= token.width;\n  }\n\n  return token;\n}\n\nfunction breakSequence(state, token, measureText) {\n  const charTokenIterator = stringTokenizer({\n    string: token.value,\n    measureText\n  });\n\n  while (state.lines.length < state.maxLines) {\n    let charToken = charTokenIterator.next();\n    if (charToken.done) {\n      break;\n    } else if (state.width + charToken.width > state.maxWidth && charToken.breakOpportunity === BREAK_ALLOWED && state.line.length > 0) {\n      charToken = state.hyphens.enabled ? insertHyphenAndJump(state, charToken, charTokenIterator) : charToken;\n      newLine(state);\n      appendToLine(state, charToken);\n    } else {\n      appendToLine(state, charToken);\n    }\n  }\n}\n\nexport function breakAll(node, measureText) {\n  const text = node.text;\n  const iterator = stringTokenizer({\n    string: text,\n    separator: '',\n    measureText,\n    noBreakAllowedIdentifiers: [(chunk, i) => i === 0]\n  });\n  const state = initState(node, measureText);\n  let reduced = true;\n\n  while (state.lines.length < state.maxLines) {\n    let token = iterator.next();\n\n    if (token.done) {\n      newLine(state);\n      reduced = false;\n      break;\n    } else if (token.breakOpportunity === MANDATORY) {\n      newLine(state);\n    } else if (state.width + token.width > state.maxWidth && token.breakOpportunity === BREAK_ALLOWED) {\n      if (token.suppress) { // Token is suppressable and can be ignored\n        state.width += token.width;\n      } else {\n        token = state.hyphens.enabled ? insertHyphenAndJump(state, token, iterator) : token;\n        newLine(state);\n        appendToLine(state, token);\n      }\n    } else {\n      appendToLine(state, token);\n    }\n  }\n\n  return {\n    lines: state.lines,\n    reduced\n  };\n}\n\nexport function breakWord(node, measureText) {\n  const text = node.text;\n  const iterator = stringTokenizer({\n    string: text,\n    separator: /(\\s|-|\\u2010)/,\n    measureText\n  });\n  const state = initState(node, measureText);\n  let reduced = true;\n\n  while (state.lines.length < state.maxLines) {\n    let token = iterator.next();\n\n    if (token.done) {\n      newLine(state);\n      reduced = false;\n      break;\n    } else if (token.breakOpportunity === MANDATORY) {\n      newLine(state);\n    } else if (state.width + token.width > state.maxWidth && token.breakOpportunity === BREAK_ALLOWED) {\n      if (token.suppress) { // Token is suppressable and can be ignored\n        newLine(state);\n      } else if (token.width > state.maxWidth) { // Single sequence is wider then maxWidth, break sequence into multiple lines\n        breakSequence(state, token, measureText);\n      } else {\n        newLine(state);\n        appendToLine(state, token);\n      }\n    } else {\n      appendToLine(state, token);\n    }\n  }\n\n  return {\n    lines: state.lines,\n    reduced\n  };\n}\n","import extend from 'extend';\nimport { breakAll, breakWord } from './word-break';\nimport { DEFAULT_LINE_HEIGHT, ELLIPSIS_CHAR } from './text-const';\nimport { includesLineBreak } from './string-tokenizer';\n\nfunction generateLineNodes(result, item, lineHeight) {\n  const container = { type: 'container', children: [] };\n\n  if (typeof item.id !== 'undefined') { // TODO also inherit data attribute and more?\n    container.id = item.id;\n  }\n\n  let currentY = 0;\n\n  result.lines.forEach((line, i) => {\n    const node = extend({}, item);\n    node.text = line;\n    node._lineBreak = true; // Flag node as processed to avoid duplicate linebreak run\n\n    if (result.reduced && i === result.lines.length - 1) {\n      node.text += ELLIPSIS_CHAR;\n    } else {\n      delete node.maxWidth;\n    }\n    node.dy = isNaN(node.dy) ? currentY : node.dy + currentY;\n    currentY += lineHeight;\n    container.children.push(node);\n  });\n\n  return container;\n}\n\nfunction shouldLineBreak(item) {\n  // If type text and not already broken into lines\n  return item.type === 'text' && !item._lineBreak;\n}\n\nfunction wrappedMeasureText(node, measureText) {\n  return text => measureText({\n    text,\n    fontSize: node.fontSize,\n    fontFamily: node.fontFamily\n  });\n}\n\nexport function resolveLineBreakAlgorithm(node) {\n  const WORDBREAK = {\n    'break-all': breakAll,\n    'break-word': breakWord\n  };\n\n  return WORDBREAK[node.wordBreak];\n}\n\n/**\n * Apply wordBreak rules to text nodes.\n * @ignore\n * @param {function} measureText\n * @returns {function} Event function to convert a text node into multiple nodes\n */\nexport function onLineBreak(measureText) {\n  return (state) => {\n    const item = state.node;\n    if (shouldLineBreak(item)) {\n      const wordBreakFn = resolveLineBreakAlgorithm(item);\n      if (!wordBreakFn) {\n        return;\n      }\n\n      const tm = measureText(item);\n      if (tm.width <= item.maxWidth && !includesLineBreak(item.text)) {\n        return;\n      }\n\n      const lineHeight = tm.height * (item.lineHeight || DEFAULT_LINE_HEIGHT);\n      const result = wordBreakFn(item, wrappedMeasureText(item, measureText));\n\n      state.node = generateLineNodes(result, item, lineHeight); // Convert node to container\n    }\n  };\n}\n","import { ELLIPSIS_CHAR } from './text-const';\n\nexport default function ellipsText({\n  text, 'font-size': fontSize, 'font-family': fontFamily, maxWidth\n}, measureText) { // eslint-disable-line import/prefer-default-export\n  text = typeof text === 'string' ? text : `${text}`;\n  if (maxWidth === undefined) {\n    return text;\n  }\n  let textWidth = measureText({ text, fontSize, fontFamily }).width;\n  if (textWidth <= maxWidth) {\n    return text;\n  }\n\n  let min = 0;\n  let max = text.length - 1;\n  while (min <= max) {\n    let reduceIndex = Math.floor((min + max) / 2);\n    let reduceText = text.substr(0, reduceIndex) + ELLIPSIS_CHAR;\n    textWidth = measureText({ text: reduceText, fontSize, fontFamily }).width;\n    if (textWidth <= maxWidth) {\n      min = reduceIndex + 1;\n    } else { // textWidth > maxWidth\n      max = reduceIndex - 1;\n    }\n  }\n  return text.substr(0, max) + ELLIPSIS_CHAR;\n}\n","/**\n * Currently some browsers, IE11 and Edge confirmed, doesn't support the dominant-baseline svg-attribute and\n * the browser that does, have different implementations. Thus giving an unpredictable result when rendering'\n * text and predicting it's position (ex. in collision detection).\n *\n * To supplement and the aid in aligning/positioning text with various items, this function can be used\n * to follow a common heuristic across supported renderers.\n * @ignore\n * @param {object} textNode\n * @param {string|number} [textNode['font-size']=0] - String in px format or number\n * @param {string} [textNode['dominant-baseline']] - If baseline is omitted dominant-baseline is used\n * @param {string} [textNode.baseline]\n * @returns {number} Delta-y required to adjust for baseline\n */\nexport default function baselineHeuristic(textNode) {\n  const baseline = textNode.baseline || textNode['dominant-baseline'];\n  let dy = 0;\n\n  const fontSize = parseInt(textNode.fontSize || textNode['font-size'], 10) || 0;\n\n  switch (baseline) {\n    case 'hanging':\n      dy = fontSize * 0.75;\n      break;\n    case 'text-before-edge':\n      dy = fontSize * 0.85;\n      break;\n    case 'middle':\n      dy = fontSize * 0.25;\n      break;\n    case 'central':\n      dy = fontSize * 0.35;\n      break;\n    case 'mathemetical':\n      dy = fontSize / 2;\n      break;\n    case 'text-after-edge':\n    case 'ideographic':\n      dy = -fontSize * 0.2;\n      break;\n    default:\n      dy = 0;\n      break;\n  }\n\n  return dy;\n}\n","import extend from 'extend';\nimport { resolveLineBreakAlgorithm } from './line-break-resolver';\nimport baselineHeuristic from './baseline-heuristic';\nimport {\n  DEFAULT_LINE_HEIGHT,\n  ELLIPSIS_CHAR\n} from './text-const';\n\nlet heightMeasureCache = {},\n  widthMeasureCache = {},\n  canvasCache;\n\nfunction measureTextWidth({ text, fontSize, fontFamily }) {\n  const match = widthMeasureCache[text + fontSize + fontFamily];\n  if (match !== undefined) {\n    return match;\n  }\n  canvasCache = canvasCache || document.createElement('canvas');\n  const g = canvasCache.getContext('2d');\n  g.font = `${fontSize} ${fontFamily}`;\n  const w = g.measureText(text).width;\n  widthMeasureCache[text + fontSize + fontFamily] = w;\n  return w;\n}\n\nfunction measureTextHeight({ fontSize, fontFamily }) {\n  const match = heightMeasureCache[fontSize + fontFamily];\n\n  if (match !== undefined) {\n    return match;\n  }\n  const text = 'M';\n  const height = measureTextWidth({ text, fontSize, fontFamily }) * 1.2;\n  heightMeasureCache[fontSize + fontFamily] = height;\n  return height;\n}\n\n/**\n * @private\n * @param {object} opts\n * @param {string} opts.text - Text to measure\n * @param {string} opts.fontSize - Font size with a unit definition, ex. 'px' or 'em'\n * @param {string} opts.fontFamily - Font family\n * @return {object} Width and height of text in pixels\n * @example\n * measureText({\n *  text: 'my text',\n *  fontSize: '12px',\n *  fontFamily: 'Arial'\n * }); // returns { width: 20, height: 12 }\n */\nexport function measureText({ text, fontSize, fontFamily }) { // eslint-disable-line import/prefer-default-export\n  const w = measureTextWidth({ text, fontSize, fontFamily });\n  const h = measureTextHeight({ fontSize, fontFamily });\n  return { width: w, height: h };\n}\n\n/**\n * Calculates the bounding rectangle of a text node.\n * The bounding rectangle is a approximate of the \"em square\" seen here (http://www.w3resource.com/html5-canvas/html5-canvas-text.php)\n * @ignore\n * @param {object} attrs - Text node definition\n * @param {number} [attrs.x] - X-coordinate\n * @param {number} [attrs.y] - Y-coordinate\n * @param {number} [attrs.dx] - Delta x-coordinate\n * @param {number} [attrs.dy] - Delta y-coordinate\n * @param {string} [attrs.anchor] - Text anchor\n * @param {number} [attrs.maxWidth] - Maximum allowed text width\n * @return {object} The bounding rectangle\n */\nfunction calcTextBounds(attrs, measureFn = measureText) {\n  const fontSize = attrs['font-size'] || attrs.fontSize;\n  const fontFamily = attrs['font-family'] || attrs.fontFamily;\n  const textMeasure = measureFn({ text: attrs.text, fontFamily, fontSize });\n  const calWidth = Math.min(attrs.maxWidth || textMeasure.width, textMeasure.width); // Use actual value if max is not set\n  const x = attrs.x || 0;\n  const y = attrs.y || 0;\n  const dx = attrs.dx || 0;\n  const dy = (attrs.dy || 0) + baselineHeuristic(attrs);\n\n  const boundingRect = {\n    x: 0,\n    y: (y + dy) - (textMeasure.height * 0.75), // Magic number for alphabetical baseline\n    width: calWidth,\n    height: textMeasure.height\n  };\n\n  const anchor = attrs['text-anchor'] || attrs.anchor;\n\n  if (anchor === 'middle') {\n    boundingRect.x = (x + dx) - (calWidth / 2);\n  } else if (anchor === 'end') {\n    boundingRect.x = (x + dx) - calWidth;\n  } else {\n    boundingRect.x = x + dx;\n  }\n\n  return boundingRect;\n}\n\n/**\n * Calculates the bounding rectangle of a text node. Including any line breaks.\n * @ignore\n * @param {object} node\n * @param {string} node.text - Text to measure\n * @param {number} [node.x=0] - X-coordinate\n * @param {number} [node.y=0] - Y-coordinate\n * @param {number} [node.dx=0] - Delta x-coordinate\n * @param {number} [node.dy=0] - Delta y-coordinate\n * @param {string} [node.anchor='start'] - Text anchor\n * @param {string} [node.fontSize] - Font size\n * @param {string} [node.fontFamily] - Font family\n * @param {string} [node['font-size']] - Font size\n * @param {string} [node['font-family']] - Font family\n * @param {string} [node.wordBreak] - Word-break option\n * @param {number} [node.maxWidth] - Maximum allowed text width\n * @param {number} [node.maxHeight] - Maximum allowed text height. If both maxLines and maxHeight are set, the property that results in the fewest number of lines is used\n * @param {number} [node.maxLines] - Maximum number of lines allowed.\n * @param {number} [node.lineHeight=1.2] - Line height\n * @param {function} [measureFn] - Optional text measure function\n * @return {object} The bounding rectangle\n */\nexport function textBounds(node, measureFn = measureText) {\n  const lineBreakFn = resolveLineBreakAlgorithm(node);\n  if (lineBreakFn) {\n    const fontSize = node['font-size'] || node.fontSize;\n    const fontFamily = node['font-family'] || node.fontFamily;\n    const resolvedLineBreaks = lineBreakFn(node, text => measureFn({ text, fontFamily, fontSize }));\n    const nodeCopy = extend({}, node);\n    let maxWidth = 0;\n    let widestLine = '';\n    for (let i = 0, len = resolvedLineBreaks.lines.length; i < len; i++) {\n      let line = resolvedLineBreaks.lines[i];\n      line += i === len - 1 && resolvedLineBreaks.reduced ? ELLIPSIS_CHAR : '';\n      const width = measureFn({ text: line, fontSize, fontFamily }).width;\n      if (width >= maxWidth) {\n        maxWidth = width;\n        widestLine = line;\n      }\n    }\n    nodeCopy.text = widestLine;\n    const bounds = calcTextBounds(nodeCopy, measureFn);\n    const lineHeight = node.lineHeight || DEFAULT_LINE_HEIGHT;\n    bounds.height = bounds.height * resolvedLineBreaks.lines.length * lineHeight;\n\n    return bounds;\n  }\n\n  return calcTextBounds(node, measureFn);\n}\n","import { degreesToPoints } from '../../../core/math/angles';\n\n/**\n * Get or create a gradient\n * @ignore\n * @param  {Object} g        Canvas 2d context\n * @param  {Object} shape    Current shape (for width/height properties)\n * @param  {Object} gradient The gradient properties\n * @return {Object}          A canvas compatible radial or linear gradient object\n */\nexport default function createCanvasGradient(g, shape, gradient) {\n  const { orientation, degree, stops = [] } = gradient;\n\n  let newGradient = null;\n\n  if (orientation === 'radial') {\n    const width = (shape.width || 0);\n    const height = (shape.height || 0);\n\n    const theX = (shape.x !== undefined ? shape.x : shape.cx);\n    const theY = (shape.y !== undefined ? shape.y : shape.cy);\n\n    newGradient = g.createRadialGradient(\n      theX + (width / 2),\n      theY + (height / 2),\n      1,\n      theX + (width / 2),\n      theY + (height / 2),\n      (shape.r || Math.max(shape.width, shape.height) / 2)\n    );\n  } else {\n    const points = degreesToPoints(degree);\n\n    const width = (shape.width || (shape.r * 2));\n    const height = (shape.height || (shape.r * 2));\n\n    const theX = (shape.x !== undefined ? shape.x : (shape.cx - shape.r));\n    const theY = (shape.y !== undefined ? shape.y : (shape.cy - shape.r));\n\n    newGradient = g.createLinearGradient(\n      theX + (points.x1 * width),\n      theY + (points.y1 * height),\n      theX + (points.x2 * width),\n      theY + (points.y2 * height)\n    );\n  }\n\n  for (let i = 0, len = stops.length; i < len; i++) {\n    let stop = stops[i];\n    newGradient.addColorStop(stop.offset, stop.color);\n  }\n\n  return newGradient;\n}\n","/**\n * @typedef {object} renderer-container-def\n * @property {number} [x] - x-coordinate\n * @property {number} [y] - y-coordinate\n * @property {number} [width] - Width\n * @property {number} [height] - Height\n * @property {object} [scaleRatio]\n * @property {number} [scaleRatio.x] - Scale ratio on x-axis\n * @property {number} [scaleRatio.y] - Scale ratio on y-axis\n * @property {object} [margin]\n * @property {number} [margin.left] - Left margin\n * @property {number} [margin.top] - Top margin\n */\n\n/**\n * Create the renderer box\n * @private\n * @param {renderer-container-def} [opts]\n * @returns {renderer-container-def} A svg renderer instance\n */\nexport default function createRendererBox({\n  x, y, width, height, scaleRatio, margin\n} = {}) {\n  const box = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    scaleRatio: {\n      x: 1,\n      y: 1\n    },\n    margin: {\n      left: 0,\n      top: 0\n    }\n  };\n\n  box.x = isNaN(x) ? box.x : x;\n  box.y = isNaN(y) ? box.y : y;\n  box.width = isNaN(width) ? box.width : width;\n  box.height = isNaN(height) ? box.height : height;\n  if (typeof scaleRatio !== 'undefined') {\n    box.scaleRatio.x = isNaN(scaleRatio.x) ? box.scaleRatio.x : scaleRatio.x;\n    box.scaleRatio.y = isNaN(scaleRatio.y) ? box.scaleRatio.y : scaleRatio.y;\n  }\n  if (typeof margin !== 'undefined') {\n    box.margin.left = isNaN(margin.left) ? 0 : margin.left;\n    box.margin.top = isNaN(margin.top) ? 0 : margin.top;\n  }\n\n  return box;\n}\n","import {\n  measureText,\n  textBounds\n} from '../text-manipulation';\n\n/**\n * Base renderer factory\n * @private\n */\nfunction create() {\n  /**\n * @interface\n * @alias renderer\n */\n  const renderer = {\n    /**\n   * Get the element this renderer is attached to\n   * @returns {HTMLElement}\n   */\n    element: () => {},\n\n    /**\n     * Get the root element of the renderer\n     * @returns {HTMLElement}\n     */\n    root: () => {},\n\n    /**\n    * @param {HTMLElement} element - Element to attach renderer to\n    * @returns {HTMLElement} Root element of the renderer\n    */\n    appendTo: () => {},\n\n    /**\n     * @param {node-def[]} nodes - Nodes to render\n     * @returns {boolean} True if the nodes where rendered, otherwise false\n     */\n    render: () => false,\n\n    /**\n     * Get nodes renderer at area\n     * @param {point|circle|rect|line|polygon} geometry - Get nodes that intersects with geometry\n     * @returns {SceneNode[]}\n     */\n    itemsAt: () => [],\n\n    /**\n     * Get all nodes matching the provided selector\n     * @param {string} selector CSS selector [type, attribute, universal, class]\n     * @returns {SceneNode[]} Array of objects containing matching nodes\n     */\n    findShapes: () => [],\n\n    /**\n     * Clear all child elements from the renderer root element\n     * @returns {renderer} The renderer instance\n     */\n    clear: () => {},\n\n    /**\n     * Remove the renderer root element from its parent element\n     */\n    destory: () => {},\n\n    /**\n     * Set or Get the size definition of the renderer container.\n     * @param {renderer-container-def} [opts] - Size definition\n     * @returns {renderer-container-def} The current size definition\n     */\n    size: () => {},\n\n    /**\n     * @function\n     * @param {object} opts\n     * @param {string} opts.text - Text to measure\n     * @param {string} opts.fontSize - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n     * @param {string} opts.fontFamily - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n     * @returns {object} Width and height of text\n     * @example\n     * measureText({\n     *  text: 'my text',\n     *  fontSize: '12px',\n     *  fontFamily: 'Arial'\n     * }); // returns { width: 20, height: 12 }\n     */\n    measureText,\n\n    /**\n     * Calculates the bounding rectangle of a text node. Including any potential line breaks.\n     * @function\n     * @param {node--text-def} node\n     * @return {rect} The bounding rectangle\n     */\n    textBounds\n  };\n\n  return renderer;\n}\n\nexport { create as default };\n","function hasData(data) {\n  return typeof data !== 'undefined' && data !== null;\n}\n\nexport default function injectTextBoundsFn(renderer) {\n  return ({ node }) => {\n    if (node.type === 'text' && hasData(node.data) && !node.textBoundsFn) {\n      node.textBoundsFn = renderer.textBounds;\n    }\n  };\n}\n","import sceneFactory from '../../../core/scene-graph/scene';\nimport registry from '../../../core/utils/registry';\nimport { onLineBreak } from '../../text-manipulation';\nimport createCanvasGradient from './canvas-gradient';\nimport createRendererBox from '../renderer-box';\nimport create from '../index';\nimport injectTextBoundsFn from '../../text-manipulation/inject-textbounds';\n\nconst reg = registry();\n\nfunction toLineDash(p) {\n  if (Array.isArray(p)) {\n    return p;\n  }\n  if (typeof p === 'string') {\n    if (p.indexOf(',') !== -1) {\n      return p.split(',');\n    }\n    return p.split(' ');\n  }\n  return [];\n}\n\nfunction dpiScale(g) {\n  const dpr = typeof window === 'undefined' ? 1 : window.devicePixelRatio || 1;\n  const backingStorePixelRatio = g.webkitBackingStorePixelRatio\n    || g.mozBackingStorePixelRatio\n    || g.msBackingStorePixelRatio\n    || g.oBackingStorePixelRatio\n    || g.backingStorePixelRatio || 1;\n  return dpr / backingStorePixelRatio;\n}\n\nfunction resolveMatrix(p, g) {\n  g.setTransform(p[0][0], p[1][0], p[0][1], p[1][1], p[0][2], p[1][2]);\n}\n\nfunction applyContext(g, s, shapeToCanvasMap, computed = {}) {\n  const computedKeys = Object.keys(computed);\n\n  for (let i = 0, len = shapeToCanvasMap.length; i < len; i++) {\n    let cmd = shapeToCanvasMap[i];\n\n    const shapeCmd = cmd[0];\n    const canvasCmd = cmd[1];\n    const convertCmd = cmd[2];\n\n    if ((shapeCmd in s.attrs && !(canvasCmd in computed)) && g[canvasCmd] !== s.attrs[shapeCmd]) {\n      const val = convertCmd ? convertCmd(s.attrs[shapeCmd]) : s.attrs[shapeCmd];\n      if (typeof g[canvasCmd] === 'function') {\n        g[canvasCmd](val);\n      } else {\n        g[canvasCmd] = val;\n      }\n    }\n  }\n\n  for (let i = 0, len = computedKeys.length; i < len; i++) {\n    const key = computedKeys[i];\n    g[key] = computed[key];\n  }\n}\n\nfunction renderShapes(shapes, g, shapeToCanvasMap) {\n  for (let i = 0, len = shapes.length; i < len; i++) {\n    let shape = shapes[i];\n    let computed = {};\n    g.save();\n\n    // Gradient check\n    if (shape.attrs && (shape.attrs.fill || shape.attrs.stroke)) {\n      if (shape.attrs.fill && typeof shape.attrs.fill === 'object' && shape.attrs.fill.type === 'gradient') {\n        computed.fillStyle = createCanvasGradient(g, shape.attrs, shape.attrs.fill);\n      }\n      if (shape.attrs.stroke && typeof shape.attrs.stroke === 'object' && shape.attrs.stroke.type === 'gradient') {\n        computed.strokeStyle = createCanvasGradient(g, shape.attrs, shape.attrs.stroke);\n      }\n    }\n\n    applyContext(g, shape, shapeToCanvasMap, computed);\n\n    if (shape.modelViewMatrix) {\n      resolveMatrix(shape.modelViewMatrix.elements, g);\n    }\n\n    if (reg.has(shape.type)) {\n      reg.get(shape.type)(shape.attrs, {\n        g,\n        doFill: 'fill' in shape.attrs && shape.attrs.fill !== 'none',\n        doStroke: 'stroke' in shape.attrs && shape.attrs['stroke-width'] !== 0\n      });\n    }\n    if (shape.children) {\n      renderShapes(shape.children, g, shapeToCanvasMap);\n    }\n    g.restore();\n  }\n}\n\n/**\n * Create a new canvas renderer\n * @typedef {function} canvasRendererFactory\n * @param {function} sceneFn - Scene factory\n * @returns {renderer} A canvas renderer instance\n */\nexport function renderer(sceneFn = sceneFactory) {\n  let el;\n  let scene;\n  let hasChangedRect = false;\n  let rect = createRendererBox();\n  const shapeToCanvasMap = [\n    ['fill', 'fillStyle'],\n    ['stroke', 'strokeStyle'],\n    ['opacity', 'globalAlpha'],\n    ['globalAlpha', 'globalAlpha'],\n    ['stroke-width', 'lineWidth'],\n    ['stroke-linejoin', 'lineJoin'],\n    ['stroke-dasharray', 'setLineDash', toLineDash]\n  ];\n\n  const canvasRenderer = create();\n\n  canvasRenderer.element = () => el;\n\n  canvasRenderer.root = () => el;\n\n  canvasRenderer.appendTo = (element) => {\n    if (!el) {\n      el = element.ownerDocument.createElement('canvas');\n      el.style.position = 'absolute';\n      el.style['-webkit-font-smoothing'] = 'antialiased';\n      el.style['-moz-osx-font-smoothing'] = 'antialiased';\n      el.style.pointerEvents = 'none';\n    }\n\n    element.appendChild(el);\n\n    return el;\n  };\n\n  canvasRenderer.render = (shapes) => {\n    if (!el) {\n      return false;\n    }\n\n    const g = el.getContext('2d');\n    const dpiRatio = dpiScale(g);\n    const scaleX = rect.scaleRatio.x;\n    const scaleY = rect.scaleRatio.y;\n\n    if (hasChangedRect) {\n      el.style.left = `${Math.round(rect.margin.left + (rect.x * scaleX))}px`;\n      el.style.top = `${Math.round(rect.margin.top + (rect.y * scaleY))}px`;\n      el.style.width = `${Math.round(rect.width * scaleX)}px`;\n      el.style.height = `${Math.round(rect.height * scaleY)}px`;\n      el.width = Math.round(rect.width * dpiRatio * scaleX);\n      el.height = Math.round(rect.height * dpiRatio * scaleY);\n    }\n\n    const sceneContainer = {\n      type: 'container',\n      children: shapes\n    };\n\n    if (dpiRatio !== 1 || scaleX !== 1 || scaleY !== 1) {\n      sceneContainer.transform = `scale(${dpiRatio * scaleX}, ${dpiRatio * scaleY})`;\n    }\n\n    const newScene = sceneFn({\n      items: [sceneContainer],\n      dpi: dpiRatio,\n      on: {\n        create: [\n          onLineBreak(canvasRenderer.measureText),\n          injectTextBoundsFn(canvasRenderer)\n        ]\n      }\n    });\n    const hasChangedScene = scene ? !newScene.equals(scene) : true;\n\n    const doRender = hasChangedRect || hasChangedScene;\n    if (doRender) {\n      canvasRenderer.clear();\n      renderShapes(newScene.children, g, shapeToCanvasMap);\n    }\n\n    hasChangedRect = false;\n    scene = newScene;\n    return doRender;\n  };\n\n  canvasRenderer.itemsAt = input => (scene ? scene.getItemsFrom(input) : []);\n\n  canvasRenderer.findShapes = selector => (scene ? scene.findShapes(selector) : []);\n\n  canvasRenderer.clear = () => {\n    if (el) {\n      el.width = el.width;\n    }\n    scene = null;\n\n    return canvasRenderer;\n  };\n\n  canvasRenderer.size = (opts) => {\n    if (opts) {\n      const newRect = createRendererBox(opts);\n\n      if (JSON.stringify(rect) !== JSON.stringify(newRect)) {\n        hasChangedRect = true;\n        rect = newRect;\n      }\n    }\n\n    return rect;\n  };\n\n  canvasRenderer.destroy = () => {\n    if (el) {\n      if (el.parentElement) {\n        el.parentElement.removeChild(el);\n      }\n      el = null;\n    }\n    scene = null;\n  };\n\n  return canvasRenderer;\n}\n\nexport function register(type, renderFn) {\n  reg.add(type, renderFn);\n}\n","export default function render(rect, { g, doFill, doStroke }) {\n  g.beginPath();\n  g.rect(rect.x, rect.y, rect.width, rect.height);\n  if (doFill) {\n    g.fill();\n  }\n  if (doStroke) {\n    g.stroke();\n  }\n}\n","export default function render(circle, { g, doFill, doStroke }) {\n  g.beginPath();\n  g.moveTo(circle.cx + circle.r, circle.cy);\n  g.arc(circle.cx, circle.cy, circle.r, 0, Math.PI * 2, false);\n  if (doFill) {\n    g.fill();\n  }\n  if (doStroke) {\n    g.stroke();\n  }\n}\n","export default function render(line, { g, doStroke }) {\n  g.beginPath();\n  g.moveTo(line.x1, line.y1);\n  g.lineTo(line.x2, line.y2);\n  if (doStroke) {\n    g.stroke();\n  }\n}\n","\n// Source: https://en.wikipedia.org/wiki/Bi-directional_text and http://www.unicode.org/Public/6.0.0/ucd/UnicodeData.txt\n// 3 types of strong direction characters: L (strong left-to-right), R(strong right-to-left, Hebrew) and AL(strong right-to-left, Arabic language)\nconst rangesOfLChars = '[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02B8\\u02BB-\\u02C1\\u02D0-\\u02D1\\u02E0-\\u02E4\\u02EE\\u0370-\\u0373\\u0376-\\u037D\\u0386\\u0388-\\u03F5\\u03F7-\\u0482\\u048A-\\u0589\\u0903-\\u0939\\u093B\\u093D-\\u0940\\u0949-\\u094C\\u094E-\\u0950\\u0958-\\u0961\\u0964-\\u097F\\u0982-\\u09B9\\u09BD-\\u09C0\\u09C7-\\u09CC\\u09CE-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09FA\\u0A03-\\u0A39\\u0A3E-\\u0A40\\u0A59-\\u0A6F\\u0A72-\\u0A74\\u0A83-\\u0AB9\\u0ABD-\\u0AC0\\u0AC9-\\u0ACC\\u0AD0-\\u0AE1\\u0AE6-\\u0AEF\\u0B02-\\u0B39\\u0B3D-\\u0B3E\\u0B40\\u0B47-\\u0B4C\\u0B57-\\u0B61\\u0B66-\\u0B77\\u0B83-\\u0BBF\\u0BC1-\\u0BCC\\u0BD0-\\u0BF2\\u0C01-\\u0C3D\\u0C41-\\u0C44\\u0C58-\\u0C61\\u0C66-\\u0C6F\\u0C7F-\\u0CB9\\u0CBD-\\u0CCB\\u0CD5-\\u0CE1\\u0CE6-\\u0D40\\u0D46-\\u0D4C\\u0D4E-\\u0D61\\u0D66-\\u0DC6\\u0DCF-\\u0DD1\\u0DD8-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E46\\u0E4F-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD-\\u0EC6\\u0ED0-\\u0F17\\u0F1A-\\u0F34\\u0F36\\u0F38\\u0F3E-\\u0F6C\\u0F7F\\u0F85\\u0F88-\\u0F8C\\u0FBE-\\u0FC5\\u0FC7-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u103F-\\u1057\\u105A-\\u105D\\u1061-\\u1070\\u1075-\\u1081\\u1083-\\u1084\\u1087-\\u108C\\u108E-\\u109C\\u109E-\\u135A\\u1360-\\u138F\\u13A0-\\u13F4\\u1401-\\u167F\\u1681-\\u169A\\u16A0-\\u1711\\u1720-\\u1731\\u1735-\\u1751\\u1760-\\u1770\\u1780-\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u17D4-\\u17DA\\u17DC\\u17E0-\\u17E9\\u1810-\\u18A8\\u18AA-\\u191C\\u1923-\\u1926\\u1929-\\u1931\\u1933-\\u1938\\u1946-\\u19DA\\u1A00-\\u1A16\\u1A19-\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\\u1A6D-\\u1A72\\u1A80-\\u1AAD\\u1B04-\\u1B33\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B6A\\u1B74-\\u1B7C\\u1B82-\\u1BA1\\u1BA6-\\u1BA7\\u1BAA-\\u1BE5\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1C2B\\u1C34-\\u1C35\\u1C3B-\\u1C7F\\u1CD3\\u1CE1\\u1CE9-\\u1CEC\\u1CEE-\\u1DBF\\u1E00-\\u1FBC\\u1FBE\\u1FC2-\\u1FCC\\u1FD0-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FFC\\u200E\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E-\\u214F\\u2160-\\u2188\\u2336-\\u237A\\u2395\\u249C-\\u24E9\\u26AC\\u2800-\\u28FF\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2D00-\\u2D70\\u2D80-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u31BA\\u31F0-\\u321C\\u3220-\\u324F\\u3260-\\u327B\\u327F-\\u32B0\\u32C0-\\u32CB\\u32D0-\\u3376\\u337B-\\u33DD\\u33E0-\\u33FE\\u3400-\\u4DB5\\u4E00-\\uA48C\\uA4D0-\\uA60C\\uA610-\\uA66E\\uA680-\\uA6EF\\uA6F2-\\uA6F7\\uA722-\\uA787\\uA789-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA824\\uA827\\uA830-\\uA837\\uA840-\\uA873\\uA880-\\uA8C3\\uA8CE-\\uA8D9\\uA8F2-\\uA925\\uA92E-\\uA946\\uA952-\\uA97C\\uA983-\\uA9B2\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uAA28\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA4D-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEC\\uABF0-\\uFB17\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFDC]';\nconst rangesOfRChars = '[\\u05BE\\u05C0\\u05C3\\u05C6\\u05D0-\\u05F4\\u07C0-\\u07EA\\u07F4-\\u07F5\\u07FA-\\u0815\\u081A\\u0824\\u0828\\u0830-\\u0858\\u085E\\u200F\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB4F]';\nconst rangesOfALChars = '[\\u0608\\u060B\\u060D\\u061B-\\u064A\\u066D-\\u066F\\u0671-\\u06D5\\u06E5-\\u06E6\\u06EE-\\u06EF\\u06FA-\\u070D\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\uFB50-\\uFD3D\\uFD50-\\uFDFC\\uFE70-\\uFEFC]';\n// let rangesOfNChars = '[\\u0009-\\u000D\\u001C-\\u0022\\u0026-\\u002A\\u003B-\\u0040\\u005B-\\u0060\\u007B-\\u007E\\u0085\\u00A1\\u00A6-\\u00A9\\u00AB-\\u00AC\\u00AE-\\u00AF\\u00B4\\u00B6-\\u00B8\\u00BB-\\u00BF\\u00D7\\u00F7\\u02B9-\\u02BA\\u02C2-\\u02CF\\u02D2-\\u02DF\\u02E5-\\u02ED\\u02EF-\\u02FF\\u0374-\\u0375\\u037E-\\u0385\\u0387\\u03F6\\u058A\\u0606-\\u0607\\u060E-\\u060F\\u06DE\\u06E9\\u07F6-\\u07F9\\u0BF3-\\u0BF8\\u0BFA\\u0C78-\\u0C7E\\u0F3A-\\u0F3D\\u1390-\\u1399\\u1400\\u1680\\u169B-\\u169C\\u17F0-\\u180A\\u180E\\u1940-\\u1945\\u19DE-\\u19FF\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD-\\u200A\\u2010-\\u2029\\u2035-\\u2043\\u2045-\\u205F\\u207C-\\u207E\\u208C-\\u208E\\u2100-\\u2101\\u2103-\\u2106\\u2108-\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u213A-\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u2150-\\u215F\\u2189-\\u2211\\u2214-\\u2335\\u237B-\\u2394\\u2396-\\u2487\\u24EA-\\u26AB\\u26AD-\\u27FF\\u2900-\\u2B59\\u2CE5-\\u2CEA\\u2CF9-\\u2CFF\\u2E00-\\u3004\\u3008-\\u3020\\u3030\\u3036-\\u3037\\u303D-\\u303F\\u309B-\\u309C\\u30A0\\u30FB\\u31C0-\\u31E3\\u321D-\\u321E\\u3250-\\u325F\\u327C-\\u327E\\u32B1-\\u32BF\\u32CC-\\u32CF\\u3377-\\u337A\\u33DE-\\u33DF\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA60D-\\uA60F\\uA673\\uA67E-\\uA67F\\uA700-\\uA721\\uA788\\uA828-\\uA82B\\uA874-\\uA877\\uFD3E-\\uFD3F\\uFDFD\\uFE10-\\uFE19\\uFE30-\\uFE4F\\uFE51\\uFE54\\uFE56-\\uFE5E\\uFE60-\\uFE61\\uFE64-\\uFE68\\uFE6B\\uFF01-\\uFF02\\uFF06-\\uFF0A\\uFF1B-\\uFF20\\uFF3B-\\uFF40\\uFF5B-\\uFF65\\uFFE2-\\uFFE4\\uFFE8-\\uFFFD]';\nconst rangesOfLRgExp = new RegExp(rangesOfLChars);\nconst rangesOfRRgExp = new RegExp(rangesOfRChars);\nconst rangesOfALRgExp = new RegExp(rangesOfALChars);\n// let rangesOfNRgExp = new RegExp(rangesOfNChars);\n// let lrm = String.fromCharCode(8206); // left-to-right marker\n// let rlm = String.fromCharCode(8207); // right-to-left marker\n\nfunction isLtrChar(c) {\n  return rangesOfLRgExp.test(c);\n}\n\nfunction isRtlChar(c) {\n  return rangesOfRRgExp.test(c) || rangesOfALRgExp.test(c);\n}\n\nexport function detectTextDirection(s) {\n  let n = s ? s.length : 0,\n    i,\n    c;\n  for (i = 0; i < n; i++) {\n    c = s[i];\n    if (isLtrChar(c)) {\n      return 'ltr';\n    }\n    if (isRtlChar(c)) {\n      return 'rtl';\n    }\n  }\n  return 'ltr';\n}\n\nconst textAnchorRTLMap = {\n  start: 'end',\n  end: 'start',\n  center: 'center',\n  middle: 'middle'\n};\n\n/* let flippedTextAnchor = true;\nlet detected = false;\nexport function detectRtlSvgSupport(ns, ownerDoc) {\n  if (!detected) {\n    const body = ownerDoc.body;\n    if (body) {\n      const rtlTestSVG = ownerDoc.createElementNS(ns, 'svg');\n      const textNode = ownerDoc.createElementNS(ns, 'text');\n      const group = ownerDoc.createElementNS(ns, 'g');\n\n      rtlTestSVG.setAttribute('xmlns', ns);\n      rtlTestSVG.setAttribute('style', 'position: absolute; width: 100px; height: 100px; top: -100px; left: 0px');\n\n      textNode.setAttribute('text-anchor', 'start');\n      textNode.setAttribute('direction', 'rtl');\n      textNode.setAttribute('font-size', '14px');\n      textNode.setAttribute('x', 50);\n      textNode.setAttribute('y', 50);\n      textNode.textContent = 'ثعبان';\n\n      group.appendChild(textNode);\n      rtlTestSVG.appendChild(group);\n      body.appendChild(rtlTestSVG);\n\n      flippedTextAnchor = textNode.getBoundingClientRect().left < 50;\n      body.removeChild(rtlTestSVG);\n    }\n  }\n  detected = true;\n} */\n\nexport function flipTextAnchor(value, dir) {\n  if (dir === 'rtl') {\n    return textAnchorRTLMap[value];\n  }\n  return value;\n}\n","import { ellipsText, measureText } from '../../../text-manipulation';\nimport baselineHeuristic from '../../../text-manipulation/baseline-heuristic';\nimport { detectTextDirection, flipTextAnchor } from '../../../../core/utils/rtl-util';\n\nexport default function render(t, { g }) {\n  const text = ellipsText(t, measureText);\n\n  g.font = `${t['font-size']} ${t['font-family']}`;\n  g.canvas.dir = detectTextDirection(t.text);\n  const textAlign = t['text-anchor'] === 'middle' ? 'center' : t['text-anchor'];\n  g.textAlign = flipTextAnchor(textAlign, g.canvas.dir);\n\n  const bdy = baselineHeuristic(t);\n\n  g.fillText(text, t.x + t.dx, t.y + t.dy + bdy);\n}\n","export default function render(path, { g, doStroke, doFill }) {\n  const p = new Path2D(path.d);\n  if (doFill) {\n    g.fill(p);\n  }\n  if (doStroke) {\n    g.stroke(p);\n  }\n}\n","import { renderer, register } from './canvas-renderer';\nimport rect from './shapes/rect';\nimport circle from './shapes/circle';\nimport line from './shapes/line';\nimport text from './shapes/text';\nimport path from './shapes/path';\n\nregister('rect', rect);\nregister('circle', circle);\nregister('line', line);\nregister('path', path);\nregister('text', text);\n\nexport default renderer;\n\nexport function rendererComponent(picasso) {\n  picasso.renderer('canvas', renderer);\n}\n","function diff(from, to) {\n  const added = [];\n  let items;\n  const removed = [];\n  const updatedNew = [];\n  const updatedOld = [];\n  let fromIds;\n  let toIds;\n  const idMapper = a => a.id;\n  const nodeMapper = (node, i) => {\n    let id;\n    if (typeof node === 'object') {\n      if ('id' in node) {\n        id = node.id;\n      } else {\n        id = i;\n      }\n    } else {\n      id = node;\n    }\n    return {\n      content: node,\n      id: `${id}__${node.type || ''}`\n    };\n  };\n\n  if (!from.isTree) {\n    from = from.map(nodeMapper);\n  }\n\n  to = to.map(nodeMapper);\n\n  fromIds = from.map(idMapper);\n  toIds = to.map(idMapper);\n  // TODO - handle duplicate values\n\n  // added = to.filter( v => fromIds.indexOf( v.id ) < 0 );\n  // updatedNew = to.filter( v => fromIds.indexOf( v.id ) >= 0 );\n  // removed = from.filter( v => toIds.indexOf( v.id ) < 0 );\n  // updatedOld = from.filter( v => toIds.indexOf( v.id ) >= 0 );\n\n  for (let i = 0, len = to.length; i < len; i++) {\n    const idx = fromIds.indexOf(to[i].id);\n    if (idx === -1) {\n      added.push(to[i]);\n    } else {\n      updatedNew.push(to[i]);\n    }\n  }\n\n  for (let i = 0, len = from.length; i < len; i++) {\n    const idx = toIds.indexOf(from[i].id);\n    if (idx === -1) {\n      removed.push(from[i]);\n    } else {\n      updatedOld.push(from[i]);\n    }\n  }\n\n  for (let i = 0, len = added.length; i < len; i++) {\n    if (added[i].content.children) {\n      added[i].diff = diff([], added[i].content.children);\n      added[i].children = added[i].diff.updatedNew.concat(added[i].diff.added);\n      added[i].children.isTree = true;\n    }\n  }\n\n  for (let i = 0, len = updatedNew.length; i < len; i++) {\n    updatedNew[i].diff = diff(updatedOld[i].children || [], updatedNew[i].content.children || []);\n    updatedNew[i].object = updatedOld[i].object;\n    updatedNew[i].children = updatedNew[i].diff.items;\n  }\n\n  items = updatedNew.concat(added);\n\n  added.isTree = true;\n  removed.isTree = true;\n  updatedNew.isTree = true;\n  updatedOld.isTree = true;\n  items.isTree = true;\n\n  return {\n    added,\n    updatedNew,\n    updatedOld,\n    removed,\n    items\n  };\n}\n\nfunction createNodes(nodes, parent, create) {\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    nodes[i].object = create(nodes[i].content.type, parent);\n  }\n}\n\nfunction destroyNodes(nodes, destroy) {\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    if (nodes[i].object !== null && typeof nodes[i].object !== 'undefined') {\n      destroy(nodes[i].object);\n      nodes[i].object = null;\n    }\n  }\n}\n\nfunction updateNodes(nodes, creator, maintainer, destroyer) {\n  let item;\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    item = nodes[i];\n    if (item.object !== null && typeof item.object !== 'undefined') {\n      maintainer(item.object, item.content);\n      if (item.diff) {\n        createNodes(item.diff.added, item.object, creator);\n        destroyNodes(item.diff.removed, destroyer);\n        updateNodes(item.diff.items, creator, maintainer, destroyer);\n      }\n    }\n  }\n}\n\nfunction createTree(oldItems, newItems, root, creator, maintainer, destroyer) {\n  const d = diff(oldItems, newItems);\n\n  createNodes(d.added, root, creator);\n  destroyNodes(d.removed, destroyer);\n  updateNodes(d.items, creator, maintainer, destroyer);\n\n  return d.items;\n}\n\nexport {\n  diff,\n  createTree,\n  destroyNodes,\n  createNodes,\n  updateNodes\n};\n","import { ellipsText, measureText } from '../../text-manipulation';\nimport baselineHeuristic from '../../text-manipulation/baseline-heuristic';\nimport { detectTextDirection, flipTextAnchor } from '../../../core/utils/rtl-util';\n\nconst svgNs = 'http://www.w3.org/2000/svg';\n\nconst creator = (type, parent) => {\n  if (!type || typeof type !== 'string') {\n    throw new Error(`Invalid type: ${type}`);\n  }\n\n  const el = parent.ownerDocument.createElementNS(svgNs, type === 'container' ? 'g' : type);\n\n  parent.appendChild(el);\n  return el;\n};\n\nconst destroyer = (el) => {\n  if (el.parentNode) {\n    el.parentNode.removeChild(el);\n  }\n};\n\nconst maintainer = (element, item) => {\n  for (const attr in item.attrs) {\n    if (attr === 'text') {\n      element.setAttribute('style', 'white-space: pre');\n      element.textContent = ellipsText(item.attrs, measureText);\n      const dir = detectTextDirection(item.attrs.text);\n      if (dir === 'rtl') {\n        element.setAttribute('direction', 'rtl');\n        element.setAttribute('dir', 'rtl');\n        element.setAttribute('text-anchor', flipTextAnchor(element.getAttribute('text-anchor'), dir));\n      }\n    } else if (item.type === 'text' && (attr === 'dy' || attr === 'dominant-baseline')) {\n      const dy = +element.getAttribute(attr) || 0;\n      let val = 0;\n      if (attr === 'dominant-baseline') {\n        val = baselineHeuristic(item.attrs);\n      } else {\n        val = item.attrs[attr];\n      }\n      element.setAttribute('dy', val + dy);\n    } else if (item.type === 'text' && attr === 'title' && item.attrs.title) {\n      const t = element.ownerDocument.createElementNS(svgNs, 'title');\n      t.textContent = item.attrs.title;\n      element.appendChild(t);\n    } else {\n      element.setAttribute(attr, item.attrs[attr]);\n    }\n  }\n\n  if (typeof item.data === 'string' || typeof item.data === 'number' || typeof item.data === 'boolean') {\n    element.setAttribute('data', item.data);\n  } else if (typeof item.data === 'object' && item.data !== null) {\n    for (const d in item.data) {\n      if (typeof item.data[d] === 'string' || typeof item.data[d] === 'number' || typeof item.data[d] === 'boolean') {\n        element.setAttribute(`data-${d}`, item.data[d]);\n      }\n    }\n  }\n};\n\nexport {\n  svgNs,\n  creator,\n  maintainer,\n  destroyer\n};\n","import { createTree } from '../node-tree';\nimport { creator, maintainer, destroyer } from './svg-nodes';\n\nclass TreeItemRenderer {\n  /**\n   * Constructor\n   * @private\n   * @param  {TreeCreator} treeCreator - Function used to create the DOM tree..\n   * @param  {SVGCreator} nodeCreator - Function used to create nodes.\n   * @param  {SVGMaintainer} nodeMaintainer - Function used to update nodes.\n   * @param  {SVGDestroyer} nodeDestroyer - Function used to destroy nodes.\n   */\n  constructor(treeCreator, nodeCreator, nodeMaintainer, nodeDestroyer) {\n    this.create = treeCreator;\n    this.nodeCreator = nodeCreator;\n    this.nodeMaintainer = nodeMaintainer;\n    this.nodeDestroyer = nodeDestroyer;\n  }\n\n  render(newItems, root) {\n    return this.create([], newItems, root, this.nodeCreator, this.nodeMaintainer, this.nodeDestroyer);\n  }\n}\n\nfunction tree() {\n  return new TreeItemRenderer(createTree, creator, maintainer, destroyer);\n}\n\nexport {\n  TreeItemRenderer as default,\n  tree\n};\n\n/**\n * Create an SVGElement and attach to parent.\n * @private\n * @callback SVGCreator\n * @param {String} type - The type of element to create.\n * @param {SVGElement} parent - The parent element to append the new element to.\n * @return {SVGElement} The created element\n */\n\n/**\n * Update the element with content from item.\n * @private\n * @callback SVGMaintainer\n * @param {SVGElement} el - The element to update\n * @param {Object} item - The object to use as input for the update\n */\n\n/**\n * Detach element from its parent.\n * @private\n * @callback SVGDestroyer\n * @param {SVGElement} el - Element to destroy.\n */\n\n/**\n * Create, update and destroy nodes.\n * @private\n * @callback TreeCreator\n * @param {Object[]} existing - The existing items in the tree.\n * @param {Object[]} active - The new items to create the tree from.\n * @param {SVGCreator} creator - Function used to create nodes.\n * @param {SVGMaintainer} maintainer - Function used to update nodes.\n * @param {SVGDestroyer} destroyer - Function used to destroy nodes.\n */\n","/* eslint import/prefer-default-export: 0 */\n\n/**\n * Hash an object\n * Modified version of Java's HashCode function\n * Source: {@link http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/}\n * @ignore\n *\n * @param  {Object} item Item to hash\n * @return {String}      Unique hash id\n */\nexport function hashObject(item) {\n  let hash = 0;\n  let i;\n  let chr;\n  let len;\n\n  item = JSON.stringify(item);\n\n  if (item.length === 0) {\n    return hash;\n  }\n\n  for (i = 0, len = item.length; i < len; i++) {\n    chr = item.charCodeAt(i);\n    hash = ((hash << 5) - hash) + chr;\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}\n","import { degreesToPoints } from '../../../core/math/angles';\nimport { hashObject } from '../../../core/utils/crypto';\n\nlet gradients = [];\nlet gradientHashMap = {};\n\n/**\n * If this attr (fill or stroke) has a gradient, apply it.\n * @ignore\n * @param  {Object} item Item with item[attr]\n * @param  {String} attr The attribute to search for gradient (fill or stroke)\n * @param  {String} url  URL for handling base href\n */\nfunction checkGradient(item = {}, attr = 'fill', url = '') {\n  let gradientHash = hashObject(item[attr]);\n  let gradientId = '';\n\n  if (gradientHashMap[gradientHash] !== undefined) {\n    gradientId = gradientHashMap[gradientHash];\n  } else {\n    let { orientation, degree, stops = [] } = item[attr];\n    let gradient = {};\n\n    if (degree === undefined) {\n      degree = 90;\n    }\n\n    // Default to linear\n    if (orientation === 'radial') {\n      gradient.type = 'radialGradient';\n    } else {\n      gradient = degreesToPoints(degree);\n      gradient.type = 'linearGradient';\n    }\n\n    gradient.id = `picasso-gradient-${gradientHash}`;\n    gradient.children = stops.map(({ offset, color, opacity }) => ({\n      type: 'stop',\n      offset: `${offset * 100}%`,\n      style: `stop-color:${color};stop-opacity:${opacity || 1}`\n    }));\n\n    gradients.push(gradient);\n    gradientHashMap[gradientHash] = gradient.id;\n    gradientId = gradient.id;\n  }\n\n  return `url('${url}#${gradientId}')`;\n}\n\n/**\n * Reset the gradients between rendering\n * @ignore\n */\nexport function resetGradients() {\n  gradients = [];\n  gradientHashMap = {};\n}\n\nexport function onGradient(state) {\n  let url = '';\n  if (typeof window !== 'undefined') {\n    url = window.location.href.split('#')[0];\n  }\n\n  const item = state.node;\n  if (item.fill && typeof item.fill === 'object' && item.fill.type === 'gradient') {\n    item.fill = checkGradient(item, 'fill', url);\n  }\n\n  if (item.stroke && typeof item.stroke === 'object' && item.stroke.type === 'gradient') {\n    item.stroke = checkGradient(item, 'stroke', url);\n  }\n}\n\nexport function createDefsNode() {\n  return {\n    type: 'defs',\n    children: gradients,\n    disabled: () => gradients.length === 0\n  };\n}\n","import { tree as treeFactory } from './svg-tree';\nimport { svgNs } from './svg-nodes';\nimport sceneFactory from '../../../core/scene-graph/scene';\nimport { onLineBreak } from '../../text-manipulation';\nimport {\n  resetGradients,\n  onGradient,\n  createDefsNode\n} from './svg-gradient';\nimport createRendererBox from '../renderer-box';\nimport create from '../index';\nimport injectTextBoundsFn from '../../text-manipulation/inject-textbounds';\n\n/**\n * Create a new svg renderer\n * @typedef {function} svgRendererFactory\n * @param {function} treeFactory - Node tree factory\n * @param {string} ns - Namespace definition\n * @param {function} sceneFn - Scene factory\n * @returns {renderer} A svg renderer instance\n */\nexport default function renderer(treeFn = treeFactory, ns = svgNs, sceneFn = sceneFactory) {\n  const tree = treeFn();\n  let el;\n  let group;\n  let hasChangedRect = false;\n  let rect = createRendererBox();\n  let scene;\n\n  const svg = create();\n\n  svg.element = () => el;\n\n  svg.root = () => group;\n\n  svg.appendTo = (element) => {\n    if (!el) {\n      el = element.ownerDocument.createElementNS(ns, 'svg');\n      el.style.position = 'absolute';\n      el.style['-webkit-font-smoothing'] = 'antialiased';\n      el.style['-moz-osx-font-smoothing'] = 'antialiased';\n      el.style.pointerEvents = 'none';\n      el.setAttribute('xmlns', ns);\n      group = element.ownerDocument.createElementNS(ns, 'g');\n      group.style.pointerEvents = 'auto';\n      el.appendChild(group);\n    }\n\n    element.appendChild(el);\n\n    return el;\n  };\n\n  svg.render = (nodes) => {\n    if (!el) {\n      return false;\n    }\n\n    const scaleX = rect.scaleRatio.x;\n    const scaleY = rect.scaleRatio.y;\n\n    if (hasChangedRect) {\n      el.style.left = `${Math.round(rect.margin.left + (rect.x * scaleX))}px`;\n      el.style.top = `${Math.round(rect.margin.top + (rect.y * scaleY))}px`;\n      el.setAttribute('width', Math.round(rect.width * scaleX));\n      el.setAttribute('height', Math.round(rect.height * scaleY));\n    }\n\n    resetGradients();\n\n    const sceneContainer = {\n      type: 'container',\n      children: Array.isArray(nodes) ? [...nodes, createDefsNode()] : nodes\n    };\n\n    if (scaleX !== 1 || scaleY !== 1) {\n      sceneContainer.transform = `scale(${scaleX}, ${scaleY})`;\n    }\n\n    const newScene = sceneFn({\n      items: [sceneContainer],\n      on: {\n        create: [\n          onGradient,\n          onLineBreak(svg.measureText),\n          injectTextBoundsFn(svg)\n        ]\n      }\n    });\n    const hasChangedScene = scene ? !newScene.equals(scene) : true;\n\n    const doRender = hasChangedRect || hasChangedScene;\n    if (doRender) {\n      svg.clear();\n      tree.render(newScene.children, group);\n    }\n\n    hasChangedRect = false;\n    scene = newScene;\n    return doRender;\n  };\n\n  svg.itemsAt = input => (scene ? scene.getItemsFrom(input) : []);\n\n  svg.findShapes = selector => (scene ? scene.findShapes(selector) : []);\n\n  svg.clear = () => {\n    if (!group) {\n      return svg;\n    }\n    scene = null;\n    const g = group.cloneNode(false);\n    el.replaceChild(g, group);\n    group = g;\n    return svg;\n  };\n\n  svg.destroy = () => {\n    // parentElement is not supported in IE11 for SVGElement.\n    if (el && el.parentNode) {\n      el.parentNode.removeChild(el);\n    }\n    el = null;\n    group = null;\n  };\n\n  svg.size = (opts) => {\n    if (opts) {\n      const newRect = createRendererBox(opts);\n\n      if (JSON.stringify(rect) !== JSON.stringify(newRect)) {\n        hasChangedRect = true;\n        rect = newRect;\n      }\n    }\n\n    return rect;\n  };\n\n  return svg;\n}\n\nexport function rendererComponent(picasso) {\n  picasso.renderer('svg', renderer);\n}\n","var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","import { h, render } from 'preact';\nimport createRendererBox from '../renderer-box';\nimport create from '../index';\n\nexport default function renderer(opts = {}) {\n  const {\n    createElement = document.createElement.bind(document)\n  } = opts;\n\n  let el;\n  let rect = createRendererBox();\n  let dNode;\n\n  const dom = create();\n\n  dom.element = () => el;\n\n  dom.root = () => el;\n\n  dom.appendTo = (element) => {\n    if (!el) {\n      el = createElement('div');\n      el.style.position = 'absolute';\n      el.style['-webkit-font-smoothing'] = 'antialiased';\n      el.style['-moz-osx-font-smoothing'] = 'antialiased';\n      el.style.pointerEvents = 'none';\n    }\n\n    element.appendChild(el);\n\n    return el;\n  };\n\n  dom.render = (nodes) => {\n    if (!el) {\n      return false;\n    }\n\n    const scaleX = rect.scaleRatio.x;\n    const scaleY = rect.scaleRatio.y;\n\n    el.style.left = `${Math.round(rect.margin.left + (rect.x * scaleX))}px`;\n    el.style.top = `${Math.round(rect.margin.left + (rect.y * scaleY))}px`;\n    el.style.width = `${Math.round(rect.width * scaleX)}px`;\n    el.style.height = `${Math.round(rect.height * scaleY)}px`;\n\n    let vNode;\n    if (Array.isArray(nodes)) {\n      vNode = <div>{nodes}</div>;\n    } else {\n      vNode = nodes;\n    }\n\n    dNode = render(vNode, el, dNode);\n\n    return true;\n  };\n\n  dom.renderArgs = [h]; // Arguments to render functions using the DOM renderer\n\n  dom.clear = () => {\n    if (el) {\n      let first = el.firstChild;\n\n      while (first) {\n        el.removeChild(first);\n        first = el.firstChild;\n      }\n      dNode = null;\n    }\n\n    return dom;\n  };\n\n  dom.destroy = () => {\n    if (el && el.parentElement) {\n      el.parentElement.removeChild(el);\n    }\n    el = null;\n    dNode = null;\n  };\n\n  dom.size = (inner) => {\n    if (inner) {\n      rect = createRendererBox(inner);\n    }\n    return rect;\n  };\n\n  return dom;\n}\n","import renderer from './dom-renderer';\n\nexport default renderer;\n\nexport function rendererComponent(picasso) {\n  picasso.renderer('dom', renderer);\n}\n","import { rendererComponent as canvas } from '../web/renderer/canvas-renderer';\nimport { rendererComponent as svg } from '../web/renderer/svg-renderer/svg-renderer';\nimport { rendererComponent as dom } from '../web/renderer/dom-renderer';\n\nexport default [\n  svg,\n  canvas,\n  dom\n];\n","export default [];\n","const LOG_LEVEL = {\n  OFF: 0,\n  ERROR: 1,\n  WARN: 2,\n  INFO: 3,\n  DEBUG: 4\n};\n\nconst loggerFn = ({\n  level = LOG_LEVEL.OFF,\n  pipe = console\n} = {}) => {\n  let currentlevel = level;\n\n  const LOG_FN = {\n    [LOG_LEVEL.OFF]: () => {},\n    [LOG_LEVEL.ERROR]: (...args) => pipe.error(...args),\n    [LOG_LEVEL.WARN]: (...args) => pipe.warn(...args),\n    [LOG_LEVEL.INFO]: (...args) => pipe.info(...args),\n    [LOG_LEVEL.DEBUG]: (...args) => pipe.log(...args)\n  };\n\n  const log = (lev, ...args) => {\n    if (!lev || currentlevel < lev) { return; }\n\n    (LOG_FN[lev] || LOG_FN[LOG_LEVEL.DEBUG])(...args);\n  };\n\n  /**\n   * @typedef {object} logger\n   * @private\n   */\n\n  return /** @lends logger */ {\n    /**\n     * Log a message\n     * @param {number} lev - The log level\n     * @param {...any} args\n     * @kind function\n     */\n    log,\n\n    /**\n     * Log an error message\n     * @param {...any} args\n     */\n    error: (...args) => log(LOG_LEVEL.ERROR, ...args),\n\n    /**\n     * Log a warning message\n     * @param {...any} args\n     */\n    warn: (...args) => log(LOG_LEVEL.WARN, ...args),\n\n    /**\n     * Log an info message\n     * @param {...any} args\n     */\n    info: (...args) => log(LOG_LEVEL.INFO, ...args),\n\n    /**\n     * Log a debug message\n     * @param {...any} args\n     */\n    debug: (...args) => log(LOG_LEVEL.DEBUG, ...args),\n\n    /**\n     * Set the current log level\n     * @param {number} lev - The log level\n     */\n    level: (lev) => {\n      if (typeof lev === 'number') {\n        currentlevel = lev;\n      }\n      return currentlevel;\n    },\n\n    LOG_LEVEL\n  };\n};\n\nexport { loggerFn as default };\n","const palettes = [\n  {\n    key: 'categorical',\n    colors: [\n      ['#a54343', '#d76c6c', '#ec983d', '#ecc43d', '#f9ec86', '#cbe989', '#70ba6e', '#578b60', '#79d69f', '#26a0a7', '#138185', '#65d3da'] // breeze colors\n    ]\n  },\n  {\n    key: 'diverging',\n    colors: [\n      ['#3d52a1', '#3a89c9', '#77b7e5', '#b4ddf7', '#e6f5fe', '#ffe3aa', '#f9bd7e', '#ed875e', '#d24d3e', '#ae1c3e']\n    ]\n  },\n  {\n    key: 'sequential',\n    colors: [\n      ['rgb(180,221,212)', 'rgb(34, 83, 90)']\n    ]\n  }\n];\n\n/* eslint quote-props: 0 */\nconst style = {\n  // -- FOUNDATION --\n  // fonts\n  '$font-family': \"'Source Sans Pro', Arial, sans-serif\",\n  '$font-size': '12px',\n  '$line-height': '16px',\n  '$font-size--l': '16px',\n\n  // base grays\n  '$gray-100': '#ffffff',\n  '$gray-98': '#f9f9f9',\n  '$gray-95': '#f2f2f2',\n  '$gray-90': '#e6e6e6',\n  '$gray-35': '#595959',\n  '$gray-30': '#4d4d4d',\n  '$gray-25': '#404040',\n  '$gray-20': '#333333',\n\n  // borders\n  '$border-95': 'rgba(255, 255, 255, 0.05)',\n  '$border-90': 'rgba(255, 255, 255, 0.1)',\n  '$border-80': 'rgba(255, 255, 255, 0.2)',\n  '$border-20': 'rgba(0, 0, 0, 0.2)',\n  '$border-10': 'rgba(0, 0, 0, 0.1)',\n  '$border-5': 'rgba(0, 0, 0, 0.05)',\n\n  // primary colors\n  '$primary-blue': '#3F8AB3',\n  '$primary-green': '#6CB33F',\n  '$primary-red': '#DC423F',\n  '$primary-orange': '#EF960F',\n\n  // spacing\n  '$spacing--s': 4,\n  '$spacing': 8,\n  '$spacing--l': 12,\n  // -------------------------\n\n  // -- ALIASES --\n  '$font-color': '$gray-35',\n  '$font-color--inverted': '$gray-90',\n  '$guide-color': '$gray-90',\n  '$guide-color--inverted': '$gray-35',\n  '$border': '$border-80',\n  '$border--inverted': '$border-10',\n  // -------------------------\n\n  // -- MIXINS --\n  // data points\n  '$shape': { // data shape\n    fill: '$primary-blue',\n    strokeWidth: 1,\n    stroke: '$border'\n  },\n\n  '$shape-outline': { // data shape which usually does not have a fill, e.g. the line in a linechart\n    stroke: '$primary-blue',\n    strokeWidth: 2\n  },\n\n  '$shape-guide': { // lines that somehow belongs to a data shape, e.g. whiskers in a boxplot\n    stroke: '$guide-color',\n    strokeWidth: 1\n  },\n\n  '$shape-guide--inverted': {\n    '@extend': '$shape-guide',\n    stroke: '$guide-color--inverted'\n  },\n\n  '$label': {\n    fontSize: '$font-size',\n    fontFamily: '$font-family',\n    fill: '$font-color'\n  },\n\n  '$label--inverted': {\n    '$extend': '$label',\n    fill: '$font-color--inverted'\n  },\n\n  // user interface\n  '$label-overlay': { // e.g. selection range bubble\n    fontSize: '$font-size--l',\n    fontFamily: '$font-family',\n    fill: '$gray-100', // background fill\n    color: '$font-color',\n    stroke: '$guide-color--inverted',\n    strokeWidth: 1,\n    borderRadius: 4\n  },\n\n  '$title': {\n    '@extend': '$label',\n    fontSize: '$font-size--l'\n  },\n\n  '$guide-line': {\n    strokeWidth: 1,\n    stroke: '$guide-color'\n  },\n\n  '$guide-line--minor': {\n    strokeWidth: 1,\n    stroke: '$gray-95' // needs alias\n  },\n\n  '$padding--s': {\n    left: '$spacing--s',\n    right: '$spacing--s',\n    top: '$spacing--s',\n    bottom: '$spacing--s'\n  },\n\n  '$padding': {\n    left: '$spacing',\n    right: '$spacing',\n    top: '$spacing',\n    bottom: '$spacing'\n  },\n\n  '$selection-area-target': {\n    fill: '$primary-green',\n    strokeWidth: 0,\n    opacity: 0.2\n  }\n};\n\nexport {\n  style,\n  palettes\n};\n","import 'path2d-polyfill';\nimport extend from 'extend';\nimport about from './about';\n\nimport {\n  chart,\n  renderer\n} from './core';\n\n\nimport {\n  components,\n  scales,\n  renderers\n} from './api';\n\nimport componentRegistry from './core/component';\nimport dataRegistry from './core/data';\nimport formatterRegistry from './core/formatter';\nimport interactionRegistry from './core/interaction';\nimport scaleRegistry from './core/chart/scales';\n\nimport loggerFn from './core/utils/logger';\nimport registry from './core/utils/registry';\n\nimport { style, palettes } from './core/theme/light';\n\nfunction usePlugin(plugin, options = {}, api) {\n  plugin(api, options);\n}\n\nfunction pic(config = {}, registries = {}) {\n  const logger = loggerFn(config.logger);\n\n  /**\n   * @lends picassojs\n   */\n  const regis = {\n    // -- registries --\n    /**\n     * Component registry\n     * @type {registry}\n     */\n    component: registry(registries.component),\n    /**\n     * Data registry\n     * @type {registry}\n     */\n    data: registry(registries.data),\n    /**\n     * Formatter registry\n     * @type {registry}\n     */\n    formatter: registry(registries.formatter),\n    /**\n     * Interaction registry\n     * @type {registry}\n     */\n    interaction: registry(registries.interaction),\n    /**\n     * Renderer registry\n     * @type {registry}\n     */\n    renderer: renderer(registries.renderer),\n    /**\n     * Scale registry\n     * @type {registry}\n     */\n    scale: registry(registries.scale),\n    /**\n     * Symbol registry\n     * @type {registry}\n     * @private\n     */\n    symbol: registry(registries.symbol),\n    // -- misc --\n    /**\n     * log some some stuff\n     * @type {logger}\n     * @private\n     */\n    logger\n  };\n\n  if (config.renderer && config.renderer.prio) {\n    regis.renderer.default(config.renderer.prio[0]);\n  }\n\n  /**\n   * picasso.js entry point\n   * @experimental\n   * @entry\n   * @alias picassojs\n   * @param {object} cfg\n   * @param {object} cfg.renderer\n   * @param {Array<string>} cfg.renderer.prio\n   * @param {object} cfg.logger\n   * @param {number} cfg.logger.level\n   * @param {object} cfg.style\n   * @param {Array<object>} cfg.palettes\n   * @returns {picassojs}\n   */\n  function picassojs(cfg = {}) {\n    let cc = {\n      palettes: config.palettes.concat(cfg.palettes || []),\n      style: extend({}, config.style, cfg.style),\n      logger: cfg.logger || config.logger,\n      renderer: cfg.renderer || config.renderer\n    };\n    return pic(cc, regis);\n  }\n\n  /**\n   * @callback picassojs~plugin\n   * @param {picassojs~registries} registries\n   * @param {object} options\n   */\n\n  /**\n   * @param {picassojs~plugin} plugin\n   * @param {object} [options]\n   */\n  picassojs.use = (plugin, options = {}) => usePlugin(plugin, options, regis);\n\n  /**\n   * @param {chart-definition} definition\n   * @returns {chart}\n   */\n  picassojs.chart = definition => chart(definition, {\n    registries: regis,\n    logger,\n    style: config.style,\n    palettes: config.palettes\n  });\n  picassojs.config = () => config;\n\n  Object.keys(regis).forEach((key) => {\n    picassojs[key] = regis[key];\n  });\n\n  /**\n   * picasso.js version\n   * @type {string}\n   */\n  picassojs.version = about.version;\n\n  return picassojs;\n}\n\nconst p = pic({\n  renderer: {\n    prio: ['svg', 'canvas']\n  },\n  logger: {\n    level: 0\n  },\n  style,\n  palettes\n}, {\n  component: componentRegistry,\n  data: dataRegistry,\n  formatter: formatterRegistry,\n  interaction: interactionRegistry,\n  renderer: renderer(),\n  scale: scaleRegistry\n});\n\ncomponents.forEach(p.use);\nrenderers.forEach(p.use);\nscales.forEach(p.use);\n\nexport { p as default };\n"],"names":["ARG_LENGTH","a","c","h","l","m","q","s","t","v","z","SEGMENT_PATTERN","NUMBER","numbers","args","data","p","String","type","command","parseValues","version","dockConfig","settings","dock","displayOrder","prioOrder","requiredSize","minimumLayoutMode","show","fn","requiredSizeFn","calcFn","dockFn","d","displayOrderFn","order","prioOrderFn","minimumLayoutModeFn","showFn","roundRect","rect","x","Math","ceil","y","width","height","getRect","container","containerRect","logicalContainerRect","getBoundingClientRect","boundingRect","size","isNaN","logicalSize","align","min","max","preserveAspectRatio","resolveLayout","resolveSettings","center","minWidthRatio","minHeightRatio","minWidth","minHeight","extend","isNumber","notNumber","value","getMinMax","points","num","length","xMin","NaN","xMax","yMin","yMax","i","lineToPoints","line","x1","y1","x2","y2","rectToPoints","pointsToRect","pointsToCircle","r","cx","cy","pointsToLine","getShapeType","shape","vertices","Array","isArray","validateComponent","component","expectedProperties","forEach","Error","cacheSize","reducedRect","cachedSize","config","edgeBleed","validateReduceRect","minReduceWidth","minReduceHeight","reduceDocRect","addEdgeBleed","currentEdgeBleed","left","right","top","bottom","reduceEdgeBleed","reducedRectRightBoundary","reducedRectBottomBoundary","reduceSingleLayoutRect","newReduceRect","newEdgeBeed","isValid","reduceLayoutRect","components","hiddenComponents","sortedComponents","slice","sort","b","splice","push","instance","filteredUnsortedComps","filter","indexOf","appendScaleRatio","outerRect","scaleRatio","margin","xLessThenY","minRatio","area","spread","boundingBox","rects","concat","map","positionComponents","vRect","hRect","referencedComponents","test","refs","split","replace","key","resize","undefined","checkShowSettings","layoutModes","dockLayout","initialSettings","docker","addComponent","removeComponent","idx","layout","reduced","visible","hidden","settingsFn","detectTouchSupport","e","isTouchEvent","changedTouches","isValidTapEvent","eventInfo","isTouch","ee","dt","Date","now","time","dx","abs","clientX","dy","clientY","button","multiTouch","datasets","dataSources","types","logger","sets","warn","datasetFactory","dataset","Object","keys","epsilon","pi","tau","pointX","pointY","point","orderNone","offsetNone","none","registryFactory","parentRegistry","defaultValue","reg","parent","get","has","default","add","TypeError","remove","getKeys","getValues","deflt","registry","register","identity","formatter","pattern","thousand","decimal","locale","d3format","format","localeFn","formatLocale","reset","thousands","grouping","currency","formatFn","patternFn","interval","day","timeMonday","timeDay","timeYear","timeSunday","timeThursday","defaultLocale","timeFormatLocale","dateTime","date","periods","days","shortDays","months","shortMonths","parse","parsePattern","formatterRegistry","d3NumberFormatter","d3TimeFormatter","getFormatter","f","formatterFn","accessors","id","source","title","tags","values","label","field","raw","items","OFFSETS","diverging","stackOffsetDiverging","stackOffsetNone","silhouette","stackOffsetSilhouette","expand","stackOffsetExpand","wiggle","stackOffsetWiggle","ORDERS","ascending","stackOrderAscending","insideout","stackOrderInsideOut","stackOrderNone","reverse","stackOrderReverse","stacked","ds","stackIds","stackFn","stackKey","valueFn","startProp","endProp","offset","valueRef","maxStackCount","valueFields","sourceField","ff","sid","apply","Number","call","matrix","d3Stack","stack","series","serie","range","item","stackedFields","dSource","fieldFn","join","fields","extract","dataConfig","opts","extracted","collection","labelFn","groupBy","mapTo","hierarchy","root","extractionsConfigs","sourceFields","cfg","amend","obj","create","extractor","collections","k","coll","filtered","options","deps","extractData","formatterType","builder","formatters","prototype","hasOwnProperty","getOrCreateFormatter","Map","set","array","sequence","t0","t1","constant","color","rgb","colorRgb","number","bisect","interpolate","interpolateValue","piecewise","linear","deinterpolate","reinterpolate","applyFormat","clamp","val","isObject","minorTicksGenerator","count","start","end","ticks","appendMinorTicks","majorTicks","minorCount","scale","looseDistanceBasedGenerator","distance","unitDivider","step","round","ticksFormatted","tick","position","isMinor","tightDistanceBasedGenerator","n","nice","ticksByCount","ticksByValue","ary","forceTicksAtBounds","ticksP","lastTick","generateContinuousTicks","minorTicks","copy","tickGen","tight","forceBounds","generateDiscreteTicks","domain","dataItems","labels","bandwidth","defaultSettings","context","stngs","DEFAULT_SETTINGS","include","invert","DEFAULT_TICKS_SETTINGS","DEFAULT_MINORTICKS_SETTINGS","fieldMin","fieldMax","minValues","maxValues","mini","maxi","initNormScale","normScale","scaleLinear","resources","d3Scale","d3ScaleLinear","ctx","stgns","tickCache","rangeRound","cachedTicks","fnCachedTicks","clearTicksCache","fnClearTicks","input","tickFormat","func","arguments","classify","segments","valueRange","samplePos","lastVal","calIntervalPos","calSamplePos","sampleColValue","pop","cop","norm","normInvert","padding","paddingInner","paddingOuter","maxPxStep","scaleBand","band","d3ScaleBand","domainToDataMapping","augmentScaleBand","datum","domainValue","trackBy","pxScale","sizeRelativeToStep","newBand","arg","depth","keyGen","node","ancestors","toString","flattenTree","rootNode","ticksDepth","expando","eachAfter","leaves","isBranch","children","leftEdge","rightEdge","spill","scaleHierarchicalBand","bandInstance","bandScale","hBand","strVal","bw","isLeaf","leafCount","stepSize","orgPxScale","minAccessor","maxAccessor","minmax","arr","definedMin","definedMax","arrMin","numericFilter","arrMax","generateDomain","len","part","scaleSequentialColor","interpolateRgb","isDomain","isRange","DEFAULT_COLORS","theme","palette","getBreaks","ret","generateRange","colors","seq","sequential","generateNiceDomain","numPoints","lin","shift","scaleThresholdColor","scaleThreshold","ordinal","scaleOrdinal","unknown","DEFAULT_EXPLICIT_SETTINGS","override","scaleCategorical","explicit","un","explicitDomain","explicitRange","numCopies","floor","index","scaleRegistry","threshold","categorical","getTypeFromMeta","deduceScaleTypeFromData","dataSourceConfig","getOrCreateScale","scales","mixin","EventEmitter","init","scrollApi","viewSize","move","moveTo","newStart","emit","update","triggerUpdate","getState","createOrUpdate","oldApi","oldScrollApis","scrollApis","getOrCreateScrollApi","boundaries","after","contains","rangeCollection","i0","i1","before","clear","containsValue","containsRange","toggle","ranges","valueCollection","vc","changedMap","changed","vi","collectUnique","filteredSet","createValueCollection","addedMap","removedMap","added","removed","fs","setKeys","addedKeys","removedKeys","diff","old","current","changedValues","filterFn","vCollection","oldMap","vcKeys","createValueCollectionFn","fsKeys","applyAliases","aliases","its","intercept","handlers","reduce","interceptor","toCamelCase","$1","toUpperCase","toSnakeCase","toLowerCase","updateRange","action","interceptors","rc","inter","rangeValues","brush","activated","addValues","removeValues","toggleValues","setValues","addRanges","setRanges","removeRanges","toggleRanges","state","links","ls","_state","updateValues","updateRanges","link","target","isActive","brushes","hasChanged","result","addValue","removeValue","addAndRemoveValues","addItems","removeItems","addIts","removeIts","toggleValue","toggled","addRange","removeRange","setRange","toggleRange","containsRangeValue","containsMappedData","props","mode","status","bool","some","name","ic","removeInterceptor","removeAllInterceptors","toRemove","interceptorHandlers","handler","addKeyAlias","alias","removeKeyAlias","nodeId","text","tween","renderer","ticker","toBeUpdated","entered","nodes","ips","exited","updated","stages","tweener","ids","interpolateObject","opacity","easing","easeCubic","duration","tweens","easeElasticOut","started","window","requestAnimationFrame","currentStage","stop","currentNodes","tweenedNodes","ip","render","cancelAnimationFrame","GLOBAL_DEFAULTS","fontFamily","fontSize","backgroundColor","stroke","strokeWidth","$fill","REF_RX","isPrimitive","normalizeSettings","defaults","chart","composition","defs","vType","defaultType","ref","resolveForItem","normalized","fallbackData","dataContext","normalizedProp","exists","hasExplicitDataProp","hasImplicitDataProp","propData","updateScaleSize","object","path","o","scaleWithSize","externals","cache","resolve","scaled","res","resolved","reduceToLeafNodes","styler","style","brusher","dataProps","active","inactive","styleProps","activeNodes","globalActivation","getNodes","nodeData","globalChanged","__style","activeIdx","original","onStart","onEnd","onUpdate","externalUpdate","on","cleanUp","removeListener","brushDataPoints","dataPoints","trigger","rangeBrush","actionFn","valueBrush","dataPoint","it","contexts","brushFromSceneNodes","resolveEvent","collisions","brushCollisions","propagation","touchSingleContactPoint","singleContactPoint","resolveCollisions","element","touchRadius","itemsAt","resolveAction","def","resolveTapEvent","resolveOverEvent","isReservedProperty","prop","prepareContext","definition","require","mediatorSettings","mediator","registries","resolver","_DO_NOT_USE_getInfo","defineProperty","bind","req","eventName","updateDockConfig","setUpEmitter","emitter","event","eventListeners","listener","componentFactory","settingsResolver","brushArgs","brushTriggers","tap","over","brushStylers","definitionContext","instanceContext","createCallback","method","defaultMethod","cb","inDefinition","inConfig","returnValue","preferredSize","inner","created","beforeMount","mounted","beforeUnmount","beforeUpdate","beforeRender","beforeDestroy","destroyed","addBrushStylers","consume","brushStyler","addBrushTriggers","rendString","rend","outer","appendComponentMeta","dataCollection","newSize","getRenderArgs","renderArgs","hide","unmount","currentTween","bs","animations","enabled","destroy","updateNodes","getBrushedShapes","brushCtx","shapes","sceneNodes","findShapes","selector","shapesAt","brushFromShapes","mount","appendTo","onBrushTap","globalPropagation","toggleBrushing","onBrushOver","v1","v2","sub","scalarMultiply","distanceX","distanceY","sqrDistance","pow","sqrt","dot","projectOnto","rotate","radians","origin","cos","sin","t2","EPSILON","closestPointToLine","startToPoint","startToEnd","pointOnLine","isPointOnLine","rectContainsRect","lineHasNoLength","rectHasNoSize","circleHasNoSize","circle","toFewEdges","polygon","edges","testCirclePoint","sqrDist","testCircleRect","rX","rY","rcX","rcY","dX","dY","testCircleLine","p1","p2","dist","testCircleCircle","circle1","circle2","testCirclePolygon","testPolygonPoint","edge","testRectPoint","even","rayStart","testLineLine","testPolygonLine","testPolygonRect","testRectLine","p3","p4","testRectRect","rect1","rect2","rectEdges","line1","line2","dx1","dy1","dx2","dy2","dx3","dy3","ub","uat","ubt","ua","testLinePoint","VARIABLE_RX","EXTEND","throwCyclical","references","computed","extendFrom","pext","themeFn","palettes","pals","setPalettes","pal","sizes","getPalette","styleResolver","addComponentDelta","containerBounds","componentBounds","deltaShape","chartFn","listeners","mediatorFactory","currentComponents","visibleComponents","currentScales","currentFormatters","currentScrollApis","currentInteractions","stopBrushing","createComponent","compSettings","componentDefinition","compInstance","hasKey","findComponent","componentInstance","findComponentIndexByKey","currComp","createDockLayout","moveToPosition","comp","el","childNodes","insertBefore","_data","_settings","partialData","scroll","datasources","dataCollections","buildScales","buildFormatters","buildScroll","setInteractions","interactions","newKeys","cit","intSettings","intDefinition","interaction","componentsFromPoint","br","tp","innerHTML","addEventListener","onTapDown","touches","comps","every","disableTriggers","preventDefault","brushEventList","removeEventListener","newProps","updateWith","toUpdate","toRender","toRenderOrUpdate","getAffectedShapes","compKeys","stopPropagation","configKeys","conf","configIndex","compShapes","brushFn","instances","off","rendererRegistry","prio","componentRegistry","findField","query","filters","numeric","unfilteredReducers","sum","reducers","first","last","avg","normalizeProperties","dataProperties","main","mainField","pConfig","getPropsInfo","collect","trackedItems","propsArr","mainFormatter","propsFormatters","mainValues","mainReduce","track","itemData","tracker","trackType","trackId","trackedItem","datumExtract","propCfg","cell","cfgs","sourceKey","mapped","mainCell","exclude","propCell","storeTracked","createFields","headers","content","rowFn","row","flds","fieldValues","fv","numericValues","isMeasure","dsv","rows","row0","row1","delimiter","guesses","parseData","dd","util","normalizeConfig","dataRegistry","native","nativeEvents","itKey","isOn","setDefaultSettings","newSettings","events","enable","addEvents","removeAddedEvents","cap","resolveDiff","minPx","maxPx","high","low","highModified","lowModified","wantedDiff","actualDiff","startModifier","actualLow","box","boxWidth","boxPadding","rendwidth","rendheight","flipXY","calcwidth","calcheight","minHeightPx","major","verticalLine","from","to","boxCenter","horizontalLine","halfWidth","getBoxWidth","maxMajorWidth","maxWidthPx","minWidthPx","buildShapes","output","majorVal","majorEndVal","binStart","binEnd","majorEnd","minor","median","med","whisker","whiskerWidth","collider","complexResolver","orientation","majorSettings","majorResolved","minorSettings","minorResolved","ext","ki","DEFAULT_DATA_SETTINGS","fill","strokeLinejoin","dataKeys","picasso","mappedAttributes","baseline","dominantBaseline","anchor","textAnchor","maxWidth","transform","strokeDasharray","assignMappedAttribute","sourceValue","mappedKey","pointsToPath","close","diamond","generateCrossPoints","barWidth","innerLeft","innerTop","cross","angleToPoints","angle","segment","PI","diagonal","op","toRadians","degreesToPoints","saltire","adjustedSize","asin","centroid","square","DIRECTION_TO_ANGLE","up","down","triangle","directionAngle","direction","halfSize","pp","isVertical","star","outerRadius","drawPoints","innerRadius","startAngle","pAngle","innerRadians","iy","ix","nPolygon","radius","sides","bar","createRectCollider","applyOpts","DEFAULT_ERROR_SETTINGS","errorShape","SIZE_LIMITS","maxRelExtent","minRelExtent","maxRelDiscrete","minRelDiscrete","getPxSpaceFromScale","space","isBandwidth","getPointSizeLimits","limits","xSpacePx","ySpacePx","maxSizePx","minSizePx","maxGlobal","minGlobal","createDisplayPoints","pointSize","shapeFn","shapeSpec","sizeLimits","shapeFactory","pointMarker","pointMarkerComponent","endAngle","arc","cornerRadius","offsetSlice","vx","vy","vlen","createDisplayPies","arcData","slices","arcGen","or","ir","desc","share","arcValue","pieComponent","padAngle","arcValues","pieGen","pie","sortValues","crispifierFactory","crispMap","append","condition","conditionAppend","self","toAppend","crispItem","doAppend","rounded","multiple","crispifier","Transposer","coordinate","isFinite","firstChar","substring","storage","newItem","crisp","objectKeys","kl","nkey","evaluateKey","nval","transposeCoordinate","crispify","processItem","rest","transposer","lineGen","gridLineComponent","blueprint","lines","gridLine","directionMarker","directionTriangle","oobManager","oob","oobKeys","charAt","xPadding","yPadding","indicator","refLabelDefaultSettings","background","alignmentToNumber","createLineWithLabel","doesNotCollide","measuredValue","valueString","scaleData","measureText","measuredLabel","measured","labelPadding","vAlign","calcWidth","calcHeight","rectWidth","rectHeight","curItem","createOobData","filterUndefinedValue","refLineComponent","x0","y0","refLine","appendStyle","struct","buildOpts","buildLine","innerRect","checkText","clampEnds","tilted","outerBoundaryMultipler","leftBoundary","rightBoundary","textWidth","textRect","leftTextBoundary","rightTextBoundary","topBoundary","bottomBoundary","textHeight","maxHeight","topTextBoundary","bottomTextBoundary","appendPadding","appendTilting","paddingEnd","bandwidthCollider","tickCenter","widthClip","heightClip","boundsCollider","tiltedCollider","startAnchor","em","sp","rotateVector","leftPoint","rightPoint","orderedPoints","appendCollider","layered","appendBounds","textBounds","w","buildNode","adjustForEnds","tickSize","isMajorTick","isVerticalLabelOverlapping","isHorizontalLabelOverlapping","activeMode","d1","d2","shouldAutoTilt","measure","glyphCount","maxGlyphCount","magicSizeRatioMultipler","ellipsCharSize","maxLabelWidth","minBandwidth","prev","curr","Infinity","isTiltedLabelOverlapping","bleedSize","absAngle","reciprocal","distanceBetweenLabels","isToLarge","horizontal","getClampedValue","maxValue","minValue","modifier","getSize","isDiscrete","maxLengthPx","minLengthPx","toLargeSize","sizeFromTextRect","tiltAngle","tickMeasures","labelSizes","textSize","extendLeft","labelWidth","adjustByPosition","pos","maxEdgeBleed","bleedDir","tickSpacing","spacing","paddingStart","tickMinorSpacing","labelsSpacing","calcActualTextRect","tickBuilder","buildTick","tickBandwidth","labelBuilder","tickFn","buildLabel","layeredLabelBuilder","padding2","layer","filterOverlappingLabels","isOverlapping","l1","l2","discreteCalcMaxTextRect","continuousCalcMaxTextRect","getStepSizeFn","nodeBuilder","calcMaxTextRectFn","filterLabels","continuous","discrete","build","majorTickNodes","maxSize","labelNodes","DEFAULT_DISCRETE_SETTINGS","DEFAULT_CONTINUOUS_SETTINGS","calcRequiredSize","getLabelSize","labelSize","minorTicksSize","alignTransform","resolveAlign","vertical","resolveLocalSettings","defaultStgns","localStgns","defaultDock","updateActiveMode","isHorizontal","axisComponent","concreteNodeBuilder","setState","reqSize","extendedInner","finalOuter","axis","parseTitle","titles","getTextAnchor","generateTitle","definitionSettings","paddingLeft","paddingRight","rotation","textComponent","_scrollbar","lengthAttr","currentMove","scrollState","startOffset","startScroll","swipe","scrollPoint","scrollMove","scrollStart","scrollCenter","getLocalPos","scrollbarComponent","panStart","startPos","deltaX","deltaY","panMove","panEnd","panCancel","thumbColor","_rect","thumbStart","thumbRange","pointerEvents","class","scrollbar","TARGET_SIZE","VERTICAL","HORIZONTAL","borderHit","isAlignStart","alignStart","alignEnd","alignStyle","targetRect","bubbles","onmouseover","srcElement","onmouseout","cursor","buildBubble","otherValue","isOutside","placement","outside","bubbleDock","borderRadius","bubble","border","textAlign","overflow","textOverflow","whiteSpace","buildArea","buildRange","els","vStart","vEnd","targetOffset","hasScale","targetFillRect","targetSize","targetStart","targetEnd","targetHeight","targetTop","targetArea","getMoveDelta","posDelta","limitHigh","negDelta","limitLow","delta","rangelimits","areaLimits","findActive","rs","activeRange","startArea","document","elementFromPoint","tempState","relX","relY","startPoint","cssCoord","coord","relStart","hasAttribute","parseInt","getAttribute","multi","parseFloat","pxStart","pxEnd","fauxBrushInstance","brushInstance","endArea","rel","moveArea","sourceData","sources","ordRS","oldValues","findValues","addedValues","removedValues","findClosest","minDist","halfBandwidth","findClosestLabel","rangesOverlap","r1","r2","rangesValues","scaleRange","startIdx","endIdx","resolveNodeBounds","targetNodes","bounds","resolveTarget","targetFillNodes","fillSelector","fillBounds","brushRangeComponent","rangeStart","rangeMove","rangeEnd","rangeClear","brushFactory","valueRanges","shapesFromRange","brushRange","shapeAt","brushFromShape","newShapes","getBubbleLabel","labelShape","s0","s1","bounds0","bounds1","compConfig","c0","c1","brushAreaDirectionalComponent","areaStart","areaMove","areaEnd","areaClear","getFormat","rangeBrushComponent","FILL","OPACITY","otherSize","setup","teardown","rangeComponent","getPoint","rendererBounds","eventOffsetX","eventOffsetY","withinThreshold","snapIndicator","appendToPath","setSnapIndictor","showSnapIndicator","setStartPoint","getComponentDelta","chartBounds","doLineBrush","lineBrushShape","componentDelta","brushConfig","doPolygonBrush","initPath","initSnapIndicator","initStartPoint","getBrushConfig","endBrush","resetState","brushLassoComponent","lasso","lassoStart","lassoEnd","lassoMove","lassoCancel","cancel","shouldSnap","lassoBrush","lassoBrushComponent","LINE_HEIGHT","PADDING","cbContext","placeTextInRect","textMetrics","wiggleHor","wiggleVert","justify","wiggleWidth","wiggleHeight","limitBounds","view","minY","maxY","minX","maxX","pad","getBarRect","findBestPlacement","fitsHorizontally","placementSettings","barRect","largest","testBounds","localBounds","placeInBars","collectiveOrientation","findPlacement","placer","lblStngs","placements","j","texts","labelSettings","measurements","bestPlacement","linkData","precalculate","labelStruct","hasHorizontalDirection","lblStng","bars","labelSetting","normalize","PI2","getTopLeftBounds","getLineCircleIntersection","D","sqrtD","getRectFromCircleIntersection","lineOffset","section","intersection","getHorizontalInsideSliceRect","middle","startLine","endLine","getRotatedInsideSliceRect","tan","getRotatedOusideSliceRect","minR","outOfSpace","q1maxY","q2minY","q3minY","q4maxY","adjustBounds","LINE_PADDING","LIMIT","updateContext","getHorizontalOusideSliceRect","placeTextOnPoint","getSliceRect","sliceRect","sortNodes","q1","q2","q3","q4","sortFn","middleA","middleB","reverseSortFn","topLeftBounds","CIRCLE_FACTOR","getRectFromCircle","getSliceBounds","getBounds","attrs","rowSettings","totalHeight","labelCount","currentY","maxYDistToCenter","strategy","labelsComponent","strategies","scrollOffset","wordBreak","maxLines","lineHeight","navigation","shapeSettings","symbols","next","wiggleSymbol","createRenderItem","globalMetrics","symbolFn","symbolFactory","displayObject","labelBounds","symbolItem","symbol","meta","rtl","labelRect","maxLabelBounds","maxSymbolSize","wiggled","maxItemBounds","metrics","getItemsToRender","viewRect","itemized","parallels","legendItems","renderItems","fixedHeight","fixedWidth","rowHeight","columnWidth","renderItem","itemize","sourceItems","sourceSymbols","sourceLabels","maxLabelHeight","extent","property","parallelize","availableExtent","availableSpread","extentProperty","extentInPx","numNeeded","spreadProperty","numAllowed","numInput","legend","onScroll","api","getContentOverflow","offsetProperty","hasContentOverflow","getNextSize","getPrevSize","hasNext","hasPrev","classString","classMap","className","DIR","btn","nav","attrsMerged","disabled","itemRenderer","isRtl","buttonSize","display","dir","navigationRenderer","titleRenderer","isPreliminary","paddedRect","availableExtentForItems","availableSpreadForItems","navigationSize","navigationSpread","tempLayout","contentItems","views","renderElement","parentNode","panstart","contentOverflow","panmove","panend","itemRendererFactory","navigationRendererFactory","titleRendererFactory","categoricalLegend","applyAlignJustify","cmd","generateStopNodes","fillScale","majorScale","stops","createTitleNode","isTickLeft","isTickTop","requiredWidth","tag","hyphens","createLegendRectNode","requiredHeight","degree","createTickNodes","legendNode","rangeSelectorRect","textBoundsFn","resolveAnchor","valid","resolveTickAnchor","dockAnchorMap","resolveTitleAnchor","initRect","getTicks","initState","titleStgns","tickValues","tickAnchor","titleTextMetrics","titleTextBounds","mw","fnPos","legendDef","prefSize","paddings","tHeight","tWidth","titleNode","stopNodes","rectNode","tickNodes","targetNode","sequentialLegend","legendSeq","CURVES","curveStep","stepAfter","curveStepAfter","stepBefore","curveStepBefore","curveLinear","basis","curveBasis","cardinal","curveCardinal","tension","catmullRom","curveCatmullRom","monotonex","curveMonotoneX","monotoney","curveMonotoneY","natural","curveNatural","SETTINGS","coordinates","layerId","layers","curve","createDisplayLayer","generator","createDisplayLayers","missingMinor0","layerStngs","lineObj","layerObj","areaObj","areaGenerator","lineGenerator","secondaryLineGenerator","temp","minor0","defined","firstPoint","layerIds","numLines","lid","metaLayers","layersData","layersResolved","linesResolved","areasResolved","areas","calculateVisibleLayers","visibleLayers","pData","lineMarkerComponent","sortable","getLocalPoint","localX","localY","localToChartPoint","doEndBrush","toRect","p0","doAreaBrush","areaCancel","areaBrush","dataCtx","resolveClasses","tooltip","tooltipClass","contentClass","arrow","arrowClass","resolveContent","classes","tooltipDefaultStyle","tooltipNode","computedTooltipStyle","computedArrowStyle","dispatcherState","pending","debounced","cancelled","rejected","fulfilled","timeSpanDispatcher","defaultDuration","defaultDelay","actionId","fulfilledId","invoke","delay","clearTimeout","setTimeout","getDockTransform","getDockOffset","getComputedArrowStyle","borderWidth","isInsideArea","calcOffset","offsetX","offsetY","alignToBounds","pointer","elmWidth","elmHeight","targetBounds","getNodeBoundsRelativeToTarget","docks","dockTransforms","innerWidth","innerHeight","dockOffsets","dockOrder","alignToPoint","results","edgeMargin","alignToPointer","alignToSlice","getComponentBoundsFromNode","componentSize","STRATEGIES","propCtx","setActive","removeActive","cancelActive","isEqual","JSON","stringify","beforeShow","afterShow","beforeHide","onHide","afterHide","DEFAULT_STYLE","borderStyle","borderTopColor","borderLeftColor","borderRightColor","borderBottomColor","toPoint","targetElement","prevent","dispatcher","fNodes","invokeRenderer","instanceId","listenerCtx","tooltipElm","pseudoElement","visibility","addTooltip","debugColliderDef","draw","colliders","PI_X2","arcToCenter","rx","ry","largeArcFlag","sweepFlag","endX","endY","startX","startY","sweepAngle","radiusRatio","rad","hdx","hdy","x1d","y1d","rxry","rxy1d","ryx1d","den","frac","cxd","cyd","mx","my","ux","uy","atan2","flatness","cp1","cp2","mid","td","t3","toPoints","m0","m1","m2","q0","toCubic","cp","cp1x","cp1y","cp2x","cp2y","cubicToPoints","removeDuplicates","arcToPoints","resAngle","deltaAngle","pathToPoints","commands","parsePath","cpx","cpy","qcpx","qcpy","pathType","cubicCurveToPoints","quadCurveToPoints","debugPathToPointsDef","circles","pathToSegments","debugCollider","createDebugCollider","debugPathToPoints","createDebugPathToPoints","boxComponent","pointComponent","lineComponent","brushAreaComponent","tooltipComponent","Node","_parent","_children","_ancestors","removeChild","nChildren","equals","ch","toJSON","descendants","GeoRect","GeoCircle","minRadius","vector","GeoLine","tolerance","vectors","zeroSize","v0","GeoPolygon","_bounds","_boundingRect","intersects","pointsAreNotEqual","GeoPolyline","_points","testLine","polyline","GeometryCollection","geometries","geo","geoInstance","factory","containsPoint","intersectsLine","intersectsRect","intersectsCircle","intersectsPolygon","Matrix","_elements","_stack","mt","multiply","elements","radianAngle","g","determinant","vec","transformRegEx","parseTransform","exec","argsStr","trim","resolveRotateCmd","translate","resolveScaleCmd","resolveTranslateCmd","resolveMatrixCmd","resolveTransform","transforms","SELECTOR_MAPS","attr","universal","FILTERS","objects","operator","token","attribute","attributeValue","tokenize","groups","info","match","validSelector","group","selectorMapsIterator","find","groupResults","tokens","gi","glen","levels","hasRemainder","selected","ancestor","ni","nlen","appendDpi","dpi","geometryToDef","geometry","mvm","transformPoints","colliderToShape","modelViewMatrix","isCollection","colliderType","SceneNode","withTransform","_attrs","_type","_dpi","stage","_collider","_desc","_tag","_element","_key","Collision","_node","createSceneNode","_input","appendParentNode","collision","createCollision","appendInputShape","resolveFrontChildCollision","resolveGeometryCollision","inverseTransform","transformedInput","inverseModelViewMatrix","transformPoint","createPolygon","resolveCollision","intersectionType","findAllCollisions","hasCollision","resolveShape","ratio","_shape","vertex","resolveCollionsOnNode","hasCollisionOnNode","DisplayObject","_stage","nodeSelector","clone","resolveLocalTransform","attrKeys","dAttrs","dAttrKeys","json","_mvm","_imvm","geometryCollection","NodeContainer","indx","addChild","NC","reCalcBoundingRect","child","includeTransform","_xMax","_yMax","Container","addChildren","removeChildren","Stage","_dpiRatio","allowedAttrs","GradientItem","attrKey","Rect","pt","Circle","Line","defaultCollider","hasSize","PI_2","lineAngle","rotatePoint","polylineToPolygonCollider","open","forceOrientation","unshift","currToPrev","currToNext","openAngle","closeAngle","maxAngle","minAngle","openClose","prevToCurr","opened","closed","nextToCurr","flatten2d","newAry","isClosed","Path","visual","flatten","hasData","_textBoundsFn","Text","gradientitem","contextFactory","whitelist","states","save","restore","styleContext","doEvent","updateState","traverse","siblings","displayNode","isIdentity","scene","LINEBREAK_REGEX","WHITESPACE_REGEX","HYPHEN_REGEX","NO_BREAK","MANDATORY","BREAK_ALLOWED","includesLineBreak","search","includesWhiteSpace","hyphenationAllowed","resolveBreakOpportunity","chunk","chunks","mandatory","noBreakAllowed","cleanEmptyChunks","stringTokenizer","string","separator","mandatoryBreakIdentifiers","noBreakAllowedIdentifiers","suppressIdentifier","hyphenationIdentifiers","isNotDone","peek","peekAt","textMeasure","opportunity","breakOpportunity","suppress","hyphenation","done","jumpToPosition","DEFAULT_LINE_HEIGHT","HYPHENS_CHAR","ELLIPSIS_CHAR","resolveMaxAllowedLines","measuredLineHeight","calcLineHeight","char","newLine","appendToLine","insertHyphenAndJump","iterator","startIndex","pairToken","breakSequence","charTokenIterator","charToken","breakAll","breakWord","generateLineNodes","_lineBreak","shouldLineBreak","wrappedMeasureText","resolveLineBreakAlgorithm","WORDBREAK","onLineBreak","wordBreakFn","tm","ellipsText","reduceIndex","reduceText","substr","baselineHeuristic","textNode","heightMeasureCache","widthMeasureCache","canvasCache","measureTextWidth","createElement","getContext","font","measureTextHeight","calcTextBounds","measureFn","calWidth","lineBreakFn","resolvedLineBreaks","nodeCopy","widestLine","createCanvasGradient","gradient","newGradient","theX","theY","createRadialGradient","createLinearGradient","addColorStop","createRendererBox","destory","injectTextBoundsFn","toLineDash","dpiScale","dpr","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","resolveMatrix","setTransform","applyContext","shapeToCanvasMap","computedKeys","shapeCmd","canvasCmd","convertCmd","renderShapes","fillStyle","strokeStyle","doFill","doStroke","sceneFn","sceneFactory","hasChangedRect","canvasRenderer","ownerDocument","appendChild","dpiRatio","scaleX","scaleY","sceneContainer","newScene","hasChangedScene","doRender","getItemsFrom","newRect","parentElement","renderFn","beginPath","lineTo","rangesOfLChars","rangesOfRChars","rangesOfALChars","rangesOfLRgExp","RegExp","rangesOfRRgExp","rangesOfALRgExp","isLtrChar","isRtlChar","detectTextDirection","textAnchorRTLMap","flipTextAnchor","canvas","bdy","fillText","Path2D","rendererComponent","updatedNew","updatedOld","fromIds","toIds","idMapper","nodeMapper","isTree","createNodes","destroyNodes","creator","maintainer","destroyer","createTree","oldItems","newItems","svgNs","createElementNS","setAttribute","textContent","TreeItemRenderer","treeCreator","nodeCreator","nodeMaintainer","nodeDestroyer","tree","hashObject","hash","chr","charCodeAt","gradients","gradientHashMap","checkGradient","url","gradientHash","gradientId","resetGradients","onGradient","location","href","createDefsNode","treeFn","treeFactory","ns","svg","cloneNode","replaceChild","dNode","dom","vNode","firstChild","LOG_LEVEL","OFF","ERROR","WARN","INFO","DEBUG","loggerFn","level","pipe","console","currentlevel","LOG_FN","error","log","lev","debug","usePlugin","plugin","pic","regis","picassojs","cc","use","about","interactionRegistry","renderers"],"mappings":"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"}