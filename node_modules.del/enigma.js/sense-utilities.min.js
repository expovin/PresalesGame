!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.senseUtilities=n()}(this,function(){"use strict";var b=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function u(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function e(t,r,o,e){return r=r||"&",o=o||"=",null===t&&(t=void 0),"object"==typeof t?a(n(t),function(e){var n=encodeURIComponent(u(e))+o;return b(t[e])?a(t[e],function(e){return n+encodeURIComponent(u(e))}).join(r):n+encodeURIComponent(u(t[e]))}).join(r):e?encodeURIComponent(u(e))+o+encodeURIComponent(u(t)):""}function a(e,n){if(e.map)return e.map(n);for(var t=[],r=0;r<e.length;r++)t.push(n(e[r],r));return t}var n=Object.keys||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n};function t(e,n,t,r){n=n||"&",t=t||"=";var o={};if("string"!=typeof e||0===e.length)return o;var u=/\+/g;e=e.split(n);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var i,c,s=e.length;0<a&&a<s&&(s=a);for(var f=0;f<s;++f){var p,l,d,y,v=e[f].replace(u,"%20"),m=v.indexOf(t);0<=m?(p=v.substr(0,m),l=v.substr(m+1)):(p=v,l=""),d=decodeURIComponent(p),y=decodeURIComponent(l),i=o,c=d,Object.prototype.hasOwnProperty.call(i,c)?b(o[d])?o[d].push(y):o[d]=[o[d],y]:o[d]=y}return o}var d={encode:e,stringify:e,decode:t,parse:t},r=function(){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}();function y(e){return e.replace(/(^[/]+)|([/]+$)/g,"")}return function(){function l(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l)}return r(l,null,[{key:"configureDefaults",value:function(e){e.host||(e.host="localhost"),void 0===e.secure&&(e.secure=!0),e.appId||e.route||(e.route="app/engineData"),void 0===e.noData&&(e.noData=!1)}},{key:"buildUrl",value:function(e){l.configureDefaults(e);var n=e.secure,t=e.host,r=e.port,o=e.prefix,u=e.subpath,a=e.route,i=e.identity,c=e.urlParams,s=e.ttl,f=e.appId,p="";return p+=(n?"wss":"ws")+"://",p+=t||"localhost",r&&(p+=":"+r),o&&(p+="/"+y(o)),u&&(p+="/"+y(u)),a?p+="/"+y(a):f&&""!==f&&(p+="/app/"+encodeURIComponent(f)),i&&(p+="/identity/"+encodeURIComponent(i)),s&&(p+="/ttl/"+s),c&&(p+="?"+d.stringify(c)),p}}]),l}()});
//# sourceMappingURL=sense-utilities.min.js.map
